#
# Experimental container portal configuration
#
# - Based upon /etc/apache2/ucs-sites.conf.d/univention-portal.conf
# - Generated by ansible
#
# Makes the portal in the container available, so that it can be tested out.
#

ProxyPassMatch /(univention-container/portal/.*) http://127.0.0.1:9095/$1 retry=0

# TODO: Redirect to frontend container
<Directory /var/www/univention/portal/>
        <FilesMatch "(portal|apps)\.json|portal\.css">
                Header set Cache-Control "max-age=0, must-revalidate"
        </FilesMatch>
</Directory>
<Directory /var/www/univention/portal/>
        Header set Cache-Control "max-age=0, must-revalidate"
</Directory>


# TODO: UMC? Double check if we really want this
ProxyPassMatch /(univention-container/umc/.*) http://127.0.0.1:9095/$1 retry=0

<Directory /var/www/univention/umc/>
        <FilesMatch "(portal|apps)\.json|portal\.css">
                Header set Cache-Control "max-age=0, must-revalidate"
        </FilesMatch>
</Directory>
<Directory /var/www/univention/umc/>
        Header set Cache-Control "max-age=0, must-revalidate"
</Directory>
