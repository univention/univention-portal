!function(c){function e(e){for(var t,n,o=e[0],i=e[1],a=e[2],r=0,s=[];r<o.length;r++)n=o[r],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&s.push(u[n][0]),u[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);for(f&&f(e);s.length;)s.shift()();return d.push.apply(d,a||[]),l()}function l(){for(var e,t=0;t<d.length;t++){for(var n=d[t],o=!0,i=1;i<n.length;i++){var a=n[i];0!==u[a]&&(o=!1)}o&&(d.splice(t--,1),e=r(r.s=n[0]))}return e}var n={},u={app:0},d=[];function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=c,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var t=(o=window.webpackJsonp=window.webpackJsonp||[]).push.bind(o);o.push=e;for(var o=o.slice(),i=0;i<o.length;i++)e(o[i]);var f=t;d.push([0,"chunk-vendors"]),l()}({0:function(e,t,n){e.exports=n("cd49")},"02b3":function(e,t,n){"use strict";n("1e25")},"0333":function(e,t,n){},"052d":function(e,t,n){"use strict";n("432c")},"08a6":function(e,t,n){},"0eef":function(e,t,n){},1070:function(e,t,n){"use strict";n("6e36")},"10f2":function(e,t,n){},1189:function(e,t,n){},1773:function(e,t,n){"use strict";n("1189")},"1a47":function(e,t,n){"use strict";n("b9ea")},"1b2b":function(e,t,n){"use strict";n("3c6f")},"1ba4":function(e,t,n){},"1d1d":function(e,t,n){},"1e25":function(e,t,n){},"200c":function(e,t,n){},2158:function(e,t,n){},2503:function(e,t,n){"use strict";n("7ce0")},"26de":function(e,t,n){"use strict";n("2bdf")},"2b04":function(e,t,n){},"2bdf":function(e,t,n){},"2e3a":function(e,t,n){"use strict";n("d661")},"2eae":function(e,t,n){},"33b9":function(e,t,n){"use strict";n("5d1f")},"33d6":function(e,t,n){"use strict";n("b98e")},"342f5":function(e,t,n){},"372d":function(e,t,n){},"3a99":function(e,t,n){},"3b05":function(e,t,n){"use strict";n("f608")},"3c6f":function(e,t,n){},"3dc4":function(e,t,n){"use strict";n("48a8")},"3f3b":function(e,t,n){},"41f7":function(e,t,n){"use strict";n("10f2")},"432c":function(e,t,n){},"447e":function(e,t,n){"use strict";n("1d1d")},4652:function(e,t,n){"use strict";n("cf6a")},"479a":function(e,t,n){},"48a8":function(e,t,n){},"4a85":function(e,t,n){"use strict";n("372d")},"4b25":function(e,t,n){"use strict";n("342f5")},"510e":function(e,t,n){"use strict";n("da67")},"526c":function(e,t,n){"use strict";n("0333")},5371:function(e,t,n){},5701:function(e,t,n){"use strict";n("3a99")},"588a":function(e,t,n){"use strict";n("832c")},"59e5":function(e,t,n){"use strict";n("200c")},"5d1f":function(e,t,n){},"5ed8":function(e,t,n){},6489:function(e,t,n){},"662f":function(e,t,n){},6875:function(e,t,n){},"6b34":function(e,t,n){},"6e36":function(e,t,n){},"71d1":function(e,t,n){"use strict";n("9bae")},"78cc":function(e,t,n){},7966:function(e,t,n){},"7bed":function(e,t,n){"use strict";n("ec08")},"7ce0":function(e,t,n){},"7e93":function(e,t,n){"use strict";n("7966")},"832c":function(e,t,n){},8337:function(e,t,n){},8610:function(e,t,n){"use strict";n("8edf")},"8bc6":function(e,t,n){"use strict";n("c8e5")},"8c29":function(e,t,n){},"8edf":function(e,t,n){},"903f":function(e,t,n){"use strict";n("dcc0")},9083:function(e,t,n){"use strict";n("2b04")},9222:function(e,t,n){},9308:function(e,t,n){},9753:function(e,t,n){"use strict";n("8c29")},"9a93":function(e,t,n){"use strict";n("479a")},"9bae":function(e,t,n){},"9ce5":function(e,t,n){"use strict";n("a5e0")},a2a6:function(e,t,n){"use strict";n("5ed8")},a5e0:function(e,t,n){},a642:function(e,t,n){"use strict";n("c22c")},a6de:function(e,t,n){"use strict";n("e443")},b49c:function(e,t,n){"use strict";n("1ba4")},b500:function(e,t,n){},b56e:function(e,t,n){"use strict";n("08a6")},b7de:function(e,t,n){"use strict";n("b500")},b98e:function(e,t,n){},b9ea:function(e,t,n){},b9ee:function(e,t,n){"use strict";n("2158")},ba8a:function(e,t,n){},baff:function(e,t,n){"use strict";n("2eae")},bdf6:function(e,t,n){"use strict";n("0eef")},c023:function(e,t,n){"use strict";n("6489")},c22c:function(e,t,n){},c8e5:function(e,t,n){},ca2e:function(e,t,n){"use strict";n("3f3b")},cd49:function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d");var j=n("7a23");var r=n("1da1"),l=n("5530"),u=(n("96cf"),{class:"cookie-banner"});var o=n("5502"),d=(n("5319"),n("ac1f"),n("3835")),i=(n("d3b7"),n("159b"),n("b64b"),n("4fad"),n("bc3a")),s=n.n(i),a={},c=Object(j.v)({});function f(){return(f=Object(r.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(o){return new Promise(function(t,e){var n;o in a?(n=a[o])?t(n):e():s.a.get("./i18n/".concat(o,".json")).then(function(e){e=e.data;a[o]=e,t(e)},function(){e()})})}(t).then(function(e){return Object.keys(c).forEach(function(e){return delete c[e]}),Object.entries(e).forEach(function(e){var t=Object(d.a)(e,2),e=t[0],t=t[1];c[e]=t}),e},function(){Object.keys(c).forEach(function(e){return delete c[e]})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var p=function(e,n){return e.replace(/\%\((.*?)\)s/g,function(e,t){return n[t]})};function m(e,t){e=c[e]||e;return t?p(e,t):e}var b={class:"dialog__header"},g={key:0},h={key:1};n("1276"),n("fb6a"),n("99af"),n("25f0");var v=/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))$/,O=/^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$/,y=/^(?=.{1,254}$)((?=[a-z0-9-]{1,63}\.)[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,63}$/i;function T(e){return v.test(e)}function L(e){return y.test(e)}function k(e){var o={};return document.cookie.split("; ").forEach(function(e){var t=e.indexOf("="),n=e.slice(0,t),t=e.slice(t+1);o[n]=t}),o[e]}var _=Object({VUE_APP_THEME_PATH:"/univention/theme.css",VUE_APP_LANGUAGE_DATA:"/univention/languages.json",VUE_APP_META_DATA:"/univention/meta.json",VUE_APP_PORTAL_DATA:"./portal.json",NODE_ENV:"production",BASE_URL:""}).VUE_APP_COOKIE_PATH||"/univention/";function S(e,t,n){var o=new Date;o.setTime(o.getTime()+864e7),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(o.toUTCString(),"; path=").concat(n||_,"; SameSite=Strict")}function w(e,t,n){t=e.$refs[t];n?t.setAttribute("invalid","invalid"):t.removeAttribute("invalid")}function E(){return Math.random().toString(36).substr(2)}var D=Object(j.k)({name:"TabindexElement",props:{id:{type:String,required:!0},tag:{type:String,required:!0},activeAt:{type:Array,required:!0}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({activityLevel:"activity/level"})),{},{tabIndex:function(){return-1<this.activeAt.indexOf(this.activityLevel)?0:-1}}),methods:{saveFocus:function(){this.$store.dispatch("activity/saveFocus",{id:this.id})}}});D.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)(Object(j.B)(e.tag),{id:e.id,tabindex:e.tabIndex,onFocus:e.saveFocus},{default:Object(j.J)(function(){return[Object(j.y)(e.$slots,"default")]}),_:3},8,["id","tabindex","onFocus"])};var A=D,x={class:"portal-icon",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true"};var I=Object(j.k)({name:"PortalIcon",props:{icon:{type:String,required:!0}}});n("71d1"),I.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)("svg",x,[Object(j.j)("use",{"xlink:href":"feather-sprite.svg#".concat(e.icon)},null,8,["xlink:href"])])};var M=I,C=Object(j.k)({name:"IconButton",components:{PortalIcon:M,TabindexElement:A},props:{id:{type:String,default:function(){return"icon-button-".concat(E())}},icon:{type:String,required:!0},activeAt:{type:Array,default:function(){return["portal"]}},ariaLabelProp:{type:String,required:!0},hasButtonStyle:{type:Boolean,default:!1}},emits:["click"]});n("1b2b"),C.render=function(t,e,n,o,i,a){var r=Object(j.z)("portal-icon"),s=Object(j.z)("tabindex-element");return Object(j.t)(),Object(j.f)(s,{id:t.id,ref:"icon-button","active-at":t.activeAt,"aria-label":t.ariaLabelProp,class:[{"icon-button--button-style":t.hasButtonStyle},"icon-button"],tag:"button",type:"button",onClick:e[1]||(e[1]=Object(j.M)(function(e){return t.$emit("click")},["prevent","stop"]))},{default:Object(j.J)(function(){return[Object(j.y)(t.$slots,"default"),Object(j.j)(r,{icon:t.icon},null,8,["icon"])]}),_:3},8,["id","active-at","aria-label","class"])};var $=C,N=Object(j.k)({name:"ModalDialog",components:{IconButton:$},props:{i18nTitleKey:{type:String,default:""},title:{type:String,default:""},modalLevel:{type:String,default:"modal"},cancelAllowed:{type:Boolean,required:!1,default:!0}},emits:["cancel"],computed:Object(l.a)(Object(l.a)({},Object(o.b)({getModalState:"modal/getModalState"})),{},{I18N_TITLE_KEY:function(){return m("%(key1)s",{key1:this.i18nTitleKey})},CANCEL:function(){return m("Cancel")},labelledbyId:function(){return"".concat(this.$.uid,"-labelledby")},describedbyId:function(){return"".concat(this.$.uid,"-describedby")},isFocusable:function(){return!this.getModalState("secondLevelModal")}}),methods:{cancel:function(){this.cancelAllowed&&this.$emit("cancel")}}});n("b7de"),N.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)("section",{class:["dialog",{"dialog--unfocusable":!t.isFocusable}],role:"dialog","aria-modal":"true","aria-labelledby":t.labelledbyId,"aria-describedby":t.describedbyId,onKeydown:e[2]||(e[2]=Object(j.L)(function(e){return t.cancel()},["esc"]))},[Object(j.j)("header",b,[Object(j.j)("h3",{id:t.labelledbyId},[t.i18nTitleKey?(Object(j.t)(),Object(j.f)("span",g,Object(j.D)(t.I18N_TITLE_KEY),1)):(Object(j.t)(),Object(j.f)("span",h,Object(j.D)(t.title),1))],8,["id"]),t.cancelAllowed?(Object(j.t)(),Object(j.f)(r,{key:0,icon:"x","aria-label-prop":t.CANCEL,"active-at":[t.modalLevel],onClick:e[1]||(e[1]=function(e){return t.cancel()})},null,8,["aria-label-prop","active-at"])):Object(j.g)("",!0)]),Object(j.j)("div",{id:t.describedbyId},[Object(j.y)(t.$slots,"description")],8,["id"]),Object(j.y)(t.$slots,"default")],42,["aria-labelledby","aria-describedby"])};var V=N;n("a9e3");var P=Object(j.k)({name:"ModalWrapper",inheritAttrs:!1,props:{isActive:{type:Boolean,required:!0},full:{type:Boolean,default:!1},modalLevel:{type:Number,default:1},teleportToBody:{type:Boolean,default:!0}},emits:["backgroundClick"],computed:{isSecondModalActive:function(){return 2===this.modalLevel&&this.isActive},setID:function(){return this.isActive?"modal-wrapper--isVisible-".concat(this.modalLevel):null}}});n("df6c"),P.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)(j.b,{disabled:!t.teleportToBody,to:"body"},[Object(j.j)("div",Object(j.o)(t.$attrs,{id:t.setID,class:{"modal-wrapper":!t.isActive,"modal-wrapper--isVisible":t.isActive,"modal-wrapper--isVisibleFullscreen":t.isActive&&t.full,"modal-wrapper--isSecondLayer":t.isSecondModalActive},onClick:e[1]||(e[1]=Object(j.M)(function(e){t.$emit("backgroundClick",e)},["self"]))}),[Object(j.y)(t.$slots,"default")],16,["id"])],8,["disabled"])};var B=P,R=Object(j.k)({name:"CookieBanner",components:{ModalWrapper:B,ModalDialog:V},emits:["dismissed"],computed:Object(l.a)(Object(l.a)({},Object(o.b)({metaData:"metaData/getMeta"})),{},{cookieName:function(){return this.metaData.cookieBanner.cookie||"univentionCookieSettingsAccepted"},cookieTitle:function(){return this.$localized(this.metaData.cookieBanner.title)||m("Cookie Settings")},cookieText:function(){return this.$localized(this.metaData.cookieBanner.text)||m('We use cookies in order to provide you with certain functions and to be able to guarantee an unrestricted service. By clicking on "Accept", you consent to the collection of information on this portal.')},ACCEPT:function(){return m("Accept")}}),mounted:function(){this.$store.dispatch("activity/setLevel","cookies"),this.$refs.acceptButton.focus()},methods:{setCookies:function(){S(this.cookieName,"do-not-change-me","/"),this.dismissCookieBanner()},dismissCookieBanner:function(){this.$store.dispatch("activity/setLevel","portal"),this.$emit("dismissed")}}});n("9753"),R.render=function(t,e,n,o,i,a){var r=Object(j.z)("modal-dialog"),s=Object(j.z)("modal-wrapper"),c=Object(j.A)("dompurify-html");return Object(j.t)(),Object(j.f)(s,{"is-active":!0,full:!0,"teleport-to-body":!1},{default:Object(j.J)(function(){return[Object(j.j)(r,{title:t.cookieTitle,"cancel-allowed":!1},{default:Object(j.J)(function(){return[Object(j.j)("main",u,[Object(j.K)(Object(j.j)("div",null,null,512),[[c,t.cookieText]])]),Object(j.j)("footer",null,[Object(j.j)("button",{ref:"acceptButton",class:"primary",onClick:e[1]||(e[1]=Object(j.M)(function(e){return t.setCookies()},["stop"]))},[Object(j.j)("span",null,Object(j.D)(t.ACCEPT),1)],512)])]}),_:1},8,["title"])]}),_:1})};var F=R;function U(e){"saml"===e.authMode?window.location.href="/univention/saml/?location=".concat(window.location.pathname):window.location.href="/univention/login/?location=".concat(window.location.pathname)}var q=Object(j.k)({name:"App",components:{CookieBanner:F},data:function(){return{cookieBannerDismissed:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({userState:"user/userState",metaData:"metaData/getMeta"})),{},{showCookieBanner:function(){var e=this.metaData.cookieBanner.cookie||"univentionCookieSettingsAccepted";return this.metaData.cookieBanner.show&&!k(e)&&!this.cookieBannerDismissed}}),mounted:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("activateLoadingState"),e.next=3,n.$store.dispatch("loadPortal",{adminMode:!1});case 3:(t=e.sent).portal&&t.portal.ensureLogin&&!n.userState.username&&U(n.userState),n.$store.dispatch("deactivateLoadingState");case 6:case"end":return e.stop()}},e)}))()},methods:{hideCookieBanner:function(){this.cookieBannerDismissed=!0}}});q.render=function(e,t,n,o,i,a){var r=Object(j.z)("cookie-banner"),s=Object(j.z)("router-view");return Object(j.t)(),Object(j.f)(j.a,null,[e.showCookieBanner?(Object(j.t)(),Object(j.f)(r,{key:0,onDismissed:e.hideCookieBanner},null,8,["onDismissed"])):Object(j.g)("",!0),Object(j.j)(s)],64)};var W=q,z=(n("a4d3"),n("e01a"),n("d81d"),n("3ca3"),n("ddb0"),n("ade3"));function G(e,t,n){var o=k("UMCSessionId"),i=k("UMCLang"),a={"X-Requested-With":"XMLHttpRequest"};i&&(a["Accept-Language"]=i),o&&(a["X-XSRF-Protection"]=o);t={options:t||{}};return n&&(t.flavor=n),s.a.post("/univention/".concat(e),t,{headers:a})}function J(e,t,n){return G("command/".concat(e),t,n).then(function(e){return e.data.result}).catch(function(e){if("response"in e&&"data"in e.response)throw e.response.data;throw new Error("Unknown error")})}function H(e,t,n,o){return e.dispatch("activateLoadingState"),J(t,n,o).finally(function(){e.dispatch("deactivateLoadingState")})}function K(e,t){return G("command/udm/put",[{object:Object(l.a)(Object(l.a)({},t),{},{$dn$:e}),options:null}],"portals/all")}function Y(){return X.apply(this,arguments)}function X(){return(X=Object(r.a)(regeneratorRuntime.mark(function e(o,i,a,r){var s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t=o,n=i,G("command/udm/add",[{object:Object(l.a)({},n),options:{objectType:t}}],"portals/all");case 3:if(s=e.sent,(s=s.data.result[0]).success){e.next=7;break}throw new Error(s.details);case 7:return e.abrupt("return",s.$dn$);case 10:e.prev=10,e.t0=e.catch(0),a.dispatch("notifications/addErrorNotification",{title:r,description:e.t0.message});case 13:return e.abrupt("return","");case 14:case"end":return e.stop()}var t,n},e,null,[[0,10]])}))).apply(this,arguments)}function Q(){return Z.apply(this,arguments)}function Z(){return(Z=Object(r.a)(regeneratorRuntime.mark(function e(t,n,o,i,a){var r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.dispatch,e.prev=1,e.next=4,K(t,n);case 4:if(s=e.sent,(s=s.data.result[0]).success){e.next=8;break}throw new Error(s.details);case 8:return a&&r("notifications/addSuccessNotification",{title:a},{root:!0}),e.next=11,r("portalData/waitForChange",{retries:10,adminMode:!0},{root:!0});case 11:return e.next=13,r("loadPortal",{adminMode:!0},{root:!0});case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(1),r("notifications/addErrorNotification",{title:i,description:e.t0.message},{root:!0}),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(r.a)(regeneratorRuntime.mark(function e(t,n,o,i){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.prev=1,e.next=4,G("command/udm/remove",[{object:t,options:{cleanup:!0,recursive:!0}}],"portals/all");case 4:if(r=e.sent,(r=r.data.result[0]).success){e.next=8;break}throw new Error(r.details);case 8:return a("notifications/addSuccessNotification",{title:o},{root:!0}),e.next=11,a("portalData/waitForChange",{retries:10,adminMode:!0},{root:!0});case 11:return e.next=13,a("loadPortal",{adminMode:!0},{root:!0});case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(1),a("notifications/addErrorNotification",{title:i,description:e.t0.message},{root:!0}),e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function ne(){return Object({VUE_APP_THEME_PATH:"/univention/theme.css",VUE_APP_LANGUAGE_DATA:"/univention/languages.json",VUE_APP_META_DATA:"/univention/meta.json",VUE_APP_PORTAL_DATA:"./portal.json",NODE_ENV:"production",BASE_URL:""}).VUE_APP_LOCAL&&!!localStorage.getItem("UCSAdmin")||!1}function oe(){return ie.apply(this,arguments)}function ie(){return(ie=Object(r.a)(regeneratorRuntime.mark(function e(t,n,o,i,a,r){var s,c,l,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.dispatch,c=i.getters,l=c["portalData/getPortalDn"],d="entries",f=[],f="$$user$$"===(u=t)?(u=l,d="userLinks",c["portalData/userLinks"]):"$$menu$$"===t?(u=l,d="menuLinks",c["portalData/menuLinks"]):n.find(function(e){return e.dn===t}).entries,f=Object(z.a)({},d,f.concat([o])),e.abrupt("return",Q(u,f,{dispatch:s},r,a));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(){return re.apply(this,arguments)}function re(){return(re=Object(r.a)(regeneratorRuntime.mark(function e(t,n,o,i,a,r){var s,c,l,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.dispatch,c=i.getters,l=c["portalData/getPortalDn"],d="entries",f=[],f="$$user$$"===(u=t)?(u=l,d="userLinks",c["portalData/userLinks"]):"$$menu$$"===t?(u=l,d="menuLinks",c["portalData/menuLinks"]):n.find(function(e){return e.dn===t}).entries,f=Object(z.a)({},d,f.filter(function(e){return e!==o})),e.abrupt("return",Q(u,f,{dispatch:s},r,a));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}n("7db0"),n("4de4");var se={namespaced:!0,state:{level:"portal",focus:{},region:"",message:""},mutations:{ADD_REGION:function(e,t){e.focus[t]=e.focus[t]||""},SET_REGION:function(e,t){e.region=t},SET_LEVEL:function(e,t){e.level=t},SET_MESSAGE:function(e,t){e.message=t},SAVE_FOCUS:function(e,t){var n,o,i=t.region,a=document.getElementById(t.id);i||!e.region||(n=document.getElementById(e.region))&&n.contains(a)&&(i=e.region),i||(o=null,Object.entries(e.focus).forEach(function(e){var t=Object(d.a)(e,1)[0],e=document.getElementById(t);e&&(o&&e.contains(o)||e.contains(a)&&(i=t,o=e))})),i&&(e.focus[i]=t.id)}},getters:{level:function(e){return e.level},focus:function(e){return e.focus},region:function(e){return e.region},message:function(e){return e.message}},actions:{addRegion:function(e,t){(0,e.commit)("ADD_REGION",t)},setRegion:function(e,t){var n=e.dispatch;(0,e.commit)("SET_REGION",t),n("focusElement",t)},setLevel:function(e,t){(0,e.commit)("SET_LEVEL",t)},setMessage:function(e,t){(0,e.commit)("SET_MESSAGE",t)},focusElement:function(t,o){return Object(r.a)(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getters,o){e.next=3;break}return e.abrupt("return");case 3:setTimeout(function(){var e=n.focus[o],t=document.getElementById(e);t||(e=null==(e=document.getElementById(o))?void 0:e.querySelector('[tabindex="0"][id]'))&&(t=document.getElementById(e.id)),null===t||void 0===t||t.focus()},50);case 4:case"end":return e.stop()}},e)}))()},saveFocus:function(e,t){e=e.commit;t.id&&e("SAVE_FOCUS",t)}}},ce={namespaced:!0,state:{layoutId:"",draggedType:"",dragType:"mouse",originalLayout:null,lastDir:"left",isWindowMouseListenerSet:!1,title:""},mutations:{SET_IDS:function(e,t){e.layoutId=t.layoutId,void 0!==t.draggedType&&(e.draggedType=t.draggedType),void 0!==t.originalLayout&&(e.originalLayout=t.originalLayout),e.dragType=t.dragType||"mouse"},LAST_DIR:function(e,t){e.lastDir=t},IS_WINDOW_MOUSE_LISTENER_SET:function(e,t){e.isWindowMouseListenerSet=t}},getters:{getId:function(e){return e},inDragnDropMode:function(e){return!!e.layoutId},inKeyboardDragnDropMode:function(e,t){return t.inDragnDropMode&&"keyboard"===e.dragType},getLastDir:function(e){return e.lastDir},isWindowMouseListenerSet:function(e){return e.isWindowMouseListenerSet}},actions:{startDragging:function(e,t){var n,o=e.commit,i=e.dispatch,a=e.getters,e=e.rootGetters;t.saveOriginalLayout&&(n={layout:JSON.parse(JSON.stringify(e["portalData/portalLayout"])),baseLayout:JSON.parse(JSON.stringify(e["portalData/portalBaseLayout"]))}),o("SET_IDS",{layoutId:t.layoutId,draggedType:t.draggedType,originalLayout:n,dragType:t.dragType}),i("activity/saveFocus",{region:"portalCategories",id:"".concat(t.layoutId,"-move-button")},{root:!0}),"keyboard"!==t.dragType||a.isWindowMouseListenerSet||(window.addEventListener("mousedown",function(e){i("maybeCancelDragging"),o("IS_WINDOW_MOUSE_LISTENER_SET",!1)},{once:!0,capture:!0}),o("IS_WINDOW_MOUSE_LISTENER_SET",!0))},dropped:function(e){(0,e.commit)("SET_IDS",{layoutId:"",draggedType:"",originalLayout:null})},cancelDragging:function(e){var t=e.dispatch,e=e.getters.getId.originalLayout;e&&t("portalData/setLayout",e,{root:!0}),t("dropped"),t("activity/focusElement","portalCategories",{root:!0})},maybeCancelDragging:function(e){var t=e.dispatch;e.getters.inKeyboardDragnDropMode&&t("cancelDragging")},lastDir:function(e,t){(0,e.commit)("LAST_DIR",t)}}},le=(n("13d5"),{namespaced:!0,state:{locale:"en_US",defaultLocale:null,availableLocales:["en_US"],localeLabels:{}},mutations:{NEWLOCALE:function(e,t){e.locale=t},DEFAULT_LOCALE:function(e,t){e.defaultLocale=t},AVAILABLE_LOCALES:function(e,t){e.availableLocales=t},LOCALE_LABELS:function(e,t){e.localeLabels=t}},getters:{getLocale:function(e){return e.locale},getDefaultLocale:function(e){return e.defaultLocale},getAvailableLocales:function(e){return e.availableLocales},getLocaleLabels:function(e){return e.localeLabels}},actions:{setLocale:function(e,t){var n=e.commit,e=e.dispatch;n("NEWLOCALE",t);n=t.replace("_","-");e("menu/setDisabled",["menu-item-language-".concat(n)],{root:!0}),S("UMCLang",n);t=t.slice(0,2);return document.documentElement.setAttribute("lang",t),function(){return f.apply(this,arguments)}(t)},setInitialLocale:function(e){var n=e.getters,t=e.dispatch;1===n.getAvailableLocales.length&&t("setLocale",n.getAvailableLocales[0]);e=k("UMCLang");if(e)return t("setLocale",e.replace("-","_"));if(n.getDefaultLocale)return t("setLocale",n.getDefaultLocale);if(window.navigator.languages){var o=null;if(window.navigator.languages.some(function(t){return!!(o=n.getAvailableLocales.find(function(e){return e===t.replace("-","_")||e.slice(0,2)===t}))}),o)return t("setLocale",o)}return t("setLocale","en_US")},setAvailableLocale:function(e,t){var n=e.dispatch,e=e.commit;e("AVAILABLE_LOCALES",t.map(function(e){return e.id.replace("-","_")}).sort(function(e,t){return"en_US"===e||"en_US"!==t&&e<t?-1:1})),e("LOCALE_LABELS",t.reduce(function(e,t){var n=t.id.replace("-","_");return e[n]="".concat(t.label," (").concat(n,")"),e},{}));t=t.find(function(e){return e.default});return t&&e("DEFAULT_LOCALE",t.id.replace("-","_")),document.documentElement.setAttribute("lang","en"),n("setInitialLocale")}}});function ue(e){if(!e)return[];var t=e.menu_links,n=e.entries,o=e.folders,i=e.portal.defaultLinkTarget;return t.map(function(e){return function t(n,o,i,a){var e=o.find(function(e){return e.dn===n});return e?{id:"menu-item-".concat(E()),title:e.name,description:e.description,links:e.links,linkTarget:"useportaldefault"===e.linkTarget?a:e.linkTarget,target:e.target,pathToLogo:e.logo_name,backgroundColor:e.backgroundColor}:(e=i.find(function(e){return e.dn===n}),{id:"menu-".concat(E()),title:e.name,subMenu:e.entries.map(function(e){return t(e,o,i,a)})})}(e,n,o,i)})}function de(e){if(!e)return[];var t=e.user_links,o=e.entries,i=e.portal.defaultLinkTarget,e=t.map(function(e){return t=e,n=i,(e=(e=o).find(function(e){return e.dn===t}))?{id:"menu-item-".concat(E()),title:e.name,description:e.description,links:e.links,linkTarget:"useportaldefault"===e.linkTarget?n:e.linkTarget,target:e.target,pathToLogo:e.logo_name,backgroundColor:e.backgroundColor}:null;var t,n}).filter(function(e){return!!e}),t={id:"menu-".concat(E()),title:{de_DE:"Benutzereinstellungen",en_US:"User settings",fr_FR:"Réglages utilisateur"},linkTarget:"samewindow",subMenu:e};return e.length?t:null}n("b0c0");var fe={namespaced:!0,state:{menu:[],disabled:[]},mutations:{MENU:function(e,t){var n,o=ue(t.portal),n=(n=t.availableLocales).length<2?null:(n=n.map(function(t){return{id:"menu-item-language-".concat(t.id),title:{en_US:t.label},linkTarget:"internalFunction",internalFunction:function(e){return e.$store.dispatch("locale/setLocale",t.id.replace("-","_")),!1},links:[]}}),{id:"menu-".concat(E()),title:{de_DE:"Sprache ändern",en_US:"Change Language",fr_FR:"Changer de langue"},linkTarget:"samewindow",subMenu:n}),t=de(t.portal);n&&o.unshift(n),t&&o.unshift(t),e.menu=o},DISABLED:function(e,t){e.disabled=t}},getters:{getMenu:function(e){return e.menu},disabledMenuItems:function(e){return e.disabled}},actions:{setMenu:function(e,t){(0,e.commit)("MENU",t)},setDisabled:function(e,t){(0,e.commit)("DISABLED",t)}}},pe={namespaced:!0,state:{meta:{cookieBanner:{show:!1,title:{en:""},text:{en:""}}}},mutations:{META:function(e,t){e.meta=t}},getters:{getMeta:function(e){return e.meta}},actions:{setMeta:function(e,t){(0,e.commit)("META",t)}}},be={namespaced:!0,state:{activeButton:""},mutations:{ACTIVEBUTTON:function(e,t){e.activeButton=t}},getters:{getActiveButton:function(e){return e.activeButton}},actions:{setActiveButton:function(e,t){var n=e.commit,o=e.dispatch,e=e.rootGetters["modal/inFolderModal"];"search"===t&&e||!t&&e||(o("modal/hideAndClearModal",void 0,{root:!0}),e=!1),"search"===t&&o("tabs/setActiveTab",0,{root:!0}),"bell"===t&&o("notifications/hideAllNotifications",void 0,{root:!0}),e||o("activity/setLevel",t?"header-".concat(t):"portal",{root:!0}),n("ACTIVEBUTTON",t)},closeNotificationsSidebar:function(e){var t=e.dispatch;"bell"===e.getters.getActiveButton&&(t("setActiveButton",""),t("activity/setRegion","portal-header",{root:!0}))}}},me={namespaced:!0,state:{firstLevelModal:{modalVisible:!1,modalComponent:null,modalProps:{},modalStubborn:!1,modalResolve:function(){},modalReject:function(){}},secondLevelModal:{modalVisible:!1,modalComponent:null,modalProps:{},modalStubborn:!1,modalResolve:function(){},modalReject:function(){}}},mutations:{CHANGE_MODAL_PROPS:function(e,t){var n=2===t.level?"secondLevelModal":"firstLevelModal";e[n].modalProps=Object(l.a)(Object(l.a)({},e[n].modalProps),t.props)},SET_MODAL:function(e,t){var n=2===t.level?"secondLevelModal":"firstLevelModal";e[n].modalComponent=t.name,e[n].modalProps=t.props||{},e[n].modalStubborn=t.stubborn||!1,e[n].modalResolve=t.resolve||function(){},e[n].modalReject=t.reject||function(){}},CLEAR_MODAL:function(e,t){t=2===t?"secondLevelModal":"firstLevelModal";e[t].modalComponent=null,e[t].modalProps={},e[t].modalStubborn=!1,e[t].modalResolve=function(){},e[t].modalReject=function(){}},SHOW_MODAL:function(e,t){e[2===t?"secondLevelModal":"firstLevelModal"].modalVisible=!0},HIDE_MODAL:function(e,t){e[2===t?"secondLevelModal":"firstLevelModal"].modalVisible=!1},RESOLVE:function(e,t){e[2===t.level?"secondLevelModal":"firstLevelModal"].modalResolve(t)},REJECT:function(e,t){e[2===t?"secondLevelModal":"firstLevelModal"].modalReject()},ENABLE_BODY_SCROLLING:function(){document.body.classList.remove("body--has-modal")},DISABLE_BODY_SCROLLING:function(){document.body.classList.add("body--has-modal")}},getters:{inFolderModal:function(e){return"PortalFolder"===e.firstLevelModal.modalComponent},getModalState:function(t){return function(e){return t[e].modalVisible}},getModalComponent:function(t){return function(e){return t[e].modalComponent}},getModalProps:function(t){return function(e){return t[e].modalProps}},getModalStubborn:function(t){return function(e){return t[e].modalStubborn}}},actions:{changeModalProps:function(e,t){(0,e.commit)("CHANGE_MODAL_PROPS",t)},setAndShowModal:function(e,t){var n=e.commit,e=e.dispatch;n("SET_MODAL",t),n("SHOW_MODAL",t.level),n("DISABLE_BODY_SCROLLING"),e("activity/setLevel",2===t.level?"modal2":"modal",{root:!0})},setShowModalPromise:function(e,n){var o=e.dispatch;return new Promise(function(e,t){o("setAndShowModal",Object(l.a)(Object(l.a)({},n),{},{resolve:e,reject:t}))})},hideAndClearModal:function(e,t){var n=e.getters,o=e.commit,e=e.dispatch;n.getModalState&&e("activity/setLevel",2===t?"modal":"portal",{root:!0}),o("HIDE_MODAL",t),o("CLEAR_MODAL",t),2!==t&&o("ENABLE_BODY_SCROLLING")},resolve:function(e,t){e.state,(0,e.commit)("RESOLVE",t)},reject:function(e,t){e.state,(0,e.commit)("REJECT",t)},enableBodyScrolling:function(e){(0,e.commit)("ENABLE_BODY_SCROLLING")},disableBodyScrolling:function(e){(0,e.commit)("DISABLE_BODY_SCROLLING")},closeFolder:function(e){var t=e.getters,e=e.dispatch;t.inFolderModal&&(e("modal/hideAndClearModal",null,{root:!0}),e("tooltip/unsetTooltip",null,{root:!0}),e("activity/setRegion","portalCategories",{root:!0}))}}},ge=n("2909"),he=(n("a434"),{namespaced:!0,state:{notifications:[]},mutations:{ADD_NOTIFICATION:function(e,t){e.notifications.push(t)},REMOVE_NOTIFICATION:function(e,t){t=e.notifications.indexOf(t);e.notifications.splice(t,1)},HIDE_NOTIFICATION:function(e,t){t.hidingAfter=-1,t.visible=!1}},getters:{allNotifications:function(e){return e.notifications},visibleNotifications:function(e){return e.notifications.filter(function(e){return e.visible})},numNotifications:function(e){return e.notifications.length}},actions:{addWeightedNotification:function(e,t){var n=e.commit,e=e.rootGetters,t=Object(l.a)(Object(l.a)({},t),{},{visible:!0,token:Math.random()});n("ADD_NOTIFICATION",t),"bell"===e["navigation/getActiveButton"]&&n("HIDE_NOTIFICATION",t)},addErrorNotification:function(e,t){(0,e.dispatch)("addWeightedNotification",Object(l.a)(Object(l.a)({hidingAfter:4},t),{},{importance:"error"}))},addSuccessNotification:function(e,t){(0,e.dispatch)("addWeightedNotification",Object(l.a)(Object(l.a)({hidingAfter:4},t),{},{importance:"success"}))},addNotification:function(e,t){(0,e.dispatch)("addWeightedNotification",Object(l.a)(Object(l.a)({hidingAfter:4},t),{},{importance:"default"}))},removeAllNotifications:function(e){var t=e.commit,e=e.getters;Object(ge.a)(e.allNotifications).forEach(function(e){t("REMOVE_NOTIFICATION",e)})},hideAllNotifications:function(e){var t=e.commit;e.getters.visibleNotifications.forEach(function(e){t("HIDE_NOTIFICATION",e)})},removeNotification:function(e,t){var n=e.commit,e=e.getters.allNotifications.find(function(e){return e.token===t});e&&n("REMOVE_NOTIFICATION",e)},hideNotification:function(e,t){var n=e.commit,e=e.getters.allNotifications.find(function(e){return e.token===t});e&&n("HIDE_NOTIFICATION",e)}}});function ve(e){var t=Pe.getters["locale/getLocale"],n=t.split("_")[0],o="";return o=e?e[t]||e[n]||e.en||e.en_US||"":o}n("caad"),n("2532");var Oe={install:function(e){e.config.globalProperties.$localized=ve}};function je(t,n,o,i,a){var e=n.find(function(e){return e.dn===t.dn});if(e)return{id:t.id,layoutId:t.id,dn:e.dn,title:e.name,isFolder:!1,activated:e.activated,anonymous:e.anonymous,allowedGroups:e.allowedGroups,selectedGroups:[],backgroundColor:e.backgroundColor,description:e.description,keywords:e.keywords,links:e.links,linkTarget:"useportaldefault"===e.linkTarget?i:e.linkTarget,target:e.target,originalLinkTarget:e.linkTarget,pathToLogo:e.logo_name||"./questionMark.svg",key:{de_DE:"de_DE",en_US:"en_US"}};var r=o.find(function(e){return e.dn===t.dn});if(!r)return null;e=t.tiles.map(function(e){var t=je(e,n,o,i,a);return null==(e=t)||e.isFolder,t}).filter(function(e){return null!==e});return e.length||a?{id:t.id,layoutId:t.id,dn:r.dn,title:r.name,isFolder:!0,tiles:e}:null}function ye(e,t){return ve(e.title).toLowerCase().includes(t.toLowerCase())}function Te(e,t){return!e.isFolder&&ve(e.description).toLowerCase().includes(t.toLowerCase())}function Le(e,t){return!e.isFolder&&ve(e.keywords).toLowerCase().includes(t.toLowerCase())}function ke(e,n){return e.length===n.length&&e.every(function(e,t){return e===n[t]})}function _e(e,t,n,o){for(var i=2<arguments.length&&void 0!==n?n:null,a=3<arguments.length&&void 0!==o?o:null,r={categoryIdx:null,folderIdx:null,entryIdx:null,entryType:null,contextType:null},s=0;s<e.length;s+=1){var c=e[s];if(c.id===t){null!==i?(r.categoryIdx=s,r.contextType="category",r.entryType="tile",-1===i?null!==a&&(a.categoryIdx===r.categoryIdx?r.entryIdx=c.tiles.length-1:r.entryIdx=c.tiles.length):r.entryIdx=i):(r.entryIdx=s,r.contextType="root",r.entryType="category"),s=e.length;break}for(var l=0;l<c.tiles.length;l+=1){var u=c.tiles[l];if(u.id===t){r.categoryIdx=s,null!==i?(r.folderIdx=l,r.contextType="folder",r.entryType="tile",-1===i?null!==a&&(a.folderIdx===r.folderIdx?r.entryIdx=u.tiles.length-1:r.entryIdx=u.tiles.length):r.entryIdx=i):(r.entryIdx=l,r.contextType="category",r.entryType="tile"),l=c.tiles.length,s=e.length;break}if(u.tiles)for(var d=0;d<u.tiles.length;d+=1)if(u.tiles[d].id===t){r.categoryIdx=s,r.folderIdx=l,r.entryIdx=d,r.contextType="folder",r.entryType="tile",d=u.tiles.length,l=c.tiles.length,s=e.length;break}}}return r}function Se(e,t){return null!==t.categoryIdx&&(e=e[t.categoryIdx].tiles,null!==t.folderIdx&&(e=e[t.folderIdx].tiles)),e}var we={namespaced:!0,state:{portal:{portal:{name:{en_US:""},background:null,defaultLinkTarget:"embedded",dn:"default",categories:[],logo:null,showUmc:!1,ensureLogin:!1,content:[]},entries:[],folders:[],categories:[],menuLinks:[],userLinks:[],baseLayout:{layout:[],categories:{},folders:{}},layout:[]},editMode:ne(),cacheId:"",errorContentType:null},mutations:{PORTALDATA:function(t,e){var n=e.portal,o=e.adminMode;t.portal.portal=n.portal,t.portal.entries=n.entries,t.portal.folders=n.folders,t.portal.categories=n.categories.map(function(e){var t;return e.virtual=null!==(t=e.virtual)&&void 0!==t&&t,e}),t.portal.menuLinks=n.menu_links,t.portal.userLinks=n.user_links,o&&(e={display_name:{en_US:m("Portal Menu")},test:"Portal Menu",virtual:!0,id:"$$menu$$",dn:"$$menu$$",entries:t.portal.menuLinks},o={display_name:{en_US:m("User Menu")},test:"User Menu",virtual:!0,id:"$$user$$",dn:"$$user$$",entries:t.portal.userLinks},t.portal.categories.push(o),t.portal.categories.push(e),t.portal.portal.content.unshift([o.dn,o.entries]),t.portal.portal.content.unshift([e.dn,e.entries])),t.cacheId=n.cache_id,t.portal.baseLayout={layout:t.portal.portal.content.map(function(e){return Object(d.a)(e,1)[0]}),categories:t.portal.categories.reduce(function(e,t){return e[t.dn]=t.entries,e},{}),folders:t.portal.folders.reduce(function(e,t){return e[t.dn]=t.entries,e},{})},t.portal.layout=t.portal.baseLayout.layout.map(function(e){return{id:"category-".concat(E()),dn:e,testTitle:e,tiles:t.portal.baseLayout.categories[e].map(function(e){return e in t.portal.baseLayout.folders?{id:"folder-".concat(E()),dn:e,tiles:t.portal.baseLayout.folders[e].map(function(e){return{id:"entry-".concat(E()),dn:e}})}:{id:"entry-".concat(E()),dn:e}})}})},PORTALNAME:function(e,t){e.portal.portal.name=t},PORTALLOGO:function(e,t){e.portal.portal.logo=t},CONTENT:function(e,t){e.portal.portal.content=t},PORTALBACKGROUND:function(e,t){e.portal.portal.background=t},SETLAYOUT:function(e,t){e.portal.baseLayout=t.baseLayout,e.portal.layout=t.layout},CHANGELAYOUT:function(t,e){t.portal.baseLayout.layout=e.content,[e.fromChange,e.toChange].forEach(function(e){e.dn&&(t.portal.baseLayout[e.type][e.dn]=e.entries)}),t.portal.layout=e.layout},EDITMODE:function(e,t){e.editMode=t,Object({VUE_APP_THEME_PATH:"/univention/theme.css",VUE_APP_LANGUAGE_DATA:"/univention/languages.json",VUE_APP_META_DATA:"/univention/meta.json",VUE_APP_PORTAL_DATA:"./portal.json",NODE_ENV:"production",BASE_URL:""}).VUE_APP_LOCAL&&(t?localStorage.setItem("UCSAdmin",t.toString()):localStorage.removeItem("UCSAdmin"))},PORTAL_DISPLAY_ERROR:function(e,t){e.errorContentType=t}},getters:{getPortal:function(e){return e.portal},getPortalDn:function(e){return e.portal.portal.dn},portalName:function(e){return e.portal.portal.name},portalLogo:function(e){return e.portal.portal.logo},portalBackground:function(e){return e.portal.portal.background},portalShowUmc:function(e){return e.portal.portal.showUmc},portalEnsureLogin:function(e){return e.portal.portal.ensureLogin},portalContent:function(e){return e.portal.portal.content},portalEntries:function(e){return e.portal.entries},portalFolders:function(e){return e.portal.folders},portalCategories:function(e){return e.portal.categories},portalCategoriesOnPortal:function(e){return e.portal.portal.categories},portalDefaultLinkTarget:function(e){return e.portal.portal.defaultLinkTarget},userLinks:function(e){return e.portal.userLinks},menuLinks:function(e){return e.portal.menuLinks},editMode:function(e){return e.editMode},cacheId:function(e){return e.cacheId},loaded:function(e){return""!==e.cacheId},errorContentType:function(e){return e.errorContentType},portalBaseLayout:function(e){return e.portal.baseLayout},portalLayout:function(e){return e.portal.layout},portalFinalLayout:function(e,t){return n=t.portalLayout,o=t.portalCategories,i=t.portalEntries,a=t.portalFolders,r=t.portalDefaultLinkTarget,s=t.editMode,c=[],n.forEach(function(t){var e,n=o.find(function(e){return e.dn===t.dn});!n||((e=t.tiles.map(function(e){return je(e,i,a,r,s)}).filter(function(e){return null!==e})).length||s)&&c.push({id:t.id,layoutId:t.id,title:n.display_name,dn:n.dn,virtual:n.virtual,tiles:e})}),c;var n,o,i,a,r,s,c},portalFinalLayoutFiltered:function(e,t,n,o){if(e.editMode)return t.portalFinalLayout;var i=o["search/searchQuery"];return t.portalFinalLayout.map(function(e){return e.tiles=e.tiles.filter(function(e){return ye(e,i)||Te(e,i)||Le(e,i)||(t=i,(e=e).isFolder&&e.tiles.some(function(e){return ye(e,t)||Te(e,t)||Le(e,t)}));var t}),e}).filter(function(e){return 0<e.tiles.length})}},actions:{setPortal:function(e,t){(0,e.commit)("PORTALDATA",t)},setPortalName:function(e,t){(0,e.commit)("PORTALNAME",Object(l.a)({},t))},setPortalLogo:function(e,t){(0,e.commit)("PORTALLOGO",t)},setPortalBackground:function(e,t){(0,e.commit)("PORTALBACKGROUND",t)},setLayout:function(e,t){var n=e.commit,e=e.dispatch;n("SETLAYOUT",t),e("changeLayoutUpdateFolder")},changeLayout:function(e,t){var n=e.commit,o=e.dispatch,i=e.getters;function a(e,t){var n={type:"",dn:"",entries:[]};return null!==t.categoryIdx&&(e=e[t.categoryIdx],n.type="categories",n.dn=e.dn,n.entries=e.tiles.map(function(e){return e.dn}),null!==t.folderIdx&&(t=e.tiles[t.folderIdx],n.type="folders",n.dn=t.dn,n.entries=t.tiles.map(function(e){return e.dn}))),n}var r=t.fromId,s=t.toId;if(r!==s)if(r&&s){var c=JSON.parse(JSON.stringify(i.portalLayout)),l=_e(c,r,null,null),u=_e(c,s,t.position,l);if(l.categoryIdx!==u.categoryIdx||l.folderIdx!==u.folderIdx||l.entryIdx!==u.entryIdx){if("category"===l.entryType&&"category"===u.entryType){var d=Se(c,u)[u.entryIdx];if("$$user$$"===d.dn||"$$menu$$"===d.dn)return}!function(e,t,n){if(null!==t.entryIdx&&null!==n.entryIdx){t=Se(e,t).splice(t.entryIdx,1)[0];Se(e,n).splice(n.entryIdx,0,t)}}(c,l,u);var f=a(c,l),p=a(c,u),b=c.map(function(e){return e.dn});e=l,r=u,s=i.portalFinalLayout,t=function(e){o("activity/setMessage",e,{root:!0})},d=e.categoryIdx,l=r.categoryIdx,u=e.entryIdx,i=r.entryIdx,d&&null!==u&&null!==i&&null!==l&&(u=s[l].tiles.length,i=i+1,l=s[l].title,e.categoryIdx!==r.categoryIdx?t(m("Tile moved into category %(category)s",{category:so.$localized(l)})):"category"===e.contextType?t(m("Tile moved into position %(positionInArray)s of %(numberOfTiles)s",{positionInArray:i.toString(),numberOfTiles:u.toString()})):"folder"===e.contextType&&(u=e.folderIdx||-1,u=s[d].tiles[u].tiles.length,t(m("Tile in Folder moved into position %(newPositionInArray)s of %(numberOfTilesInFolder)s",{newPositionInArray:i.toString(),numberOfTilesInFolder:u.toString()})))),"root"===e.contextType&&e.entryIdx&&r.entryIdx&&(r=r.entryIdx,s=s.filter(function(e){return!e.dn.includes("$$menu$$")&&!e.dn.includes("$$user$$")&&!e.dn.includes("cn=new")}).length,t(m("Category moved to position %(newCategoryPosition)s of %(numberOfCategories)s",{newCategoryPosition:r.toString(),numberOfCategories:s.toString()}))),e.contextType,n("CHANGELAYOUT",{fromChange:f,toChange:p,content:b,layout:c}),o("changeLayoutUpdateFolder")}}else o("activity/setMessage",m("Action not possible. Please try another direction."),{root:!0});else o("activity/setMessage",m("Action not possible. Please try another direction."),{root:!0})},changeLayoutDirection:function(e,t){var n,o=e.dispatch,i=e.getters,e=t.fromId,a=t.direction,i=i.portalLayout,r=_e(i,e),s=Object(l.a)({},r),c=null;switch(r.entryType){case"tile":switch(r.contextType){case"category":switch(a){case"left":--s.entryIdx;break;case"right":s.entryIdx+=1;break;case"up":s.entryIdx=s.categoryIdx-1,s.categoryIdx=null,c=0;break;case"down":s.entryIdx=s.categoryIdx+1,s.categoryIdx=null,c=0}break;case"folder":switch(a){case"left":--s.entryIdx;break;case"right":s.entryIdx+=1}}break;case"category":switch(a){case"left":case"right":break;case"up":--s.entryIdx;break;case"down":s.entryIdx+=1}}o("changeLayout",{fromId:e,toId:(e=i,e=Se(i,i=s),null!==i.entryIdx&&null!==(n=null===(n=e[i.entryIdx])||void 0===n?void 0:n.id)&&void 0!==n?n:""),position:c})},saveLayout:function(l,e){return Object(r.a)(regeneratorRuntime.mark(function e(){var t,o,n,i,a,r,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.getters,s=l.rootGetters,o=l.dispatch,n=null,s["modal/inFolderModal"]&&(n=_e(t.portalLayout,s["modal/getModalProps"]("firstLevelModal").layoutId)),o("dragndrop/dropped",null,{root:!0}),o("activateLoadingState",null,{root:!0}),i=[],a=t.portalBaseLayout,t.portalFolders.forEach(function(e){var t=a.folders[e.dn];ke(e.entries,t)||i.push(Q(e.dn,{entries:t},{dispatch:o},m("Entries could not be re-sorted")))}),r=t.getPortalDn,t.portalCategories.forEach(function(e){var t,n;"$$menu$$"===e.dn||"$$user$$"===e.dn?(t={$$menu$$:"menuLinks",$$user$$:"userLinks"}[e.dn],n=a.categories[e.dn],ke(e.entries,n)||i.push(Q(r,Object(z.a)({},t,n),{dispatch:o},m("Entries could not be re-sorted")))):(n=a.categories[e.dn],ke(e.entries,n)||i.push(Q(e.dn,{entries:n},{dispatch:o},m("Entries could not be re-sorted"))))}),c=t.portalContent,s=c.map(function(e){return Object(d.a)(e,1)[0]}).filter(function(e){return!["$$menu$$","$$user$$"].includes(e)}),c=a.layout.filter(function(e){return!["$$menu$$","$$user$$"].includes(e)}),ke(s,c)||i.push(Q(r,{categories:c},{dispatch:o},m("Categories could not be re-sorted"))),e.next=18,Promise.all(i);case 18:c=e.sent,o("deactivateLoadingState",null,{root:!0}),c.length&&c.every(function(e){return!!e})&&o("notifications/addSuccessNotification",{title:m("Entries successfully re-sorted")},{root:!0}),null!==n&&null!==n.entryIdx&&(c=t.portalFinalLayout[n.categoryIdx].tiles[n.entryIdx],o("changeLayoutUpdateFolder",c.layoutId),o("activity/setRegion","".concat(c.id,"-modal-content"),{root:!0}));case 22:case"end":return e.stop()}},e)}))()},changeLayoutUpdateFolder:function(e){var t,n,o=e.dispatch,i=e.getters,e=e.rootGetters;e["modal/inFolderModal"]&&(i=i.portalFinalLayout,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")||e["modal/getModalProps"]("firstLevelModal").layoutId,i.some(function(e){return e.tiles.some(function(e){return e.layoutId===n&&(t=e,!0)})}),t&&o("modal/changeModalProps",{props:{tiles:t.tiles,id:"".concat(t.id,"-modal"),layoutId:t.layoutId}},{root:!0}))},waitForChange:function(i,a){return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.dispatch,n=i.getters,a.retries<=0)return e.abrupt("return",!1);e.next=3;break;case 3:return e.next=5,t("portalJsonRequest",{adminMode:a.adminMode},{root:!0});case 5:if(o=e.sent,o.data.cache_id!==n.cacheId)return e.abrupt("return",!0);e.next=9;break;case 9:return e.next=11,new Promise(function(e){setTimeout(e,1e3)});case 11:return--a.retries,e.abrupt("return",t("waitForChange",a));case 13:case"end":return e.stop()}},e)}))()},setEditMode:function(n,o){return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.dispatch,(0,n.commit)("EDITMODE",o),t("dragndrop/dropped",null,{root:!0}),e.next=5,t("loadPortal",{adminMode:o},{root:!0});case 5:t("activity/setMessage",m(o?"Entered edit mode":"Left edit mode"),{root:!0});case 6:case"end":return e.stop()}},e)}))()},setPortalErrorDisplay:function(e,t){(0,e.commit)("PORTAL_DISPLAY_ERROR",t)}}},Ee={namespaced:!0,state:{searchQuery:""},mutations:{SET_SEARCH_QUERY:function(e,t){e.searchQuery=t}},getters:{searchQuery:function(e){return e.searchQuery}},actions:{setSearchQuery:function(e,t){(0,e.commit)("SET_SEARCH_QUERY",t)}}},De=(n("c740"),{namespaced:!0,state:{activeTabIndex:0,tabs:[],scrollPosition:0},mutations:{ACTIVE_TAB:function(e,t){e.activeTabIndex=t},ADD_TAB:function(e,t){var n=-1;-1===(n=t.target?e.tabs.findIndex(function(e){return e.target===t.target}):e.tabs.findIndex(function(e){return e.tabLabel===t.tabLabel}))?(e.tabs.push(t),e.activeTabIndex=e.tabs.length):(e.tabs[n]=t,e.activeTabIndex=n+1)},DELETE_TAB:function(e,t){e.tabs.splice(t-1,1),e.activeTabIndex===t?e.activeTabIndex=0:e.activeTabIndex>t&&--e.activeTabIndex},SAVE_SCROLL_POSITION:function(e,t){e.scrollPosition=t}},getters:{allTabs:function(e){return e.tabs},numTabs:function(e){return e.tabs.length},activeTabIndex:function(e){return e.activeTabIndex},savedScrollPosition:function(e){return e.scrollPosition}},actions:{setActiveTab:function(e,t){var n=e.getters,o=e.commit,e=e.dispatch;n.activeTabIndex!==t&&(e("navigation/setActiveButton","",{root:!0}),e("modal/hideAndClearModal",void 0,{root:!0}),0<t&&o("SAVE_SCROLL_POSITION",window.scrollY),o("ACTIVE_TAB",t))},addTab:function(e,t){e=e.commit;e("SAVE_SCROLL_POSITION",window.scrollY),e("ADD_TAB",t)},deleteTab:function(e,t){(0,e.commit)("DELETE_TAB",t)}}}),Ae={namespaced:!0,state:{tooltip:null,hoverOnToolip:!1,tooltipID:null},mutations:{SETTOOLTIP:function(e,t){e.tooltip=t.tooltip},SET_HOVER_ON_TOOLIP:function(e,t){e.hoverOnToolip=t},SET_TOOLTIP_ID:function(e,t){e.tooltipID=t}},getters:{tooltip:function(e){return e.tooltip},tooltipIsHovered:function(e){return e.hoverOnToolip},getTooltipID:function(e){return e.tooltipID}},actions:{setTooltip:function(e,t){(0,e.commit)("SETTOOLTIP",t)},unsetTooltip:function(e){(0,e.commit)("SETTOOLTIP",{tooltip:null})},setHoverOnTooltip:function(e,t){(0,e.commit)("SET_HOVER_ON_TOOLIP",t)},setTooltipID:function(e,t){(0,e.commit)("SET_TOOLTIP_ID",t)}}},xe={namespaced:!0,state:{user:{username:"",displayName:"",mayEditPortal:!1,authMode:"ucs"}},mutations:{SETUSER:function(e,t){e.user=t.user}},getters:{userState:function(e){return e.user}},actions:{setUser:function(e,t){var n=e.commit,e=e.dispatch;n("SETUSER",t);t=t.user.username;e("activity/setMessage",t?m('Logged in as "%(username)s"',{username:t}):m("Not logged in"),{root:!0})}}},Ie=Object({VUE_APP_THEME_PATH:"/univention/theme.css",VUE_APP_LANGUAGE_DATA:"/univention/languages.json",VUE_APP_META_DATA:"/univention/meta.json",VUE_APP_PORTAL_DATA:"./portal.json",NODE_ENV:"production",BASE_URL:""}).VUE_APP_PORTAL_URL||"",Me="/univention/languages.json",Ce="./portal.json",$e="/univention/meta.json",Ne=(Symbol(""),{SET_LOADING_STATE:function(e,t){e.loadingState=t},SET_INITIAL_LOAD_DONE:function(e,t){e.initialLoadDone=t}}),Ve={activateLoadingState:function(e){(0,e.commit)("SET_LOADING_STATE",!0)},deactivateLoadingState:function(e){(0,e.commit)("SET_LOADING_STATE",!1)},initialLoadDone:function(e){(0,e.commit)("SET_INITIAL_LOAD_DONE",!0)},portalJsonRequest:function(e,t){var n={"X-Requested-With":"XMLHTTPRequest","Accept-Language":k("UMCLang")||"en-US"};return(t.adminMode||ne())&&(n["X-Univention-Portal-Admin-Mode"]="yes",Object({VUE_APP_THEME_PATH:"/univention/theme.css",VUE_APP_LANGUAGE_DATA:"/univention/languages.json",VUE_APP_META_DATA:"/univention/meta.json",VUE_APP_PORTAL_DATA:"./portal.json",NODE_ENV:"production",BASE_URL:""}).VUE_APP_LOCAL)?s.a.get("".concat(Ie,"dev-").concat(Ce),{headers:n}):s.a.get("".concat(Ie).concat(Ce),{headers:n})},loadPortal:function(e,l){var u=e.dispatch;return new Promise(function(c,t){var n,e=u("portalJsonRequest",l).catch(function(e){return e}),o=["".concat(Ie).concat($e),"".concat(Ie).concat(Me)].map(function(e){return s.a.get(e).catch(function(e){return e})});o.push(e),Promise.all(o).then((n=Object(r.a)(regeneratorRuntime.mark(function e(t){var n,o,i,a,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(d.a)(t,3),n=r[0],o=r[1],i=r[2],s=[n.data,o.data,i.data],a=s[0],r=s[1],s=s[2],!o.isAxiosError){e.next=6;break}e.next=8;break;case 6:return e.next=8,u("locale/setAvailableLocale",r);case 8:n.isAxiosError||u("metaData/setMeta",a),u("menu/setMenu",{portal:s,availableLocales:null!=r?r:[]}),i.isAxiosError?(u("portalData/setPortalErrorDisplay",502),u("deactivateLoadingState")):(u("portalData/setPortal",{portal:s,adminMode:l.adminMode||ne()}),u("user/setUser",{user:{username:s.username,displayName:s.user_displayname,mayEditPortal:s.may_edit_portal,authMode:s.auth_mode}}),u("initialLoadDone"),c(s));case 11:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})).catch(function(e){u("portalData/setPortalErrorDisplay",502),u("deactivateLoadingState"),t(e)})})}},Pe=Object(o.a)({strict:!1,state:{loadingState:!0,initialLoadDone:!1},mutations:Ne,actions:Ve,getters:{getLoadingState:function(e){return e.loadingState},getInitialLoadDone:function(e){return e.initialLoadDone}},modules:{activity:se,dragndrop:ce,locale:le,menu:fe,metaData:pe,modal:me,navigation:be,notifications:he,portalData:we,search:Ee,tabs:De,tooltip:Ae,user:xe}}),Be=n("6c02"),Re={class:"portal"},Fe={key:0,class:"portal-category__title"},Ue={key:1,class:"portal-categories__title"},qe={class:"portal-iframes","data-test":"portal-iframes"};var We=Object(j.k)({name:"Region",props:{id:{type:String,required:!0},role:{type:String,default:"region"},ariaRole:{type:String,default:""},direction:{type:String,default:"leftright"}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({inDragnDropMode:"dragndrop/inDragnDropMode",activityLevel:"activity/level",activityRegion:"activity/region",focus:"activity/focus"})),{},{tag:function(){return"none"===this.role?"div":"banner"===this.role?"header":"navigation"===this.role?"nav":"main"===this.role||"main"===this.role?"main":"section"},active:function(){return this.activityRegion===this.id}}),watch:{active:function(e,t){t&&this.restoreFocus()}},created:function(){this.$store.dispatch("activity/addRegion",this.id)},methods:{restoreFocus:function(){var e=this.focus[this.id],e=document.getElementById(e);this.focusElem(e)||this.focusFirst()},goUp:function(e){var t;"portal-search-input"!==(null===(t=document.activeElement)||void 0===t?void 0:t.id)&&(this.inDragnDropMode||"topdown"===this.direction&&(null==e||e.preventDefault(),this.focusPrev(e)||this.focusLast(e)))},goDown:function(e){var t;"portal-search-input"!==(null===(t=document.activeElement)||void 0===t?void 0:t.id)&&(this.inDragnDropMode||"topdown"===this.direction&&(null==e||e.preventDefault(),this.focusNext(e)||this.focusFirst(e)))},goLeft:function(e){var t;"portal-search-input"!==(null===(t=document.activeElement)||void 0===t?void 0:t.id)&&(this.inDragnDropMode||"leftright"===this.direction&&(null==e||e.preventDefault(),this.focusPrev(e)||this.focusLast(e)))},goRight:function(e){var t;"portal-search-input"!==(null===(t=document.activeElement)||void 0===t?void 0:t.id)&&(this.inDragnDropMode||"leftright"===this.direction&&(null==e||e.preventDefault(),this.focusNext(e)||this.focusFirst(e)))},focusElem:function(e,t){return!!e&&(this.$store.dispatch("activity/saveFocus",{region:this.id,id:e.id}),e.focus(),null==t||t.stopPropagation(),null==t||t.preventDefault(),!0)},focusFirst:function(e){var t=this.$el.querySelector('[tabindex="0"][id]'),t=document.getElementById(null==t?void 0:t.id);return this.focusElem(t,e)},focusLast:function(e){var t=this.$el.querySelectorAll('[tabindex="0"][id]'),t=t[t.length-1],t=document.getElementById(null==t?void 0:t.id);return this.focusElem(t,e)},focusNext:function(e){var t=this.findNext();return this.focusElem(t,e)},focusPrev:function(e){var t=this.findPrev();return this.focusElem(t,e)},findPrev:function(){var e,t=this.$el.querySelectorAll('[tabindex="0"]:not([hidden])'),n=null,o=!1,i=null===(e=document.activeElement)||void 0===e?void 0:e.id;return t.forEach(function(e){!(o=e.id===i?!0:o)&&e.id&&(n=document.getElementById(e.id))}),o?n:null},findNext:function(){var e,t=this.$el.querySelectorAll('[tabindex="0"]:not([hidden])'),n=null,o=!1,i=null===(e=document.activeElement)||void 0===e?void 0:e.id;return t.forEach(function(e){o&&e.id&&(n=document.getElementById(e.id)),o=e.id===i}),n}}});We.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)(Object(j.B)(e.tag),{id:e.id,role:e.ariaRole,onKeydown:[Object(j.L)(Object(j.M)(e.goLeft,["exact"]),["left"]),Object(j.L)(Object(j.M)(e.goRight,["exact"]),["right"]),Object(j.L)(Object(j.M)(e.goUp,["exact"]),["up"]),Object(j.L)(Object(j.M)(e.goDown,["exact"]),["down"])]},{default:Object(j.J)(function(){return[Object(j.y)(e.$slots,"default")]}),_:3},8,["id","role","onKeydown"])};var ze=We,Ge={key:0,class:"notifications__close-all"},Je={key:1,class:"notifications__no-notifications"};var He={class:"notification__header"},Ke={class:"notification__title"},Ye=Object(j.j)("br",null,null,-1),Xe={class:"notification__closing-svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Qe={ref:"closingCircle",cx:"50",cy:"50",r:"45"};var Ze=Object(j.k)({name:"Notification",components:{IconButton:$},props:{title:{type:String,required:!0},description:{type:String,required:!1,default:""},importance:{type:String,required:!0},hidingAfter:{type:Number,required:!0},token:{type:Number,required:!0},visible:{type:Boolean,required:!0},onClick:{type:Function,required:!1,default:null}},emits:["notificationRemoved"],data:function(){return{dismissalTimeout:null}},computed:{preAccouncement:function(){var e=m("Info");return"warning"===this.importance&&(e=m("Warning")),"success"===this.importance&&(e=m("Success")),"error"===this.importance&&(e=m("Error")),"".concat(e,":")},DISMISS_NOTIFICATION:function(){return"".concat(m("Dismiss notification"),": ").concat(this.title)}},mounted:function(){this.startDismissal()},beforeUnmount:function(){this.stopDismissal()},methods:{startDismissal:function(){var e=this;this.hidingAfter<0||(0!==this.hidingAfter?setTimeout(function(){e.$el.style="--closing-duration: ".concat(e.hidingAfter,"s;"),e.$el.classList.add("notification__dismissing"),e.dismissalTimeout=setTimeout(function(){return e.hideNotification()},1e3*e.hidingAfter)},50):this.hideNotification())},stopDismissal:function(){this.dismissalTimeout&&(clearTimeout(this.dismissalTimeout),this.$el.style="--closing-duration: 0s;",this.$el.classList.remove("notification__dismissing"))},removeNotification:function(){this.$store.dispatch("notifications/removeNotification",this.token),this.$emit("notificationRemoved")},hideNotification:function(){this.$store.dispatch("notifications/hideNotification",this.token)}}});n("903f"),Ze.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)("div",{class:["notification","notification--".concat(t.importance)],"data-test":"notification--".concat(t.importance),onMouseenter:e[2]||(e[2]=function(){return t.stopDismissal&&t.stopDismissal.apply(t,arguments)}),onMouseleave:e[3]||(e[3]=function(){return t.startDismissal&&t.startDismissal.apply(t,arguments)})},[Object(j.j)("div",He,[Object(j.j)("div",Ke,[Object(j.j)("b",null,Object(j.D)(t.preAccouncement),1),Ye,Object(j.i)(" "+Object(j.D)(t.title),1)]),Object(j.j)(r,{id:"close-notification-".concat(t.token),class:"notification__closing-button",tabindex:"0",icon:"x","aria-label-prop":t.DISMISS_NOTIFICATION,"data-test":"closeNotification--".concat(t.importance),onClick:e[1]||(e[1]=function(e){return t.removeNotification()})},{default:Object(j.J)(function(){return[(Object(j.t)(),Object(j.f)("svg",Xe,[Object(j.j)("circle",Qe,null,512)]))]}),_:1},8,["id","aria-label-prop","data-test"])]),t.description?(Object(j.t)(),Object(j.f)("div",{key:0,class:"notification__description",innerHTML:t.description},null,8,["innerHTML"])):Object(j.g)("",!0)],42,["data-test"])};var et=Ze,i=Object(j.k)({name:"Notifications",components:{Notification:et,Region:ze,PortalIcon:M},props:{isInNotificationBar:{type:Boolean,required:!0}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({allNotifications:"notifications/allNotifications",visibleNotifications:"notifications/visibleNotifications",numNotifications:"notifications/numNotifications",activeButton:"navigation/getActiveButton"})),{},{notifications:function(){return this.isInNotificationBar?this.allNotifications:this.visibleNotifications},REMOVE_ALL_NOTIFICATIONS:function(){return m("Remove all")},NO_NOTIFICATIONS:function(){return m("No notifications")},NOTIFICATIONS_REMOVED:function(){return m("Notifications removed")},NOTIFICATION_REMOVED:function(){return m("Notification removed")},ariaLiveStatus:function(){return this.isInNotificationBar?"off":"polite"}}),created:function(){this.isInNotificationBar&&this.$store.dispatch("modal/disableBodyScrolling")},mounted:function(){this.isInNotificationBar&&1<this.notifications.length?this.$refs.removeAllNotificationsButton.focus():this.$store.dispatch("activity/setRegion","notifications-all")},methods:{removeAllNotifications:function(){this.$store.dispatch("notifications/removeAllNotifications"),this.$store.dispatch("activity/setMessage",m("Notifications removed")),this.closeNotificationsSidebar()},closeNotificationsSidebar:function(){this.$store.dispatch("navigation/closeNotificationsSidebar")},onNotificationRemoved:function(){this.$store.dispatch("activity/setMessage",m("Notification removed")),0===this.numNotifications?this.closeNotificationsSidebar():this.$refs.region.goUp()}}});n("4a85"),i.render=function(t,e,n,o,i,a){var r=Object(j.z)("portal-icon"),s=Object(j.z)("notification"),c=Object(j.z)("region");return Object(j.t)(),Object(j.f)(c,{id:"notifications-".concat(t.isInNotificationBar?"all":"visible"),ref:"region","aria-live":t.ariaLiveStatus,direction:"topdown",class:["notifications",{"notifications--in-bar":t.isInNotificationBar,"notifications--floating":!t.isInNotificationBar}],onKeydown:Object(j.L)(t.closeNotificationsSidebar,["esc"])},{default:Object(j.J)(function(){return[t.isInNotificationBar&&1<t.notifications.length?(Object(j.t)(),Object(j.f)("div",Ge,[Object(j.j)("button",{ref:"removeAllNotificationsButton",type:"button",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.removeAllNotifications&&t.removeAllNotifications.apply(t,arguments)},["prevent"]))},[Object(j.j)(r,{icon:"trash"}),Object(j.j)("span",null,Object(j.D)(t.REMOVE_ALL_NOTIFICATIONS),1)],512)])):Object(j.g)("",!0),(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(t.notifications,function(e){return Object(j.t)(),Object(j.f)(s,Object(j.o)({key:e.token},e,{onNotificationRemoved:t.onNotificationRemoved}),null,16,["onNotificationRemoved"])}),128)),t.isInNotificationBar&&0===t.notifications.length?(Object(j.t)(),Object(j.f)("span",Je,Object(j.D)(t.NO_NOTIFICATIONS),1)):Object(j.g)("",!0)]}),_:1},8,["id","aria-live","class","onKeydown"])};D=i;I=Object(j.k)({name:"PortalBackground",computed:Object(l.a)(Object(l.a)({},Object(o.b)({portal:"portalData/getPortal"})),{},{backgroundImageStyle:function(){return this.portal.portal.background?"background-image: url('".concat(this.portal.portal.background,"')"):"background-image: none"}})});n("baff"),I.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)("div",{class:"portal__background",style:e.backgroundImageStyle},null,4)};var C=I,tt={class:"portal-category__tiles"};var nt={class:"tile-add"},ot={class:"portal-tile__name"};N={computed:Object(l.a)(Object(l.a)({},Object(o.b)({inDragnDropMode:"dragndrop/inDragnDropMode",inKeyboardDragnDropMode:"dragndrop/inKeyboardDragnDropMode",dragndropId:"dragndrop/getId",editMode:"portalData/editMode"})),{},{isDraggable:function(){if(!this.editMode)return!1;switch(this.$options.name){case"PortalTile":return!this.minified;case"PortalFolder":return!this.inModal;case"PortalCategory":return!this.virtual;case"TileAdd":default:return!1}},isBeingDragged:function(){return!!this.isDraggable&&this.dragndropId.layoutId===this.layoutId},showMoveButtonWhileDragging:function(){return!this.inKeyboardDragnDropMode||this.isBeingDragged},showEditButtonWhileDragging:function(){return!this.inKeyboardDragnDropMode},canDragEnter:function(){return void 0!==this.forFolder||this.isDraggable}}),methods:{draggedType:function(){var e="tile";return e="PortalCategory"===this.$options.name?"category":e},dragKeyboardClick:function(){this.isBeingDragged?this.$store.dispatch("portalData/saveLayout"):this.dragstart(null,"keyboard")},dragKeyboardDirection:function(e,t){var n=this;this.inDragnDropMode&&(e.preventDefault(),this.$store.dispatch("dragndrop/lastDir",t),this.$store.dispatch("portalData/changeLayoutDirection",{fromId:this.layoutId,direction:t}),this.$nextTick(function(){n.handleDragFocus(e.target,t)}))},handleDragFocus:function(e,t){var n;this.isBeingDragged&&(0!==(n=e.getBoundingClientRect()).top&&("down"!==t&&"right"!==t||n.top+200>window.innerHeight&&window.scrollBy(0,n.top-window.innerHeight+200),"up"!==t&&"left"!==t||n.top-200<0&&window.scrollBy(0,n.top-200)),e.focus())},handleTabWhileMoving:function(){this.isBeingDragged&&this.$store.dispatch("portalData/saveLayout")},dragstart:function(e,t){var n;this.isDraggable&&(e&&(n=e.srcElement.cloneNode(!0),document.body.appendChild(n),n.style.transform="rotate(0)",n.style.position="absolute",n.style.left="-10000px",n.id="dragndropCloneNode",n.children[2]&&n.removeChild(n.children[2]),e.dataTransfer.setDragImage(n,75,75)),this.$store.dispatch("dragndrop/startDragging",{layoutId:this.layoutId,draggedType:this.draggedType(),dragType:t,saveOriginalLayout:!0}))},dragenter:function(e){var t,n,o;this.canDragEnter?(t=this.$store.getters["dragndrop/getId"]).draggedType===this.draggedType()&&(o=(n="TileAdd"===this.$options.name)?this.superLayoutId:this.layoutId,this.$store.dispatch("portalData/changeLayout",{fromId:t.layoutId,toId:o,position:n?-1:null})):e.preventDefault()},dragend:function(e){this.inDragnDropMode&&(null==e||e.preventDefault(),null==e||e.stopImmediatePropagation());e=document.getElementById("dragndropCloneNode");null==e||e.remove(),this.$store.dispatch("dragndrop/cancelDragging")}}},P=Object(j.k)({name:"TileAdd",components:{IconButton:$},mixins:[N],props:{superLayoutId:{type:String,required:!0},superDn:{type:String,required:!0},forFolder:{type:Boolean,default:!1}},computed:{id:function(){return"addtile-".concat(this.superLayoutId)},activeAt:function(){return this.forFolder?["modal"]:["portal"]},ADD_NEW_TILE:function(){return m("Add new Tile")}},methods:{showMenu:function(){this.$store.dispatch("modal/setAndShowModal",{name:"TileAddModal",props:{superDn:this.superDn,forFolder:this.forFolder}}),this.$store.dispatch("activity/setRegion","tile-add-modal")}}});n("a2a6"),P.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)("div",nt,[Object(j.j)(r,{icon:"plus","aria-label-prop":t.ADD_NEW_TILE,"active-at":t.activeAt,class:"tile-add__button",onDragenter:t.dragenter,onClick:e[1]||(e[1]=function(e){return t.showMenu()})},null,8,["aria-label-prop","active-at","onDragenter"]),Object(j.j)("span",ot,Object(j.D)(t.ADD_NEW_TILE),1)])};var R=P,it={key:0,class:"portal-folder__thumbnail portal-folder__thumbnail--tile-add"},at={class:"portal-tile__root-element"},rt={class:"portal-tile__icon-bar"};n("9911");var st={class:"portal-tile__root-element"},ct={class:"portal-tile__name"},lt={class:"portal-tile__icon-bar"};function ut(e){if(L(e))return e;var t=e.replace(/^:|:$/g,"").split(":");T(t[t.length-1])&&(e=t[t.length-1].split(".").map(function(e){return parseInt(e,10).toString(16)}),t.splice(-1,1),t.push(e[0]+e[1]),t.push(e[2]+e[3]));var n=t.indexOf("");if(0<=n)for(t.splice(n,1);t.length<8;)t.splice(n,0,"0");return(t=t.map(function(e){return e.padStart(4,0)})).join(":")}function dt(e){var t=document.createElement("a");return t.setAttribute("href",e),t}function ft(e){return dt(e).hostname.replace(/^\[|\]$/g,"")}function pt(e){return L(e)?"fqdn":O.test(e)?"ipv6":T(e)?"ipv4":""}function bt(e){return 0===e.indexOf("//")?"relative":0===e.indexOf("https")?"https":0===e.indexOf("http")?"http":""}n("4d90"),n("a15b");var mt=/^\/([^/].*)?$/;function gt(e,t){var n=ft(e),a=pt(n),r=ut(n),s=bt(e),t=t.map(function(e){var t=ft(e),n=ut(t),o=pt(t),i=bt(e),t=0;return a===o&&(t=function(e,t,n){var o,i=e,a=t;for(n&&(i=i.split("").reverse().join(""),a=a.split("").reverse().join("")),o=0;o<Math.min(i.length,a.length)&&i[o]===a[o];o+=1);return o}(r,n,"fqdn"===o)),{scores:[0===(n=e).indexOf("/")&&0!==n.indexOf("//")?1:0,t,function(e,t){try{return{fqdn:{fqdn:4,ipv4:2,ipv6:1},ipv4:{fqdn:1,ipv4:4,ipv6:2},ipv6:{fqdn:1,ipv4:2,ipv6:4}}[e][t]||0}catch(e){return 0}}(a,o),function(e,t){try{return{https:{relative:4,https:2,http:1},http:{relative:4,https:1,http:2}}[e][t]||0}catch(e){return 0}}(s,i)],link:e}});return t.sort(function(e,t){for(var n=0;n<e.scores.length;n+=1){if(e.scores[n]<t.scores[n])return 1;if(e.scores[n]>t.scores[n])return-1}return 0}),t}function ht(t,n,e){var o=e.filter(function(e){return mt.test(e)});if(o.length)return o;var i=[];return e.forEach(function(e){e=dt(e);e.hostname===n&&(e.hostname=t,i.push(e.href))}),i}function vt(e,t,n){var o={};e.forEach(function(e){var t=o[e.locale]||[];t.push(e.value),o[e.locale]=t});n=o[n]||o.en_US||[];if(0===n.length)return"";n=ht(ft(document.location.href),t,n).concat(n);return gt(document.location.href,n)[0].link||"#"}q={props:{links:{type:Array,required:!0},backgroundColor:{type:String,default:""},linkTarget:{type:String},target:{type:String,default:""},pathToLogo:{type:String,required:!1,default:"./questionMark.svg"},internalFunction:{type:Function,required:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({metaData:"metaData/getMeta",editMode:"portalData/editMode",locale:"locale/getLocale",tooltipID:"tooltip/getTooltipID"})),{},{link:function(){return vt(this.links,this.metaData.fqdn,this.locale)},anchorTarget:function(){return this.editMode||"newwindow"!==this.linkTarget?null:this.target||"_blank"}}),emits:["clickAction"],methods:{tileClick:function(e){return this.editMode?(e.preventDefault(),this.editTile(),!1):this.minified?(e.preventDefault(),!1):(this.tooltipID&&clearTimeout(this.tooltipID),this.$store.dispatch("tooltip/unsetTooltip"),"internalFunction"===this.linkTarget?(e.preventDefault(),this.internalFunction(this)):!!this.link&&("embedded"===this.linkTarget&&(e.preventDefault(),this.openEmbedded()),this.$emit("clickAction"),!0))},openEmbedded:function(){var e={tabLabel:this.$localized(this.title),backgroundColor:this.backgroundColor,logo:this.pathToLogo,iframeLink:this.link,target:this.target};this.$store.dispatch("navigation/setActiveButton",""),this.$store.dispatch("tabs/addTab",e),this.$store.dispatch("modal/hideAndClearModal"),clearTimeout(this.tooltipID),this.$store.dispatch("tooltip/setHoverOnTooltip",!1),this.$store.dispatch("tooltip/unsetTooltip")}}},Ne=Object(j.k)({name:"PortalTile",components:{IconButton:$,TabindexElement:A},mixins:[q,N],props:{id:{type:String,default:""},layoutId:{type:String,required:!0},dn:{type:String,required:!0},superDn:{type:String,required:!0},title:{type:Object,required:!0},description:{type:Object,required:!0},keywords:{type:Object,required:!0},activated:{type:Boolean,required:!1},anonymous:{type:Boolean,required:!1},allowedGroups:{type:Array,default:function(){return[]}},originalLinkTarget:{type:String,required:!0},minified:{type:Boolean,default:!1},fromFolder:{type:Boolean,default:!1}},data:function(){return{tileId:"",mouseIsOverTile:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({tooltip:"tooltip/tooltip",tooltipIsHovered:"tooltip/tooltipIsHovered",tooltipID:"tooltip/getTooltipID",lastDir:"dragndrop/getLastDir"})),{},{wrapperTag:function(){return"internalrouter"===this.linkTarget?"router-link":this.minified||this.editMode?"div":"a"},isDisabled:function(){return this.minified||this.editMode},isTouchDevice:function(){return"ontouchstart"in document.documentElement},ariaLabelPortalTile:function(){return this.minified||this.editMode?null:"".concat(this.$localized(this.title)," ").concat(this.LINK_TYPE(this.linkTarget).label)},activeAtEdit:function(){return this.editMode?this.fromFolder?["modal"]:["portal"]:[]},activeAt:function(){return this.minified||this.editMode?[]:this.fromFolder?["modal"]:["portal","header-search"]},MOVE_ENTRY:function(){return m("Move tile: %(entry)s",{entry:this.$localized(this.title)})},EDIT_ENTRY:function(){return m("Edit tile: %(entry)s",{entry:this.$localized(this.title)})},SHOW_TOOLTIP:function(){return m("Show tooltip")},LINK_TYPE_LABEL:function(){return this.LINK_TYPE(this.linkTarget).label},isMobile:function(){return this.isTouchDevice&&!this.minified}}),mounted:function(){this.hasFocus&&this.$el.children[0].focus(),this.$refs.mover&&this.handleDragFocus(this.$refs.mover.$el,this.lastDir)},methods:{hideTooltip:function(){this.mouseIsOverTile=!1,this.tooltipID&&!this.tooltipIsHovered&&this.$store.dispatch("tooltip/unsetTooltip")},showTooltip:function(){var e,t;this.$store.dispatch("tooltip/unsetTooltip"),clearTimeout(this.tooltipID),this.mouseIsOverTile=!0,this.editMode||this.minified||(e=this.$el.querySelector(".portal-tile__name").getBoundingClientRect(),t=this.$el.getBoundingClientRect(),t={linkType:this.LINK_TYPE(this.linkTarget),isMobile:this.isMobile,title:this.$localized(this.title),backgroundColor:this.backgroundColor,description:this.$localized(this.description),ariaId:this.createID(),position:{top:t.top,right:t.right,bottom:e.bottom,left:t.left,x:t.x,y:t.y}},this.setToolTipTimeOut(t))},setToolTipTimeOut:function(e){var t=this,n=setTimeout(function(){!0===t.mouseIsOverTile&&t.$store.dispatch("tooltip/setTooltip",{tooltip:e})},650);this.$store.dispatch("tooltip/setTooltipID",n)},editTile:function(){this.$store.dispatch("modal/setAndShowModal",{name:"AdminEntry",stubborn:!0,props:{modelValue:this.$props,superDn:this.superDn,fromFolder:this.fromFolder,label:m("Edit entry")}})},toolTipTouchHandler:function(){var e=this;this.tooltip&&this.tooltip.description===this.$localized(this.description)?(this.hideTooltip(),this.$store.dispatch("activity/setMessage",m("Tooltip hidden"))):(this.showTooltip(),this.$store.dispatch("activity/setMessage",m("Tooltip displayed")),setTimeout(function(){e.$store.dispatch("activity/setMessage",e.$localized(e.description))},50))},createID:function(){return"element-".concat(this.$.uid)},setAriaDescribedBy:function(){this.tileId=this.createID()},removeAriaDescribedBy:function(){this.tileId=""},LINK_TYPE:function(e){e="samewindow"===e&&(this.link.includes(".crt")||this.link.includes(".crl"))?"download":e;return{samewindow:{label:m("Same tab"),icon:"sidebar"},newwindow:{label:m("New Tab"),icon:"external-link"},embedded:{label:m("iFrame"),icon:"layout"},download:{label:m("Download"),icon:"download"}}[e]}}});n("a642"),Ne.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button"),s=Object(j.z)("tabindex-element");return Object(j.t)(),Object(j.f)("div",st,[Object(j.j)(s,{id:t.id,tag:t.wrapperTag,"active-at":t.activeAt,href:t.link,to:t.link,target:t.anchorTarget,"aria-describedby":t.tileId,"aria-label":t.ariaLabelPortalTile,draggable:t.editMode&&!t.minified,disabled:t.isDisabled,class:[{"portal-tile--minified":t.minified},"portal-tile"],"data-test":"tileLink",onMouseenter:e[5]||(e[5]=function(e){return t.showTooltip()}),onMouseleave:t.hideTooltip,onMousedown:t.hideTooltip,onFocus:e[6]||(e[6]=function(e){return t.showTooltip()}),onFocusin:t.setAriaDescribedBy,onFocusout:t.removeAriaDescribedBy,onBlur:e[7]||(e[7]=function(e){return t.hideTooltip()}),onDragstart:t.dragstart,onDragenter:t.dragenter,onDragend:t.dragend,onClick:e[8]||(e[8]=function(e){return t.tileClick(e)})},{default:Object(j.J)(function(){return[Object(j.j)("div",{style:t.backgroundColor?"background: ".concat(t.backgroundColor):"",class:["portal-tile__box",{"portal-tile__box--draggable":t.editMode,"portal-tile__box--dragging":t.isBeingDragged}]},[Object(j.j)("img",{src:t.pathToLogo||"./questionMark.svg",onerror:"this.src='./questionMark.svg'",alt:"",class:"portal-tile__img"},null,8,["src"])],6),Object(j.j)("span",ct,Object(j.D)(t.$localized(t.title)),1),Object(j.j)("div",{id:t.tileId,class:"sr-only sr-only-mobile"},Object(j.D)(t.$localized(t.description)),9,["id"]),Object(j.j)("div",lt,[!t.minified&&t.editMode&&t.showEditButtonWhileDragging?(Object(j.t)(),Object(j.f)(r,{key:0,icon:"edit-2","active-at":t.activeAtEdit,class:"icon-button--admin","aria-label-prop":t.EDIT_ENTRY,onClick:t.editTile},null,8,["active-at","aria-label-prop","onClick"])):Object(j.g)("",!0),!t.minified&&t.editMode&&!t.isTouchDevice&&t.showMoveButtonWhileDragging?(Object(j.t)(),Object(j.f)(r,{key:1,id:"".concat(t.layoutId,"-move-button"),ref:"mover",icon:"move","active-at":t.activeAtEdit,class:"icon-button--admin","aria-label-prop":t.MOVE_ENTRY,role:"button",onClick:t.dragKeyboardClick,onKeydown:[Object(j.L)(t.dragend,["esc"]),e[1]||(e[1]=Object(j.L)(function(e){return t.dragKeyboardDirection(e,"left",t.dragAndDropData)},["left"])),e[2]||(e[2]=Object(j.L)(function(e){return t.dragKeyboardDirection(e,"right",t.dragAndDropData)},["right"])),e[3]||(e[3]=Object(j.L)(function(e){return t.dragKeyboardDirection(e,"up",t.dragAndDropData)},["up"])),e[4]||(e[4]=Object(j.L)(function(e){return t.dragKeyboardDirection(e,"down",t.dragAndDropData)},["down"])),Object(j.L)(t.handleTabWhileMoving,["tab"])]},null,8,["id","active-at","aria-label-prop","onClick","onKeydown"])):Object(j.g)("",!0)])]}),_:1},8,["id","tag","active-at","href","to","target","aria-describedby","aria-label","draggable","disabled","class","onMouseleave","onMousedown","onFocusin","onFocusout","onDragstart","onDragenter","onDragend"]),t.minified||!t.isTouchDevice||t.editMode?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)(r,{key:0,icon:"info",class:"portal-tile__info-button icon-button--admin","aria-label-prop":t.SHOW_TOOLTIP,onClick:e[9]||(e[9]=function(e){return t.toolTipTouchHandler()})},null,8,["aria-label-prop"]))])};Ve=Ne,se=Object(j.k)({name:"PortalFolder",components:{PortalTile:Ve,IconButton:$,TileAdd:R,TabindexElement:A,Region:ze},mixins:[N],props:{id:{type:String,default:""},layoutId:{type:String,required:!0},dn:{type:String,required:!0},superDn:{type:String,required:!0},title:{type:Object,required:!0},tiles:{type:Array,required:!0},inModal:{type:Boolean,default:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({lastDir:"dragndrop/getLastDir",searchQuery:"search/searchQuery"})),{},{activeAt:function(){return this.editMode?["portal"]:["portal","header-search"]},ariaLabelFolder:function(){var e=this.tiles.length,t=0===this.tiles.length?m("No items"):1===this.tiles.length?m("Item"):m("Items");return this.inModal?null:"".concat(this.$localized(this.title)," ").concat(m("Folder"),": ").concat(e," ").concat(t)},isOpened:function(){return this.inModal?"div":"button"},EDIT_FOLDER:function(){return m("Edit Folder: %(folder)s",{folder:this.$localized(this.title)})},MOVE_FOLDER:function(){return m("Move Folder: %(folder)s",{folder:this.$localized(this.title)})},filteredTiles:function(){var t=this,e=this.tiles.filter(function(e){return ye(e,t.searchQuery)||Te(e,t.searchQuery)||Le(e,t.searchQuery)});return 0===e.length?this.tiles:e},ariaRole:function(){return this.inModal&&this.editMode?"application":this.inModal?"region":"none"}}),mounted:function(){var e=this;this.$nextTick(function(){window.addEventListener("resize",e.updateZoomQuery)}),this.$refs.mover&&this.handleDragFocus(this.$refs.mover.$el,this.lastDir)},beforeUnmount:function(){window.removeEventListener("resize",this.updateZoomQuery)},methods:{dropped:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.editMode&&t.inModal){e.next=2;break}return e.abrupt("return");case 2:t.$store.dispatch("portalData/saveLayout");case 3:case"end":return e.stop()}},e)}))()},closeFolder:function(){this.$store.dispatch("modal/closeFolder")},openFolder:function(e){this.inModal||(this.$store.dispatch("modal/setAndShowModal",{name:"PortalFolder",props:Object(l.a)(Object(l.a)({},this.$props),{},{id:"".concat(this.id,"-modal"),inModal:!0})}),this.$store.dispatch("activity/setRegion","".concat(this.id,"-modal-content")),e.stopPropagation())},editFolder:function(){this.$store.dispatch("modal/setAndShowModal",{name:"AdminFolder",stubborn:!0,props:{modelValue:this.$props,superDn:this.superDn,label:m("Edit folder")}})},isMoreThanFiveOrTen:function(e){var t="";return this.inModal||(3===e&&4<this.tiles.length?t="portal-folder__thumbnail--mobile":8===e&&10<=this.tiles.length&&(t="portal-folder__thumbnail--desktop")),t},updateZoomQuery:function(){var e=Math.round(100*window.devicePixelRatio/2);return!!e&&200<=e}}});n("2503"),se.render=function(n,e,t,o,i,a){var r=Object(j.z)("portal-tile"),s=Object(j.z)("tile-add"),c=Object(j.z)("region"),l=Object(j.z)("tabindex-element"),u=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)("div",{class:["portal-folder",[{"portal-folder__in-modal":n.inModal}]],draggable:n.editMode&&!n.inModal,onDragstart:e[6]||(e[6]=function(){return n.dragstart&&n.dragstart.apply(n,arguments)}),onDragenter:e[7]||(e[7]=function(){return n.dragenter&&n.dragenter.apply(n,arguments)}),onDragend:e[8]||(e[8]=function(){return n.dragend&&n.dragend.apply(n,arguments)}),onDragover:e[9]||(e[9]=Object(j.M)(function(){},["prevent"])),onDrop:e[10]||(e[10]=function(){return n.dropped&&n.dropped.apply(n,arguments)})},[Object(j.j)(l,{id:n.id,tag:n.isOpened,"active-at":n.activeAt,class:["portal-tile__box",[{"portal-tile__box--accessible-zoom":n.inModal&&n.updateZoomQuery(),"portal-tile__box--dragging":n.isBeingDragged}]],"aria-label":n.ariaLabelFolder,onClick:n.openFolder,onKeypress:Object(j.L)(n.openFolder,["enter"]),onKeydown:Object(j.L)(Object(j.M)(n.closeFolder,["stop"]),["esc"])},{default:Object(j.J)(function(){return[Object(j.j)(c,{id:"".concat(n.id,"-content"),"aria-role":n.ariaRole,class:["portal-folder__thumbnails",{"portal-folder__thumbnails--in-modal":n.inModal}],tabindex:"-1",role:"none"},{default:Object(j.J)(function(){return[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.filteredTiles,function(e,t){return Object(j.t)(),Object(j.f)("div",{key:e.id,class:"portal-folder__thumbnail ".concat(n.isMoreThanFiveOrTen(t))},[Object(j.j)(r,{id:"".concat(n.inModal?"modal-":"folder-").concat(e.id),ref:"portalFolderChildren"+t,"layout-id":e.layoutId,dn:e.dn,"super-dn":n.dn,title:e.title,description:e.description,keywords:e.keywords,activated:e.activated,anonymous:e.anonymous,"background-color":e.backgroundColor,links:e.links,"allowed-groups":e.allowedGroups,"link-target":e.linkTarget,target:e.target,"original-link-target":e.originalLinkTarget,"path-to-logo":e.pathToLogo,minified:!n.inModal,"from-folder":!0},null,8,["id","layout-id","dn","super-dn","title","description","keywords","activated","anonymous","background-color","links","allowed-groups","link-target","target","original-link-target","path-to-logo","minified"])],2)}),128)),n.editMode&&n.inModal?(Object(j.t)(),Object(j.f)("div",it,[Object(j.j)("div",at,[Object(j.j)(s,{"for-folder":!0,"super-dn":n.dn,"super-layout-id":n.layoutId},null,8,["super-dn","super-layout-id"])])])):Object(j.g)("",!0)]}),_:1},8,["id","aria-role","class"])]}),_:1},8,["id","tag","active-at","class","aria-label","onClick","onKeypress","onKeydown"]),Object(j.j)("span",{class:"portal-folder__name",onClick:e[1]||(e[1]=function(){return n.openFolder&&n.openFolder.apply(n,arguments)})},Object(j.D)(n.$localized(n.title)),1),Object(j.j)("div",rt,[n.editMode&&!n.inModal&&n.showEditButtonWhileDragging?(Object(j.t)(),Object(j.f)(u,{key:0,icon:"edit-2",class:"portal-folder__edit-button icon-button--admin","aria-label-prop":n.EDIT_FOLDER,onClick:n.editFolder},null,8,["aria-label-prop","onClick"])):Object(j.g)("",!0),n.editMode&&!n.inModal&&n.showMoveButtonWhileDragging?(Object(j.t)(),Object(j.f)(u,{key:1,id:"".concat(n.layoutId,"-move-button"),ref:"mover",icon:"move",class:"portal-tile__edit-button icon-button--admin","aria-label-prop":n.MOVE_FOLDER,onClick:n.dragKeyboardClick,onKeydown:[Object(j.L)(n.dragend,["esc"]),e[2]||(e[2]=Object(j.L)(function(e){return n.dragKeyboardDirection(e,"left")},["left"])),e[3]||(e[3]=Object(j.L)(function(e){return n.dragKeyboardDirection(e,"right")},["right"])),e[4]||(e[4]=Object(j.L)(function(e){return n.dragKeyboardDirection(e,"up")},["up"])),e[5]||(e[5]=Object(j.L)(function(e){return n.dragKeyboardDirection(e,"down")},["down"])),Object(j.L)(n.handleTabWhileMoving,["tab"])]},null,8,["id","aria-label-prop","onClick","onKeydown"])):Object(j.g)("",!0)])],42,["draggable"])};ce=se,le=Object(j.k)({name:"PortalCategory",components:{TileAdd:R,PortalTile:Ve,PortalFolder:ce,IconButton:$},mixins:[N],props:{layoutId:{type:String,required:!0},dn:{type:String,required:!0},title:{type:Object,required:!0},virtual:{type:Boolean,required:!0},tiles:{type:Array,required:!0},categoryIndex:{type:Number,required:!0}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({searchQuery:"search/searchQuery"})),{},{isTouchDevice:function(){return"ontouchstart"in document.documentElement},MOVE_CATEGORY:function(){return m("Move category: %(category)s",{category:this.$localized(this.title)})},EDIT_CATEGORY:function(){return m("Edit category: %(category)s",{category:this.$localized(this.title)})}}),methods:{dropped:function(t){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null===t.dataTransfer)return e.abrupt("return");e.next=3;break;case 3:return e.next=5,n.$store.dispatch("portalData/saveLayout");case 5:case"end":return e.stop()}},e)}))()},editCategory:function(){this.$store.dispatch("modal/setAndShowModal",{name:"AdminCategory",stubborn:!0,props:{modelValue:this.$props,label:"Edit category"}})}}});n("7bed"),le.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button"),s=Object(j.z)("portal-folder"),c=Object(j.z)("portal-tile"),l=Object(j.z)("tile-add");return Object(j.t)(),Object(j.f)("div",{class:[{"portal-category--dragging":t.isBeingDragged},"portal-category"],onDrop:e[6]||(e[6]=function(){return t.dropped&&t.dropped.apply(t,arguments)}),onDragover:e[7]||(e[7]=Object(j.M)(function(){},["prevent"])),onDragenter:e[8]||(e[8]=Object(j.M)(function(){},["prevent"]))},[Object(j.j)("h2",{class:["portal-category__title",{"portal-category__title-virtual":t.virtual}]},[t.editMode&&!t.virtual&&t.showEditButtonWhileDragging?(Object(j.t)(),Object(j.f)(r,{key:0,icon:"edit-2",class:"portal-category__edit-button icon-button--admin","aria-label-prop":t.EDIT_CATEGORY,onClick:t.editCategory},null,8,["aria-label-prop","onClick"])):Object(j.g)("",!0),t.editMode&&!t.virtual&&!t.isTouchDevice&&t.showMoveButtonWhileDragging?(Object(j.t)(),Object(j.f)(r,{key:1,id:"".concat(t.layoutId,"-move-button"),icon:"move",class:"portal-category__edit-button icon-button--admin","aria-label-prop":t.MOVE_CATEGORY,onClick:t.dragKeyboardClick,onKeydown:[Object(j.L)(t.dragend,["esc"]),e[1]||(e[1]=Object(j.L)(function(e){return t.dragKeyboardDirection(e,"up")},["up"])),e[2]||(e[2]=Object(j.L)(function(e){return t.dragKeyboardDirection(e,"down")},["down"])),Object(j.L)(t.handleTabWhileMoving,["tab"])]},null,8,["id","aria-label-prop","onClick","onKeydown"])):Object(j.g)("",!0),Object(j.j)("span",{draggable:t.editMode&&!t.virtual,onDragstart:e[3]||(e[3]=function(){return t.dragstart&&t.dragstart.apply(t,arguments)}),onDragenter:e[4]||(e[4]=function(){return t.dragenter&&t.dragenter.apply(t,arguments)}),onDragend:e[5]||(e[5]=function(){return t.dragend&&t.dragend.apply(t,arguments)})},Object(j.D)(t.$localized(t.title)),41,["draggable"])],2),Object(j.j)("div",tt,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(t.tiles,function(e){return Object(j.t)(),Object(j.f)(j.a,{key:e.id},[e.isFolder?(Object(j.t)(),Object(j.f)(s,{key:0,id:e.id,"layout-id":e.layoutId,dn:e.dn,"super-dn":t.dn,title:e.title,tiles:e.tiles},null,8,["id","layout-id","dn","super-dn","title","tiles"])):(Object(j.t)(),Object(j.f)(c,{key:1,id:e.id,"layout-id":e.layoutId,dn:e.dn,"super-dn":t.dn,title:e.title,description:e.description,keywords:e.keywords,activated:e.activated,anonymous:e.anonymous,"background-color":e.backgroundColor,links:e.links,"allowed-groups":e.allowedGroups,"link-target":e.linkTarget,target:e.target,"original-link-target":e.originalLinkTarget,"path-to-logo":e.pathToLogo},null,8,["id","layout-id","dn","super-dn","title","description","keywords","activated","anonymous","background-color","links","allowed-groups","link-target","target","original-link-target","path-to-logo"]))],64)}),128)),t.editMode?(Object(j.t)(),Object(j.f)(l,{key:0,"super-dn":t.dn,"super-layout-id":t.layoutId},null,8,["super-dn","super-layout-id"])):Object(j.g)("",!0)])],34)};var fe=le,Ot={ref:"tabs",class:"portal-header__tabs","data-test":"header-tabs"},jt={key:1,class:"portal-header__right"},yt={key:2,class:"portal-header__right"};var Tt={class:"header-button__inner",role:"presentation"},Lt={key:0,class:"header-button__detail"};pe=Object(j.k)({name:"HeaderButton",components:{PortalIcon:M,TabindexElement:A},props:{icon:{type:String,required:!0},ariaLabelProp:{type:String,required:!0},noClick:{type:Boolean,default:!1},counter:{type:Number,default:null},hoverClass:{type:String,default:""}},computed:{isActiveButton:function(){return this.$store.state.navigation.activeButton===this.icon},setRef:function(){return"".concat(this.icon,"Reference")},ariaLabel:function(){return null===this.counter?this.ariaLabelProp:1===this.counter?"".concat(this.ariaLabelProp,": ").concat(this.counter," ").concat(m("item")):"".concat(this.ariaLabelProp,": ").concat(this.counter," ").concat(m("items"))}},methods:{toggleActiveButton:function(){this.noClick||(this.isActiveButton?this.$store.dispatch("navigation/setActiveButton",""):this.$store.dispatch("navigation/setActiveButton",this.icon))},emptyActiveButton:function(){this.noClick||this.$store.dispatch("navigation/setActiveButton","")}}});n("02b3"),pe.render=function(e,t,n,o,i,a){var r=Object(j.z)("portal-icon"),s=Object(j.z)("tabindex-element");return Object(j.t)(),Object(j.f)("div",{class:[{"header-button--is-active":e.isActiveButton},"header-button"],onClick:t[1]||(t[1]=function(){return e.toggleActiveButton&&e.toggleActiveButton.apply(e,arguments)}),onKeyup:t[2]||(t[2]=Object(j.L)(Object(j.M)(function(){return e.emptyActiveButton&&e.emptyActiveButton.apply(e,arguments)},["stop"]),["esc"]))},[Object(j.j)("div",Tt,[Object(j.j)(s,{id:"header-button-"+e.icon,ref:e.setRef,tag:"button","active-at":["portal","header-".concat(e.icon)],"aria-expanded":e.isActiveButton,"aria-label":e.ariaLabel,class:["header-button__button",e.hoverClass]},{default:Object(j.J)(function(){return[Object(j.j)(r,{icon:e.icon},null,8,["icon"]),e.counter?(Object(j.t)(),Object(j.f)("div",Lt,Object(j.D)(e.counter),1)):Object(j.g)("",!0)]}),_:1},8,["id","active-at","aria-expanded","aria-label","class"])])],34)};var me=pe,kt={class:"header-tab__wrapper"},_t={class:"header-tab__title"};be=Object(j.k)({name:"HeaderTab",components:{IconButton:$,TabindexElement:A},props:{idx:{type:Number,required:!0},backgroundColor:{type:String,default:""},tabLabel:{type:String,default:"Nav Tab"},closeIcon:{type:String,default:"x"},isActive:{type:Boolean,default:!1},logo:{type:String,required:!0},hidden:{type:Boolean,required:!0}},data:function(){return{isMounted:!1,hasFocus:!1}},computed:{ariaLabelClose:function(){return"".concat(this.tabLabel,":  ").concat(m("Close"))},ariaLabelFocus:function(){return"".concat(this.tabLabel,":  ").concat(m("Select"))}},mounted:function(){this.isMounted=!0,this.$store.dispatch("activity/saveFocus",{region:"portal-header",id:"headerTab__".concat(this.idx)})},methods:{focusTab:function(){this.$store.dispatch("tabs/setActiveTab",this.idx)},closeTab:function(){this.$store.dispatch("tabs/deleteTab",this.idx)}}});n("face"),be.render=function(e,t,n,o,i,a){var r=Object(j.z)("tabindex-element"),s=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)("div",kt,[Object(j.j)(r,{id:"headerTab__".concat(e.idx),ref:"headerTab__".concat(e.idx),tag:"div","active-at":["portal"],hidden:e.hidden,class:["header-tab header-tab__clickable",{"header-tab--active":e.isActive}],onClick:e.focusTab,onKeydown:Object(j.L)(e.focusTab,["enter"])},{default:Object(j.J)(function(){return[Object(j.j)("div",{class:"header-tab__logo-wrapper",style:e.backgroundColor?"background: ".concat(e.backgroundColor):""},[Object(j.j)("img",{src:e.logo,onerror:"this.src='./questionMark.svg'",alt:"",class:"header-tab__logo"},null,8,["src"])],4),Object(j.j)("span",_t,Object(j.D)(e.tabLabel),1)]}),_:1},8,["id","hidden","class","onClick","onKeydown"]),Object(j.j)(s,{id:"close-tab-".concat(e.idx),icon:"x","aria-label-prop":e.ariaLabelClose,class:"header-tab__close-button","data-test":"close-tab-".concat(e.idx),hidden:e.hidden,onClick:e.closeTab},null,8,["id","aria-label-prop","data-test","hidden","onClick"])])};var he=be,St={ref:"searchInput",class:"portal-search"};we=Object(j.k)({name:"FlyoutWrapper",props:{isVisible:{type:Boolean,required:!0}}});n("d3ce"),we.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)("div",{class:[{"flyout-wrapper--isVisible":e.isVisible},"flyout-wrapper"]},[Object(j.y)(e.$slots,"default")],2)};Ee=we,De=Object(j.k)({name:"PortalSearch",components:{FlyoutWrapper:Ee},data:function(){return{portalSearch:""}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({activeButton:"navigation/getActiveButton",modalState:"modal/modalState",searchQuery:"search/searchQuery"})),{},{SEARCH:function(){return m("search")}}),mounted:function(){var e=this;this.$nextTick(function(){e.$refs.portalSearchInput.focus()})},beforeUnmount:function(){this.$store.dispatch("search/setSearchQuery","")},methods:{searchTiles:function(){var t=this;this.$store.dispatch("search/setSearchQuery",this.portalSearch.toLowerCase()),this.$nextTick(function(){var e=document.querySelectorAll(".portal-tile").length.toString();t.$store.dispatch("activity/setMessage",m("%(num)s search results",{num:e}))})},closeSearchInput:function(){this.$store.dispatch("activity/setRegion","portal-header"),this.$store.dispatch("navigation/setActiveButton","")}}});n("33b9"),De.render=function(t,e,n,o,i,a){var r=Object(j.z)("flyout-wrapper");return Object(j.t)(),Object(j.f)("div",St,[Object(j.j)(j.c,{name:"slide",appear:""},{default:Object(j.J)(function(){return["search"===t.activeButton?(Object(j.t)(),Object(j.f)(r,{key:0,"is-visible":"search"===t.activeButton,class:"portal-search__wrapper"},{default:Object(j.J)(function(){return[Object(j.K)(Object(j.j)("input",{id:"portal-search-input",ref:"portalSearchInput","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.portalSearch=e}),"data-test":"searchInput",type:"text",class:"portal-search__input","aria-label":t.SEARCH,onInput:e[2]||(e[2]=function(){return t.searchTiles&&t.searchTiles.apply(t,arguments)}),onKeyup:e[3]||(e[3]=Object(j.L)(function(e){return t.closeSearchInput()},["esc"]))},null,40,["aria-label"]),[[j.G,t.portalSearch]])]}),_:1},8,["is-visible"])):Object(j.g)("",!0)]}),_:1})],512)};var Ae=De,wt={class:"portal-modal"},Et={class:"choose-tab__logo-wrapper"},Dt={key:0,class:"sr-only sr-only-mobile"};xe=Object(j.k)({name:"ChooseTabs",components:{ModalDialog:V,ModalWrapper:B,IconButton:$},computed:Object(l.a)(Object(l.a)({},Object(o.b)({tabs:"tabs/allTabs",activeTab:"tabs/activeTabIndex"})),{},{CHOOSE_TAB:function(){return m("Choose a tab")},ACTIVE:function(){return": ".concat(m("active"))}}),watch:{activeTab:function(e){0===e&&this.cancel()}},mounted:function(){this.$store.dispatch("activity/setLevel","modal");var e=this.$refs.currentTab;null==e||e.focus()},methods:{ariaLabelChooseTab:function(e){return"".concat(e," ").concat(m("Select"))},ariaLabelCloseTab:function(e){return"".concat(e," ").concat(m("Close"))},closeTab:function(e){this.$store.dispatch("tabs/deleteTab",e+1),0===this.tabs.length&&this.$store.dispatch("navigation/setActiveButton","")},gotoTab:function(e){this.$store.dispatch("tabs/setActiveTab",e+1),this.cancel()},cancel:function(){this.$store.dispatch("navigation/setActiveButton","")},isActiveTab:function(e){return this.activeTab===e+1}}});n("fafe"),xe.render=function(n,e,t,o,i,a){var r=Object(j.z)("icon-button"),s=Object(j.z)("modal-dialog"),c=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)("div",wt,[Object(j.j)(c,{"is-active":!0,onBackgroundClick:n.cancel},{default:Object(j.J)(function(){return[Object(j.j)(s,{"i18n-title-key":n.CHOOSE_TAB,"data-test":"choose-tabs",onCancel:n.cancel},{default:Object(j.J)(function(){return[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.tabs,function(e,t){return Object(j.t)(),Object(j.f)("div",{key:t,class:["choose-tab",{"choose-tab--active":n.isActiveTab(t)}]},[Object(j.j)("div",{id:"choose-tab__button--".concat(t+1),ref:0===n.activeTab&&0===t||n.activeTab===t+1?"currentTab":"",class:"choose-tab__button",tabindex:"0",onClick:Object(j.M)(function(e){return n.gotoTab(t)},["prevent"]),onKeydown:Object(j.L)(Object(j.M)(function(e){return n.gotoTab(t)},["prevent"]),["enter"])},[Object(j.j)("div",Et,[Object(j.j)("img",{src:e.logo,onerror:"this.src='./questionMark.svg'",alt:"",class:"choose-tab__img"},null,8,["src"])]),Object(j.i)(" "+Object(j.D)(e.tabLabel)+" ",1),n.isActiveTab(t)?(Object(j.t)(),Object(j.f)("span",Dt,Object(j.D)(n.ACTIVE),1)):Object(j.g)("",!0)],40,["id","onClick","onKeydown"]),Object(j.j)(r,{icon:"x","active-at":["modal"],"aria-label-prop":n.ariaLabelCloseTab(e.tabLabel),"data-test":"chooseTabCloseButton--".concat(t+1),onClick:function(e){return n.closeTab(t)}},null,8,["aria-label-prop","data-test","onClick"])],2)}),128))]}),_:1},8,["i18n-title-key","onCancel"])]}),_:1},8,["onBackgroundClick"])])};var We=xe,At={key:1,class:"portal-title__portal-home-icon"},xt={key:2,class:"portal-title__portal-name sr-only-mobile"};Ze=Object(j.k)({name:"PortalTitle",components:{PortalIcon:M,TabindexElement:A},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalLogo:"portalData/portalLogo",portalName:"portalData/portalName",savedScrollPosition:"tabs/savedScrollPosition",activeButton:"navigation/getActiveButton"})),{},{SHOW_PORTAL:function(){return m("Show portal")},portalNameString:function(){return this.$localized(this.portalName)}}),methods:{goHome:function(){var e=this;this.$store.dispatch("tabs/setActiveTab",0),setTimeout(function(){window.scrollTo(0,e.savedScrollPosition)},10),this.$store.dispatch("navigation/setActiveButton","")}}});n("588a"),Ze.render=function(e,t,n,o,i,a){var r=Object(j.z)("PortalIcon"),s=Object(j.z)("tabindex-element");return Object(j.t)(),Object(j.f)(s,{id:"portalTitle","active-at":["portal"],"aria-label":e.SHOW_PORTAL,tag:"div",class:"portal-title",role:"button",onClick:e.goHome,onKeydown:Object(j.L)(e.goHome,["enter"])},{default:Object(j.J)(function(){return[e.portalLogo?(Object(j.t)(),Object(j.f)("img",{key:0,src:e.portalLogo,class:"portal-title__image",alt:""},null,8,["src"])):(Object(j.t)(),Object(j.f)("div",At,[Object(j.j)(r,{icon:"home"})])),e.portalNameString?(Object(j.t)(),Object(j.f)("h1",xt,Object(j.D)(e.portalNameString),1)):Object(j.g)("",!0)]}),_:1},8,["aria-label","onClick","onKeydown"])};et=Ze;i=Object(j.k)({name:"PortalHeader",components:{HeaderButton:me,HeaderTab:he,PortalSearch:Ae,ChooseTabs:We,Region:ze,PortalTitle:et,IconButton:$},data:function(){return{tabsOverflow:!1,scrollbarWidth:0}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalLogo:"portalData/portalLogo",portalName:"portalData/portalName",activeTabIndex:"tabs/activeTabIndex",tabs:"tabs/allTabs",savedScrollPosition:"tabs/savedScrollPosition",numTabs:"tabs/numTabs",editMode:"portalData/editMode",activeButton:"navigation/getActiveButton",numNotifications:"notifications/numNotifications"})),{},{showTabButton:function(){return 0<this.numTabs&&this.tabsOverflow},EDIT_MODE:function(){return m("Edit mode")},OPEN_EDIT_SIDEBAR:function(){return m("Open edit sidebar")},STOP_EDIT_PORTAL:function(){return m("Stop edit portal")},TABS:function(){return m("Tabs")},SEARCH:function(){return m("search")},NOTIFICATIONS:function(){return m("Notifications")},MENU:function(){return m("Menu")},SideNavopenExtraPadding:function(){return"settings"===this.activeButton||"bell"===this.activeButton?"padding-right: calc(2 * var(--layout-spacing-unit) + ".concat(this.scrollbarWidth,"px)"):""},inEditModeAndSideNavopenPositioningAdjustment:function(){return"settings"===this.activeButton?"right: calc(50% - 75px + ".concat(this.scrollbarWidth/2,"px)"):""}}),watch:{numTabs:function(){var e=this;this.$nextTick(function(){e.updateOverflow()})}},mounted:function(){var e=this;this.scrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);var t=document.createElement("div");e.appendChild(t);var n=e.offsetWidth-t.offsetWidth;return null===(t=e.parentNode)||void 0===t||t.removeChild(e),n}(),this.$nextTick(function(){window.addEventListener("resize",e.updateOverflow)})},beforeUnmount:function(){window.removeEventListener("resize",this.updateOverflow)},methods:{updateOverflow:function(){var e=this.$refs.tabs;null!==e&&(this.tabsOverflow=e.scrollWidth>e.clientWidth)},closeNotificationsSidebar:function(){this.$store.dispatch("navigation/closeNotificationsSidebar")},chooseTab:function(){this.$store.dispatch("modal/setAndShowModal",{name:"ChooseTabs"})},goHome:function(){var e=this;this.$store.dispatch("tabs/setActiveTab",0),setTimeout(function(){window.scrollTo(0,e.savedScrollPosition)},10),this.$store.dispatch("navigation/setActiveButton","")},stopEditMode:function(){this.$store.dispatch("portalData/setEditMode",!1),this.$store.dispatch("navigation/setActiveButton","")}}});n("fae7"),i.render=function(n,e,t,o,i,a){var r=Object(j.z)("portal-title"),s=Object(j.z)("header-tab"),c=Object(j.z)("icon-button"),l=Object(j.z)("header-button"),u=Object(j.z)("portal-search"),d=Object(j.z)("region"),f=Object(j.z)("choose-tabs");return Object(j.t)(),Object(j.f)(j.a,null,[Object(j.j)(d,{id:"portal-header",role:"banner",class:[{"portal-header__tabs-overflow":n.tabsOverflow},"portal-header"],style:n.SideNavopenExtraPadding},{default:Object(j.J)(function(){return[Object(j.j)(r),Object(j.j)("div",Ot,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.tabs,function(e,t){return Object(j.t)(),Object(j.f)(s,{key:t,idx:t+1,"tab-label":e.tabLabel,"is-active":n.activeTabIndex==t+1,"background-color":e.backgroundColor,logo:e.logo,hidden:n.tabsOverflow},null,8,["idx","tab-label","is-active","background-color","logo","hidden"])}),128))],512),n.editMode?(Object(j.t)(),Object(j.f)("div",{key:0,class:"portal-header__edit-mode-label",style:n.inEditModeAndSideNavopenPositioningAdjustment},[Object(j.i)(Object(j.D)(n.EDIT_MODE)+" ",1),Object(j.j)(c,{"aria-label-prop":n.STOP_EDIT_PORTAL,icon:"x",onClick:n.stopEditMode},null,8,["aria-label-prop","onClick"])],4)):Object(j.g)("",!0),n.editMode?(Object(j.t)(),Object(j.f)("div",jt,[Object(j.j)(l,{"data-test":"bellbutton","aria-label-prop":n.NOTIFICATIONS,icon:"bell",counter:n.numNotifications,onKeydown:[Object(j.L)(n.closeNotificationsSidebar,["esc"]),Object(j.L)(n.closeNotificationsSidebar,["right"]),Object(j.L)(n.closeNotificationsSidebar,["left"])]},null,8,["aria-label-prop","counter","onKeydown"]),Object(j.j)(l,{"data-test":"settingsbutton","aria-label-prop":n.OPEN_EDIT_SIDEBAR,icon:"settings"},null,8,["aria-label-prop"])])):(Object(j.t)(),Object(j.f)("div",yt,[n.showTabButton?(Object(j.t)(),Object(j.f)(l,{key:0,ref:"tabButton","data-test":"tabbutton","aria-label-prop":n.TABS,icon:"copy",counter:n.numTabs,class:"portal-header__tab-button"},null,8,["aria-label-prop","counter"])):Object(j.g)("",!0),Object(j.j)(l,{ref:"searchButton","data-test":"searchbutton","aria-label-prop":n.SEARCH,icon:"search"},null,8,["aria-label-prop"]),Object(j.j)(l,{"data-test":"bellbutton","aria-label-prop":n.NOTIFICATIONS,icon:"bell",counter:n.numNotifications,onKeydown:[Object(j.L)(n.closeNotificationsSidebar,["esc"]),Object(j.L)(n.closeNotificationsSidebar,["right"]),Object(j.L)(n.closeNotificationsSidebar,["left"])]},null,8,["aria-label-prop","counter","onKeydown"]),Object(j.j)(l,{"aria-label-prop":n.MENU,"data-test":"navigationbutton",icon:"menu"},null,8,["aria-label-prop"])])),"search"===n.activeButton?(Object(j.t)(),Object(j.f)(u,{key:3})):Object(j.g)("",!0)]}),_:1},8,["class","style"]),"copy"===n.activeButton?(Object(j.t)(),Object(j.f)(f,{key:0})):Object(j.g)("",!0)],64)};var I=i,It={class:"portal-iframe"},Mt=Object(j.j)("span",{class:"portal-iframe__status"},null,-1);P=Object(j.k)({name:"PortalIframe",props:{link:{type:String,required:!0},isActive:{type:Boolean,default:!1},tabId:{type:Number,required:!0},title:{type:String,required:!0}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({activeButton:"navigation/getActiveButton"})),{},{tabindex:function(){return"copy"===this.activeButton?-1:0}}),mounted:function(){var e;null===(e=this.$refs.iframe.contentWindow)||void 0===e||e.focus()},updated:function(){var e;this.isActive&&""===this.activeButton&&(null===(e=this.$refs.iframe.contentWindow)||void 0===e||e.focus())}});n("1773"),P.render=function(e,t,n,o,i,a){return Object(j.K)((Object(j.t)(),Object(j.f)("div",It,[Mt,Object(j.j)("iframe",{id:"iframe-".concat(e.tabId+1),ref:"iframe",src:e.link,title:e.title,tabindex:e.tabindex,class:"portal-iframe__iframe",allow:"geolocation; microphone; camera; midi; encrypted-media"},null,8,["id","src","title","tabindex"])],512)),[[j.H,e.isActive]])};var Ne=P,Ct={class:"portal-modal"};function $t(e,t){return-1<e.indexOf(t)?0:-1}n("2ca0");var Nt={key:0};var Vt={key:0,class:"form-element__help-text"};var Pt={key:0,"aria-hidden":"true"},Bt={class:"sr-only sr-only-mobile"};se=Object(j.k)({name:"Label",components:{PortalIcon:M},props:{forAttr:{type:String,required:!0},label:{type:String,required:!0},required:{type:Boolean,default:!1},invalidMessage:{type:String,default:""},showHelpIcon:{type:Boolean,default:!1},displayDescription:{type:Boolean,default:!1},tabindex:{type:Number,default:0}},emits:["toggleDescription"],computed:{HELP_TEXT:function(){return"".concat(this.label,": ").concat(this.buttonText)},icon:function(){return this.displayDescription?"x-circle":"help-circle"},buttonText:function(){return this.displayDescription?m("Hide Description"):m("Show Description")}},methods:{toggleHelpText:function(){this.$emit("toggleDescription")}}});n("41f7"),se.render=function(e,t,n,o,i,a){var r=Object(j.z)("portal-icon");return Object(j.t)(),Object(j.f)("label",{for:e.forAttr,class:"form-label"},[Object(j.i)(Object(j.D)(e.label)+" ",1),e.required?(Object(j.t)(),Object(j.f)("span",Pt,"*")):Object(j.g)("",!0),e.showHelpIcon?(Object(j.t)(),Object(j.f)("button",{key:1,type:"button",class:"form-label__button",tabindex:e.tabindex,onClick:t[1]||(t[1]=function(){return e.toggleHelpText&&e.toggleHelpText.apply(e,arguments)})},[Object(j.j)("span",Bt,Object(j.D)(e.HELP_TEXT),1),Object(j.j)(r,{icon:e.icon,class:"form-label__portal-icon"},null,8,["icon"])],8,["tabindex"])):Object(j.g)("",!0)],8,["for"])};var R=se,Rt={key:0,class:"input-error-message"};Ve=Object(j.k)({name:"InputErrorMessage",components:{PortalIcon:M},props:{errorMessage:{type:String,required:!0},displayCondition:{type:Boolean,required:!0}}});n("526c"),Ve.render=function(e,t,n,o,i,a){var r=Object(j.z)("portal-icon");return e.displayCondition?(Object(j.t)(),Object(j.f)("div",Rt,[e.displayCondition?(Object(j.t)(),Object(j.f)(j.a,{key:0},[Object(j.j)(r,{icon:"alert-circle",class:"input-error-message__icon"}),Object(j.j)("span",null,Object(j.D)(e.errorMessage),1)],64)):Object(j.g)("",!0)])):Object(j.g)("",!0)};N=Ve;function Ft(n,e){switch(n.type){case"TextBox":case"TextArea":case"DateBox":case"ComboBox":case"PasswordBox":case"RadioBox":case"ImageUploader":case"NumberSpinner":case"TimeBox":return""===e;case"MultiInput":return e.every(function(e){return Array.isArray(e)?e.every(function(e,t){return Ft(n.subtypes[t],e)}):Ft(n.subtypes[0],e)});case"LocaleInput":return""===e.en_US||void 0===e.en_US;case"MultiSelect":case"LinkWidget":return 0===e.length;case"CheckBox":return!e;default:return!1}}function Ut(n){if(void 0===n.invalidMessage)return!0;switch(n.type){case"TextBox":case"TextArea":case"DateBox":case"ComboBox":case"PasswordBox":case"RadioBox":case"ImageUploader":case"LocaleInput":case"CheckBox":case"MultiSelect":case"LinkWidget":case"NumberSpinner":case"TimeBox":return""===n.invalidMessage;case"MultiInput":return""===n.invalidMessage.all&&n.invalidMessage.values.every(function(e){return Array.isArray(e)?e.every(function(e,t){return Ut({type:n.subtypes[t].type,invalidMessage:e})}):Ut({type:n.subtypes[0].type,invalidMessage:e})});default:return!0}}function qt(e){return e.every(Ut)}function Wt(t,n){return t.forEach(function(e){!function(n,e,i,a){function r(e,t){switch(e.type){case"TextBox":case"TextArea":case"DateBox":case"ComboBox":case"PasswordBox":case"MultiInput":case"RadioBox":case"ImageUploader":case"LocaleInput":case"MultiSelect":case"LinkWidget":case"CheckBox":case"NumberSpinner":case"TimeBox":return e.required&&Ft(e,t)?m("This value is required"):"";default:return""}}function o(t,n){var e=[r].concat(Object(ge.a)(null!==(e=t.validators)&&void 0!==e?e:[])),o="";return e.some(function(e){e=e(t,n,i,a);return""!==(null!=e?e:"")&&(o=e,!0)}),o}switch(n.type){case"TextBox":case"TextArea":case"DateBox":case"ComboBox":case"PasswordBox":case"RadioBox":case"ImageUploader":case"LocaleInput":case"CheckBox":case"MultiSelect":case"LinkWidget":case"TimeBox":case"NumberSpinner":n.invalidMessage=o(n,e);break;case"MultiInput":n.invalidMessage={all:o(n,e),values:e.map(function(e){return Array.isArray(e)?e.map(function(e,t){return o(n.subtypes[t],e)}):o(n.subtypes[0],e)})}}}(e,n[e.name],t,n)}),qt(t)}function zt(n,e){switch(n.type){case"TextBox":case"TextArea":case"DateBox":case"ComboBox":case"PasswordBox":case"RadioBox":case"ImageUploader":case"TimeBox":return"string"==typeof e?e:"";case"LocaleInput":return null!=e?e:{en_US:""};case"CheckBox":return"boolean"==typeof e&&e;case"NumberSpinner":return"number"==typeof e&&e;case"MultiInput":if(Array.isArray(e))return e.map(function(e){return Array.isArray(e)?e.map(function(e,t){return zt(n.subtypes[t],e)}):zt(n.subtypes[0],e)});var t=n.subtypes.map(function(e){return zt(e,null)});return 1===t.length?t:[t];default:return e}}function Gt(e){if(void 0===e.invalidMessage)return"";switch(e.type){case"TextBox":case"TextArea":case"DateBox":case"ComboBox":case"PasswordBox":case"RadioBox":case"ImageUploader":case"LocaleInput":case"CheckBox":case"MultiSelect":case"NumberSpinner":case"LinkWidget":case"TimeBox":return e.invalidMessage;case"MultiInput":return e.invalidMessage.all;default:return""}}function Jt(e,t){return new RegExp("(^[a-zA-Z0-9])[a-zA-Z0-9._-]*([a-zA-Z0-9]$)").test(t)?"":m("Internal name must not contain anything other than digits, letters or dots, must be at least 2 characters long, and start and end with a digit or letter!")}n("4d63");le=Object(j.k)({name:"ComboBox",props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},options:{type:Array,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"ComboBox",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.select.focus()}}});le.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("select",{id:t.forAttrOfLabel,ref:"select",name:t.name,value:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"combo-box",onChange:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(t.options,function(e){return Object(j.t)(),Object(j.f)("option",{key:e.id,value:e.id},Object(j.D)(e.label),9,["value"])}),128))],40,["id","name","value","aria-invalid","aria-describedby"])};pe=le;be=Object(j.k)({name:"DateBox",props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"DateBox",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.input.focus()}}});be.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("input",{id:t.forAttrOfLabel,ref:"input",name:t.name,type:"date",value:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"date-box",onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,["id","name","value","aria-invalid","aria-describedby"])};var we=be,Ht={class:"multi-input"};var Kt={class:"password-box"};De=Object(j.k)({name:"ToggleButton",components:{IconButton:$},props:{isToggled:{type:Boolean,required:!0},toggleLabels:{type:Object,required:!0},toggleIcons:{type:Object,required:!0},activeAt:{type:Array,default:function(){return["portal"]}}},emits:["update:isToggled"],computed:{toggleLabel:function(){return this.isToggled?this.toggleLabels.toggled:this.toggleLabels.initial}}});De.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)(r,{icon:t.isToggled?t.toggleIcons.toggled:t.toggleIcons.initial,"aria-label-prop":t.toggleLabel,title:t.toggleLabel,"active-at":t.activeAt,class:"toggle-button","data-test":"toggle-button",onClick:e[1]||(e[1]=function(e){return t.$emit("update:isToggled",!t.isToggled)})},null,8,["icon","aria-label-prop","title","active-at"])};xe=De,Ze=Object(j.k)({name:"PasswordBox",components:{ToggleButton:xe},props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},required:{type:Boolean,default:!1},canShowPassword:{type:Boolean,default:!1}},emits:["update:modelValue"],data:function(){return{showPassword:!1}},computed:{invalid:function(){return!Ut({type:"PasswordBox",invalidMessage:this.invalidMessage})},TOGGLE_PASSWORD:function(){return{initial:m("Show password"),toggled:m("Hide password")}},passwordIcons:function(){return{initial:"eye-off",toggled:"eye"}}},methods:{focus:function(){this.$refs.input.focus()},updateShowPassword:function(e){this.showPassword=e,this.$refs.input.type=e?"text":"password"}}});n("b9ee"),Ze.render=function(t,e,n,o,i,a){var r=Object(j.z)("toggle-button");return Object(j.t)(),Object(j.f)("div",Kt,[Object(j.j)("input",{id:t.forAttrOfLabel,ref:"input",disabled:t.disabled,tabindex:t.tabindex,required:t.required,name:t.name,type:"password",value:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"password-box",onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,["id","disabled","tabindex","required","name","value","aria-invalid","aria-describedby"]),t.canShowPassword?(Object(j.t)(),Object(j.f)(r,{key:0,disabled:t.disabled,tabindex:t.tabindex,"toggle-icons":t.passwordIcons,"toggle-labels":t.TOGGLE_PASSWORD,class:"password-box__icon","data-test":"password-box-icon","is-toggled":t.showPassword,"onUpdate:isToggled":t.updateShowPassword},null,8,["disabled","tabindex","toggle-icons","toggle-labels","is-toggled","onUpdate:isToggled"])):Object(j.g)("",!0)])};me=Ze;he=Object(j.k)({name:"TextBox",props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"TextBox",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.input.focus()}}});he.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("input",{id:t.forAttrOfLabel,ref:"input",name:t.name,type:"text",value:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"text-box",onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,["id","name","value","aria-invalid","aria-describedby"])};var Ae=he,Yt={key:0,class:"form-element__help-text"};et=Object(j.k)({name:"TextArea",props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"TextArea",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.textarea.focus()}}});et.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("textarea",{id:t.forAttrOfLabel,ref:"textarea",name:t.name,value:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"textarea",class:"textarea",onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,["id","name","value","aria-invalid","aria-describedby"])};i=et;P=Object(j.k)({name:"CheckBox",props:{name:{type:String,required:!0},modelValue:{type:Boolean,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"CheckBox",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.input.focus()}}});P.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("input",{id:t.forAttrOfLabel,ref:"input",name:t.name,type:"checkbox",checked:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,onChange:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.checked)})},null,40,["id","name","checked","aria-invalid","aria-describedby"])};var se=P,Xt={class:"radio-box","data-test":"radio-box"};Ve=Object(j.k)({name:"RadioBox",props:{modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},options:{type:Array,required:!0},name:{type:String,required:!0},tabindex:{type:Number,default:0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"RadioBox",invalidMessage:this.invalidMessage})}},methods:{focus:function(){var e=null===(e=this.options[0])||void 0===e?void 0:e.id;null===(e=this.$refs["option--".concat(e)])||void 0===e||e.focus()}}});n("9ce5"),Ve.render=function(n,e,t,o,i,a){return Object(j.t)(),Object(j.f)("div",Xt,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.options,function(t){return Object(j.t)(),Object(j.f)("label",{key:t,for:"".concat(n.name,"--").concat(t.id),class:"radio-box__label"},[Object(j.j)("input",{id:"".concat(n.name,"--").concat(t.id),ref:"option--".concat(t.id),type:"radio",tabindex:n.tabindex,name:"radio-input",value:t.id,class:"radio-box__input",checked:n.modelValue===t.id,onChange:function(e){return n.$emit("update:modelValue",t.id)}},null,40,["id","tabindex","value","checked","onChange"]),Object(j.i)(" "+Object(j.D)(t.label),1)],8,["for"])}),128))])};var le=Ve,Qt={key:1,class:"image-upload__nofile"},Zt={class:"image-upload__maxFileSize"},en={class:"image-upload__footer"},tn={class:"sr-only sr-only-mobile"},nn={class:"sr-only sr-only-mobile"};n("b680"),n("9129"),n("498a");var on={class:"standbyWrapper"};var an={class:"standbyCircle"},rn=Object(j.j)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[Object(j.j)("circle",{cx:"50",cy:"50",r:"45"})],-1);n("ca2e");const sn={render:function(e,t){return Object(j.t)(),Object(j.f)("div",an,[rn])}};be=sn,De=Object(j.k)({name:"StandyWrapper",components:{StandbyCircle:be}});n("9083"),De.render=function(e,t,n,o,i,a){var r=Object(j.z)("standby-circle");return Object(j.t)(),Object(j.f)("div",on,[Object(j.j)(r)])};xe=De,Ze=Object(j.k)({name:"ImageUploader",components:{PortalIcon:M,StandbyWrapper:xe},props:{extraLabel:{type:String,required:!0},modelValue:{type:String,required:!0},tabindex:{type:Number,default:0},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0},accept:{type:String,default:"image/*"}},emits:["update:modelValue"],data:function(){return{fileName:"",loading:!1,maxFileSize:2097152}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({metaData:"metaData/getMeta"})),{},{SELECT_FILE:function(){return m("Select file")},UPLOAD:function(){return m("Upload")},REMOVE:function(){return m("Remove")},IMAGE_UPLOAD_STATE:function(){return"".concat(this.extraLabel,", ").concat(this.hasImage)},UPLOAD_MAX:function(){return m("(maximum file size is %(maxFileSize)s MB)",{maxFileSize:(this.maxFileSize/1048576).toFixed(1).toString()})},hasImage:function(){return this.modelValue?this.fileName:m("no file selected")}}),created:function(){var e=parseInt(this.metaData["umc/server/upload/max"],10);Number.isNaN(e)||(this.maxFileSize=1024*e)},methods:{triggerUpload:function(){this.$refs.fileInput.click()},drop:function(e){e=e.dataTransfer;e&&e.files&&e.files.length&&this.setFile(e.files[0])},onUpload:function(e){e=e.target;e.files&&e.files.length&&this.setFile(e.files[0])},setFile:function(n){var t=this,e=this.$refs.fileInput;if(n.size>this.maxFileSize)return e.value="",void this.$store.dispatch("notifications/addErrorNotification",{title:"",description:m('The image "%(filename)s" could not be uploaded because it exceeds the maximum file size of %(maxFileSize)s MB.',{filename:n.name,maxFileSize:(this.maxFileSize/1048576).toFixed(1).toString()})});var o=null===(o=this.accept)||void 0===o?void 0:o.split(",").map(function(e){return e.trim()});if(o&&!o.some(function(e){if(e.startsWith(".")){var t=n.name.split(".").pop().toLowerCase();return".".concat(t)===e.toLowerCase()}if(["image/*","audio/*","video/*"].includes(e)){t=e.split("*")[0];return n.type.startsWith(t)}return n.type===e}))return e.value="",void this.$store.dispatch("notifications/addErrorNotification",{title:"",description:m('The file "%(filename)s" could not be uploaded because it is an unaccepted file type.',{filename:n.name})});this.loading=!0,this.fileName=n.name;e=new FileReader;e.onload=function(e){t.loading=!1,e.target&&t.$emit("update:modelValue",e.target.result)},e.readAsDataURL(n)},remove:function(){this.$emit("update:modelValue",""),this.fileName=""},focus:function(){this.$refs.uploadButton.focus()}}});n("2e3a"),Ze.render=function(e,t,n,o,i,a){var r=Object(j.z)("standby-wrapper"),s=Object(j.z)("portal-icon");return Object(j.t)(),Object(j.f)("div",{class:["image-upload",{"image-upload--loading":e.loading}]},[Object(j.j)("div",{class:"image-upload__canvas","data-test":"imageUploadCanvas--".concat(e.extraLabel),onDragenter:t[1]||(t[1]=Object(j.M)(function(){},["prevent"])),onDragover:t[2]||(t[2]=Object(j.M)(function(){},["prevent"])),onDrop:t[3]||(t[3]=Object(j.M)(function(){return e.drop&&e.drop.apply(e,arguments)},["prevent"])),onClick:t[4]||(t[4]=function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)})},[e.modelValue?(Object(j.t)(),Object(j.f)("img",{key:0,src:e.modelValue,"data-test":"imagePreview--".concat(e.extraLabel),alt:""},null,8,["src","data-test"])):(Object(j.t)(),Object(j.f)("div",Qt,[Object(j.j)("span",null,Object(j.D)(e.SELECT_FILE),1)])),Object(j.j)(j.c,{name:"loading"},{default:Object(j.J)(function(){return[e.loading?(Object(j.t)(),Object(j.f)(r,{key:0,class:"image-upload__standby"})):Object(j.g)("",!0)]}),_:1})],40,["data-test"]),Object(j.j)("div",Zt,Object(j.D)(e.UPLOAD_MAX),1),Object(j.j)("footer",en,[Object(j.j)("input",{ref:"fileInput",class:"image-upload__file-input",type:"file","data-test":"imageUploadFileInput--".concat(e.extraLabel),accept:e.accept,onChange:t[5]||(t[5]=function(){return e.onUpload&&e.onUpload.apply(e,arguments)})},null,40,["data-test","accept"]),Object(j.j)("button",{ref:"uploadButton",type:"button",tabindex:e.tabindex,"data-test":"imageUploadButton--".concat(e.extraLabel),onClick:t[6]||(t[6]=Object(j.M)(function(){return e.triggerUpload&&e.triggerUpload.apply(e,arguments)},["prevent"]))},[Object(j.j)(s,{icon:"upload"}),Object(j.i)(" "+Object(j.D)(e.UPLOAD)+" ",1),Object(j.j)("span",tn,Object(j.D)(e.IMAGE_UPLOAD_STATE),1)],8,["tabindex","data-test"]),Object(j.j)("button",{type:"button",tabindex:e.tabindex,disabled:!e.modelValue,"data-test":"imageRemoveButton--".concat(e.extraLabel),onClick:t[7]||(t[7]=Object(j.M)(function(){return e.remove&&e.remove.apply(e,arguments)},["prevent"]))},[Object(j.j)(s,{icon:"trash"}),Object(j.i)(" "+Object(j.D)(e.REMOVE)+" ",1),Object(j.j)("span",nn,Object(j.D)(e.extraLabel),1)],8,["tabindex","disabled","data-test"])])],2)};var he=Ze,cn={class:"locale-input","data-test":"locale-input"},ln={class:"locale-input__wrapper"};et=Object(j.k)({name:"LocaleInput",components:{IconButton:$},props:{modelValue:{type:Object,required:!0},name:{type:String,required:!0},i18nLabel:{type:String,required:!0},tabindex:{type:Number,default:0},isInModal:{type:Boolean,default:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0},required:{type:Boolean,default:!1}},emits:["update:modelValue"],computed:Object(l.a)(Object(l.a)({},Object(o.b)({locales:"locale/getAvailableLocales"})),{},{TRANSLATE_TEXT_INPUT:function(){return m("Edit Translations")},translationEditingDialogLevel:function(){return this.isInModal?2:1},invalid:function(){return!Ut({type:"TextBox",invalidMessage:this.invalidMessage})}}),methods:{onInputEN:function(e){var t=JSON.parse(JSON.stringify(this.modelValue));t.en_US=e.target.value,this.$emit("update:modelValue",t)},openTranslationEditingDialog:function(){var t=this;this.$store.dispatch("modal/setShowModalPromise",{level:this.translationEditingDialogLevel,name:"TranslationEditing",stubborn:!0,props:{inputValue:this.modelValue,title:this.i18nLabel,modalLevelProp:this.translationEditingDialogLevel}}).then(function(e){t.$emit("update:modelValue",e.translations)},function(){}).finally(function(){t.$store.dispatch("modal/hideAndClearModal",t.translationEditingDialogLevel),t.$store.dispatch("activity/setRegion","modal-wrapper--isVisible-1")}),this.$store.dispatch("activity/setLevel","modal2"),this.$store.dispatch("activity/saveFocus",{region:"modal-wrapper--isVisible-1",id:"locale-input__icon--".concat(this.i18nLabel)})},focus:function(){this.$refs.input.focus()}}});n("59e5"),et.render=function(e,t,n,o,i,a){var r=Object(j.z)("icon-button");return Object(j.t)(),Object(j.f)("div",cn,[Object(j.j)("div",ln,[Object(j.j)("input",{id:e.forAttrOfLabel,ref:"input",value:e.modelValue.en_US,class:"locale-input__text-field",autocomplete:"off",name:e.name,tabindex:e.tabindex,required:e.required,"aria-invalid":e.invalid,"aria-describedby":e.invalidMessageId||null,"data-test":"localeInput--".concat(e.i18nLabel),onInput:t[1]||(t[1]=function(){return e.onInputEN&&e.onInputEN.apply(e,arguments)})},null,40,["id","value","name","tabindex","required","aria-invalid","aria-describedby","data-test"]),Object(j.j)(r,{id:"locale-input__icon--".concat(e.i18nLabel),icon:"globe",class:"locale-input__button","has-button-style":!0,"aria-label-prop":e.TRANSLATE_TEXT_INPUT,tabindex:e.tabindex,"data-test":"iconButton--".concat(e.i18nLabel),onClick:e.openTranslationEditingDialog},null,8,["id","aria-label-prop","tabindex","data-test","onClick"])])])};var P=et,un={class:"multi-select"},dn={class:"multi-select__select"},fn={"data-test":"multi-select-checkbox-span"},pn={class:"multi-select__footer"},bn={"aria-hidden":"true"},mn={class:"sr-only sr-only-mobile"},gn={"aria-hidden":"true"},hn={class:"sr-only sr-only-mobile"};Ve=Object(j.k)({name:"MultiSelect",components:{PortalIcon:M},props:{modelValue:{type:Array,required:!0},name:{type:String,required:!0},tabindex:{type:Number,default:0}},emits:["update:modelValue"],data:function(){return{selection:[]}},computed:{ADD_MORE:function(){return m("Add more")},ADD_GROUPS:function(){return m("Add Groups")},REMOVE:function(){return m("Remove")},REMOVE_SELECTION:function(){return" ".concat(m("Remove selection"))},elementsSelected:function(){return 0<this.selection.length}},methods:{toggleSelection:function(e){var t=this.selection.indexOf(e);-1<t?this.selection.splice(t,1):this.selection.push(e)},dnToLabel:function(e){var t=e.indexOf(",");return e.slice(3,t)},add:function(){var t=this;this.$store.dispatch("modal/setShowModalPromise",{level:2,name:"AddObjects",props:{alreadyAdded:this.modelValue},stubborn:!0}).then(function(e){t.$store.dispatch("modal/hideAndClearModal",2);e=t.modelValue.concat(e.selection);e.sort(),t.$emit("update:modelValue",e),t.$store.dispatch("activity/setMessage",m("Added to selection")),t.$store.dispatch("activity/setRegion","modal-wrapper--isVisible-1")}),this.$store.dispatch("activity/setLevel","modal2"),this.$store.dispatch("activity/saveFocus",{region:"modal-wrapper--isVisible-1",id:"multi-select-add-more-button"})},remove:function(){var t=this,e=this.modelValue.filter(function(e){return!t.selection.includes(e)});this.$emit("update:modelValue",e),this.$store.dispatch("activity/setMessage",m("Removed selection"))},focus:function(){var e;0<this.modelValue.length?(e=this.modelValue[0],this.$refs["checkbox-".concat(e)].focus()):this.$refs.addButton.focus()}}});n("9a93"),Ve.render=function(n,e,t,o,i,a){var r=Object(j.z)("portal-icon");return Object(j.t)(),Object(j.f)("div",un,[Object(j.j)("fieldset",null,[Object(j.j)("div",dn,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.modelValue,function(t){return Object(j.t)(),Object(j.f)("label",{key:t},[Object(j.j)("input",{ref:"checkbox-".concat(t),type:"checkbox",tabindex:n.tabindex,onChange:function(e){return n.toggleSelection(t)}},null,40,["tabindex","onChange"]),Object(j.j)("span",fn,Object(j.D)(n.dnToLabel(t)),1)])}),128))]),Object(j.j)("footer",pn,[Object(j.j)("button",{id:"multi-select-add-more-button",ref:"addButton",type:"button",tabindex:n.tabindex,"data-test":"multi-select-add-more-button",onClick:e[1]||(e[1]=Object(j.M)(function(){return n.add&&n.add.apply(n,arguments)},["prevent"]))},[Object(j.j)(r,{icon:"plus"}),Object(j.j)("span",bn,Object(j.D)(n.ADD_MORE),1),Object(j.j)("span",mn,Object(j.D)(n.ADD_GROUPS),1)],8,["tabindex"]),Object(j.j)("button",{type:"button",disabled:!n.elementsSelected||0===n.modelValue.length,tabindex:n.tabindex,"data-test":"multi-select-remove-button",onClick:e[2]||(e[2]=Object(j.M)(function(){return n.remove&&n.remove.apply(n,arguments)},["prevent"]))},[Object(j.j)(r,{icon:"trash"}),Object(j.j)("span",gn,Object(j.D)(n.REMOVE),1),Object(j.j)("span",hn,Object(j.D)(n.REMOVE_SELECTION),1)],8,["disabled","tabindex"])])])])};var be=Ve,vn={class:"link-widget__select"},On={class:"link-widget__input"},jn={key:0,class:"link-widget__remove modal-admin__button"},yn={class:"modal-admin__button"};De=Object(j.k)({name:"LinkWidget",components:{IconButton:$,PortalIcon:M},props:{modelValue:{type:Array,required:!0},name:{type:String,required:!0},tabindex:{type:Number,default:0}},emits:["update:modelValue"],data:function(){return{modelValueData:[]}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({locales:"locale/getAvailableLocales",currentLocale:"locale/getLocale"})),{},{REMOVE:function(){return m("Remove")},ADD_LINK:function(){return m("Add link")}}),created:function(){var t=this;this.modelValue.forEach(function(e){t.modelValueData.push({locale:e.locale,value:e.value})}),this.modelValueData.push({locale:"en_US",value:""})},updated:function(){this.$emit("update:modelValue",this.modelValueData)},methods:{addField:function(){var e=this;this.modelValueData.push({locale:this.currentLocale||"en_US",value:""});var t=this.modelValueData.length-1;this.$nextTick(function(){e.$refs["link".concat(t)].focus()})},removeField:function(e){this.modelValueData.splice(e,1)},LINK:function(e){return"".concat(m("Link")," ").concat(e+1,":")},localeSelect:function(e){return"".concat(this.LINK(e)," ").concat(m("Select locale for Link"))},linkInput:function(e){return"".concat(this.LINK(e)," ").concat(m("insert valid Link"))},removeLink:function(e){return"".concat(this.LINK(e)," ").concat(this.REMOVE)},focus:function(){this.$refs.addButton.focus()}}});n("a6de"),De.render=function(n,e,t,o,i,a){var r=Object(j.z)("icon-button"),s=Object(j.z)("portal-icon");return Object(j.t)(),Object(j.f)("div",null,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.modelValueData,function(e,t){return Object(j.t)(),Object(j.f)("div",{key:t,class:"link-widget"},[Object(j.j)("div",vn,[Object(j.K)(Object(j.j)("select",{"onUpdate:modelValue":function(e){return n.modelValueData[t].locale=e},tabindex:n.tabindex,"aria-label":n.localeSelect(t)},[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.locales,function(e){return Object(j.t)(),Object(j.f)("option",{key:e,selected:n.modelValueData[t].locale||e,class:"link-widget__option"},Object(j.D)(e),9,["selected"])}),128))],8,["onUpdate:modelValue","tabindex","aria-label"]),[[j.F,n.modelValueData[t].locale]])]),Object(j.j)("div",On,[Object(j.K)(Object(j.j)("input",{ref:"link".concat(t),"onUpdate:modelValue":function(e){return n.modelValueData[t].value=e},name:0===t?n.name:"".concat(n.name,"-").concat(t),tabindex:n.tabindex,"aria-label":n.linkInput(t),autocomplete:"off"},null,8,["onUpdate:modelValue","name","tabindex","aria-label"]),[[j.G,n.modelValueData[t].value]])]),1<n.modelValueData.length?(Object(j.t)(),Object(j.f)("div",jn,[Object(j.j)(r,{icon:"trash","aria-label-prop":n.removeLink(t),"active-at":["modal"],"has-button-style":!0,"data-test":"link-widget-remove-button-".concat(t),onClick:function(e){return n.removeField(t,n.modelValueData)}},null,8,["aria-label-prop","data-test","onClick"])])):Object(j.g)("",!0)])}),128)),Object(j.j)("div",yn,[Object(j.j)("button",{ref:"addButton",type:"button",class:"modal-admin__button--inner","data-test":"add-field",tabindex:n.tabindex,onClick:e[1]||(e[1]=Object(j.M)(function(e){return n.addField()},["prevent"]))},[Object(j.j)(s,{icon:"plus"}),Object(j.i)(" "+Object(j.D)(n.ADD_LINK),1)],8,["tabindex"])])])};Ze=De;et=Object(j.k)({name:"NumberSpinner",props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"NumberSpinner",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.input.focus()}}});et.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("input",{id:t.forAttrOfLabel,ref:"input",type:"number",name:t.name,value:t.modelValue,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"number-spinner",onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,["id","name","value","aria-invalid","aria-describedby"])};Ve=et;De=Object(j.k)({name:"TimeBox",props:{name:{type:String,required:!0},modelValue:{type:String,required:!0},invalidMessage:{type:String,default:""},forAttrOfLabel:{type:String,required:!0},invalidMessageId:{type:String,required:!0},step:{type:Number,default:60}},emits:["update:modelValue"],computed:{invalid:function(){return!Ut({type:"TimeBox",invalidMessage:this.invalidMessage})}},methods:{focus:function(){this.$refs.input.focus()}}});De.render=function(t,e,n,o,i,a){return Object(j.t)(),Object(j.f)("input",{id:t.forAttrOfLabel,ref:"input",name:t.name,type:"time",value:t.modelValue,step:t.step,"aria-invalid":t.invalid,"aria-describedby":t.invalidMessageId||null,"data-test":"time-box",onInput:e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e.target.value)})},null,40,["id","name","value","step","aria-invalid","aria-describedby"])};et=De,De=Object(j.k)({name:"FormElement",components:{FormLabel:R,InputErrorMessage:N,ComboBox:pe,DateBox:we,MultiInput:void 0,PasswordBox:me,TextBox:Ae,CheckBox:se,RadioBox:le,ImageUploader:he,LocaleInput:P,MultiSelect:be,LinkWidget:Ze,TextArea:i,NumberSpinner:Ve,TimeBox:et},props:{widget:{type:Object,required:!0},modelValue:{required:!0}},emits:["update:modelValue"],data:function(){return{displayDescription:!1}},computed:{component:function(){var e=JSON.parse(JSON.stringify(this.widget));return delete e.type,delete e.label,delete e.ariaLabel,delete e.validators,e},invalid:function(){return!Ut(this.widget)},invalidMessage:function(){return Gt(this.widget)},forAttrOfLabel:function(){return"".concat(this.widget.name,"--").concat(this.$.uid)},invalidMessageId:function(){return""!==this.invalidMessage?"".concat(this.forAttrOfLabel,"--error"):""},hasDescription:function(){return void 0!==this.widget.description&&0<this.widget.description.length}},methods:{focus:function(){this.$refs.component.focus()},toggleDescription:function(){this.displayDescription=!this.displayDescription}}});n("3b05"),De.render=function(t,e,n,o,i,a){var r=Object(j.z)("form-label"),s=Object(j.z)("input-error-message");return Object(j.t)(),Object(j.f)("div",{class:["form-element",{"form-element--invalid":t.invalid},"form-element--".concat(t.widget.type)],"data-test":"form-element"},[Object(j.j)(r,{label:t.widget.label,"aria-label":t.widget.ariaLabel||t.widget.label,required:t.widget.required,"for-attr":t.forAttrOfLabel,"invalid-message":t.invalidMessage,"show-help-icon":t.hasDescription,"data-test":"form-element-label","display-description":t.displayDescription,onToggleDescription:t.toggleDescription},null,8,["label","aria-label","required","for-attr","invalid-message","show-help-icon","display-description","onToggleDescription"]),Object(j.j)(j.c,null,{default:Object(j.J)(function(){return[t.displayDescription?(Object(j.t)(),Object(j.f)("p",Yt,Object(j.D)(t.widget.description),1)):Object(j.g)("",!0)]}),_:1}),(Object(j.t)(),Object(j.f)(Object(j.B)(t.widget.type),Object(j.o)({ref:"component"},t.component,{"model-value":t.modelValue,"for-attr-of-label":t.forAttrOfLabel,"data-test":"form-element-component","invalid-message-id":t.invalidMessageId,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e)})}),null,16,["model-value","for-attr-of-label","invalid-message-id"])),Object(j.j)(s,{id:t.invalidMessageId,"display-condition":""!==t.invalidMessage,"error-message":t.invalidMessage},null,8,["id","display-condition","error-message"])],2)};De=Object(j.k)({name:"MultiInput",components:{InputErrorMessage:N,FormElement:De,IconButton:$,ComboBox:pe,DateBox:we,PasswordBox:me,TextBox:Ae},props:{modelValue:{type:Array,required:!0},subtypes:{type:Array,required:!0},extraLabel:{type:String,required:!0},invalidMessage:{type:Object,default:function(){return{all:"",values:[]}}},tabindex:{type:Number,default:0}},emits:["update:modelValue"],computed:{addButtonLabel:function(){return m("Add new %(label)s",{label:this.extraLabel})}},methods:{onUpdate:function(e,t,n){var o=JSON.parse(JSON.stringify(this.modelValue));1===this.subtypes.length?o[e]=n:o[e][t]=n,this.$emit("update:modelValue",o)},addEntry:function(){var e=JSON.parse(JSON.stringify(this.modelValue));e.push(this.newRow()),this.$emit("update:modelValue",e),this.$store.dispatch("activity/setMessage",m("%(label)s %(idx)s added",{label:this.extraLabel,idx:e.length})),this.focusLastInputField()},newRow:function(){return zt({type:"MultiInput",subtypes:this.subtypes},null)[0]},removeEntry:function(e){var t=JSON.parse(JSON.stringify(this.modelValue));t.splice(e,1),0===t.length&&t.push(this.newRow()),this.$emit("update:modelValue",t),this.$store.dispatch("activity/setMessage",m("%(label)s %(idx)s removed",{label:this.extraLabel,idx:e+1}))},rowInvalidMessage:function(e){if(1===this.subtypes.length)return"";e=this.invalidMessage.values[e];return!Array.isArray(e)&&null!=e?e:""},getSubtypeWidget:function(e,t,n){var o=this.invalidMessage.values[t];Array.isArray(o)?o=o[n]:1<this.subtypes.length&&(o="");t="".concat(this.extraLabel," ").concat(t+1);return void 0!==e.label&&e.label!==this.extraLabel&&(t+=": ".concat(e.label)),Object(l.a)(Object(l.a)({},e),{},{tabindex:this.tabindex,ariaLabel:t,invalidMessage:null!==o&&void 0!==o?o:""})},focus:function(){var e=this.$refs["component-0-0"];e&&e.focus()},REMOVE_BUTTON_LABEL:function(e){return m("Remove %(label)s %(idx)s",{label:this.extraLabel,idx:e+1})},focusLastInputField:function(){var t=this;this.$nextTick(function(){var e=Object.keys(t.$refs).filter(function(e){e=e.split("-")[2];try{return 0===parseInt(e,10)}catch(e){return!0}}).sort(),e=e[e.length-1];t.$refs[e].focus()})}}});n("e0a1"),De.render=function(i,e,t,n,o,a){var r=Object(j.z)("form-element"),s=Object(j.z)("icon-button"),c=Object(j.z)("input-error-message");return Object(j.t)(),Object(j.f)("div",Ht,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(i.modelValue,function(n,o){return Object(j.t)(),Object(j.f)("div",{key:o,class:["multi-input__row",{"multi-input__row--multiline":1<i.subtypes.length,"multi-input__row--singleline":1===i.subtypes.length,"multi-input__row--invalid":""!==i.rowInvalidMessage(o)}],"data-test":"multi-input-row"},[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(i.subtypes,function(e,t){return Object(j.t)(),Object(j.f)("div",{key:t,class:"multi-input__row__elem"},[Object(j.j)(r,{ref:"component-".concat(o,"-").concat(t),widget:i.getSubtypeWidget(e,o,t),"model-value":Array.isArray(n)?n[t]:n,"data-test":"form-element-".concat(i.getSubtypeWidget(e,o,t).type,"-").concat(o),"onUpdate:modelValue":function(e){return i.onUpdate(o,t,e)}},null,8,["widget","model-value","data-test","onUpdate:modelValue"])])}),128)),Object(j.j)(s,{icon:"trash",tabindex:i.tabindex,"has-button-style":!0,"aria-label-prop":i.REMOVE_BUTTON_LABEL(o),"data-test":"multi-input-remove-entry-button-".concat(o),onClick:function(e){return i.removeEntry(o)}},null,8,["tabindex","aria-label-prop","data-test","onClick"]),Object(j.j)(c,{"display-condition":""!==i.rowInvalidMessage(o),"error-message":i.rowInvalidMessage(o)},null,8,["display-condition","error-message"])],2)}),128)),Object(j.j)(s,{icon:"plus",tabindex:i.tabindex,"has-button-style":!0,"aria-label-prop":i.addButtonLabel,"data-test":"multi-input-add-entry-button",onClick:e[1]||(e[1]=function(e){return i.addEntry()})},null,8,["tabindex","aria-label-prop"])])};me=Object(j.k)({name:"FormElement",components:{FormLabel:R,InputErrorMessage:N,ComboBox:pe,DateBox:we,MultiInput:De,PasswordBox:me,TextBox:Ae,CheckBox:se,RadioBox:le,ImageUploader:he,LocaleInput:P,MultiSelect:be,LinkWidget:Ze,TextArea:i,NumberSpinner:Ve,TimeBox:et},props:{widget:{type:Object,required:!0},modelValue:{required:!0}},emits:["update:modelValue"],data:function(){return{displayDescription:!1}},computed:{component:function(){var e=JSON.parse(JSON.stringify(this.widget));return delete e.type,delete e.label,delete e.ariaLabel,delete e.validators,e},invalid:function(){return!Ut(this.widget)},invalidMessage:function(){return Gt(this.widget)},forAttrOfLabel:function(){return"".concat(this.widget.name,"--").concat(this.$.uid)},invalidMessageId:function(){return""!==this.invalidMessage?"".concat(this.forAttrOfLabel,"--error"):""},hasDescription:function(){return void 0!==this.widget.description&&0<this.widget.description.length}},methods:{focus:function(){this.$refs.component.focus()},toggleDescription:function(){this.displayDescription=!this.displayDescription}}});n("1070"),me.render=function(t,e,n,o,i,a){var r=Object(j.z)("form-label"),s=Object(j.z)("input-error-message");return Object(j.t)(),Object(j.f)("div",{class:["form-element",{"form-element--invalid":t.invalid},"form-element--".concat(t.widget.type)],"data-test":"form-element"},[Object(j.j)(r,{label:t.widget.label,"aria-label":t.widget.ariaLabel||t.widget.label,required:t.widget.required,"for-attr":t.forAttrOfLabel,"invalid-message":t.invalidMessage,"show-help-icon":t.hasDescription,tabindex:t.component.tabindex,"data-test":"form-element-label","display-description":t.displayDescription,onToggleDescription:t.toggleDescription},null,8,["label","aria-label","required","for-attr","invalid-message","show-help-icon","tabindex","display-description","onToggleDescription"]),Object(j.j)(j.c,null,{default:Object(j.J)(function(){return[t.displayDescription?(Object(j.t)(),Object(j.f)("p",Vt,Object(j.D)(t.widget.description),1)):Object(j.g)("",!0)]}),_:1}),(Object(j.t)(),Object(j.f)(Object(j.B)(t.widget.type),Object(j.o)({ref:"component"},t.component,{"model-value":t.modelValue,"for-attr-of-label":t.forAttrOfLabel,"data-test":"form-element-component","invalid-message-id":t.invalidMessageId,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.$emit("update:modelValue",e)})}),null,16,["model-value","for-attr-of-label","invalid-message-id"])),Object(j.j)(s,{id:t.invalidMessageId,"display-condition":""!==t.invalidMessage,"error-message":t.invalidMessage},null,8,["id","display-condition","error-message"])],2)};Ae=me;function Tn(e){var t;return!(null!==(t=e.readonly)&&void 0!==t&&t||null!==(e=e.disabled)&&void 0!==e&&e)}se=Object(j.k)({name:"Form",components:{FormElement:Ae},props:{modelValue:{required:!0},widgets:{type:Array,required:!0}},emits:["update:modelValue"],methods:{validate:function(){return Wt(this.widgets,this.modelValue),qt(this.widgets)},onUpdate:function(e,t){var n=JSON.parse(JSON.stringify(this.modelValue));n[e]=t,this.$emit("update:modelValue",n)},focus:function(e){this.$refs[e].focus()},focusFirstInteractable:function(){var e=this.widgets.find(Tn);e&&this.focus(e.name)},focusFirstInvalid:function(){var e=this.widgets.find(function(e){return Tn(e)&&!Ut(e)});e&&this.focus(e.name)}}});se.render=function(n,e,t,o,i,a){var r=Object(j.z)("form-element");return Object(j.t)(),Object(j.f)("form",null,[Object(j.j)("main",null,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.widgets,function(t){return Object(j.t)(),Object(j.f)(r,{key:t.name,ref:t.name,widget:t,"model-value":n.modelValue[t.name],"onUpdate:modelValue":function(e){return n.onUpdate(t.name,e)}},null,8,["widget","model-value","onUpdate:modelValue"])}),128))]),Object(j.y)(n.$slots,"default")])};le=se,he=Object(j.k)({name:"EditWidget",components:{MyForm:le,ModalDialog:V},props:{label:{type:String,required:!0},canRemove:{type:Boolean,required:!0},formWidgets:{type:Array,required:!0},formValues:{type:Object,required:!0}},emits:["unlink","remove","save","update:formValues","submit"],computed:Object(l.a)(Object(l.a)({},Object(o.b)({activityLevel:"activity/level"})),{},{tabindex:function(){return $t(["modal"],this.activityLevel)},SAVE:function(){return m("Save")},CANCEL:function(){return m("Cancel")},REMOVE:function(){return m("Remove")}}),mounted:function(){this.$refs.form.focusFirstInteractable()},methods:{cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")},submit:function(){this.$emit("submit")},openConfirmationDialog:function(){var t=this;this.$store.dispatch("modal/setShowModalPromise",{level:2,name:"ConfirmDialog",stubborn:!0}).then(function(e){t.$store.dispatch("modal/hideAndClearModal",2),"remove"===e.action?t.$emit("remove"):"unlink"===e.action&&t.$emit("unlink")},function(){t.$store.dispatch("modal/hideAndClearModal",2)})}}});n("5701"),he.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(s,{"i18n-title-key":t.label,onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",class:"admin-entry",widgets:t.formWidgets,"model-value":t.formValues,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.$emit("update:formValues",e)})},{default:Object(j.J)(function(){return[t.canRemove?(Object(j.t)(),Object(j.f)("footer",Nt,[Object(j.j)("button",{type:"button",tabindex:t.tabindex,onClick:e[1]||(e[1]=Object(j.M)(function(){return t.openConfirmationDialog&&t.openConfirmationDialog.apply(t,arguments)},["prevent"]))},Object(j.D)(t.REMOVE),9,["tabindex"])])):Object(j.g)("",!0),Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",tabindex:t.tabindex,onClick:e[2]||(e[2]=Object(j.M)(function(){return t.cancel&&t.cancel.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CANCEL),9,["tabindex"]),Object(j.j)("button",{class:"primary",type:"submit",tabindex:t.tabindex,onClick:e[3]||(e[3]=Object(j.M)(function(){return t.submit&&t.submit.apply(t,arguments)},["prevent"]))},Object(j.D)(t.SAVE),9,["tabindex"])])]}),_:1},8,["widgets","model-value"])]}),_:1},8,["i18n-title-key","onCancel"])};P=he,be=Object(j.k)({name:"FormEntryEdit",components:{EditWidget:P},props:{label:{type:String,required:!0},superDn:{type:String,required:!0},fromFolder:{type:Boolean,required:!0},modelValue:{type:Object,required:!0}},data:function(){return{formWidgets:[{type:"TextBox",name:"name",label:m("Internal name"),required:!0,autocomplete:"off",validators:[Jt]},{type:"LocaleInput",name:"title",required:!0,label:m("Name"),i18nLabel:m("Name")},{type:"LocaleInput",name:"description",required:!0,label:m("Description"),i18nLabel:m("Description")},{type:"LocaleInput",name:"keywords",label:m("Keywords"),i18nLabel:m("Keywords")},{type:"CheckBox",name:"activated",label:m("Activated")},{name:"links",label:m("Links")},{type:"ComboBox",name:"linkTarget",label:m("Way of opening links"),options:[{id:"useportaldefault",label:m("Use default of portal")},{id:"samewindow",label:m("Same tab")},{id:"newwindow",label:m("New tab")},{id:"embedded",label:m("Embedded")}]},{type:"ImageUploader",name:"logo",label:m("Icon"),extraLabel:m("Icon")},{type:"TextBox",name:"backgroundColor",label:m("Background color")},{type:"MultiSelect",name:"allowedGroups",label:m("Can only be seen by these groups")},{type:"CheckBox",name:"anonymous",label:m("Only visible if not logged in")}],formValues:{name:"",title:{en_US:""},description:{en_US:""},keywords:{en_US:""},activated:!0,linkTarget:"useportaldefault",logo:"",backgroundColor:"",allowedGroups:[],anonymous:!1,links:{en_US:""}}}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalCategories:"portalData/portalCategories",portalFolders:"portalData/portalFolders",activityLevel:"activity/level",availableLocales:"locale/getAvailableLocales"})),{},{formWidgetsComputed:function(){var t=this;return this.formWidgets.map(function(e){return"name"===e.name&&(e.readonly=!!t.modelValue.dn),"links"===e.name&&(e.type=Array.isArray(t.formValues.links)?"LinkWidget":"LocaleInput","LocaleInput"===e.type?(e.i18nLabel=m("Links"),e.required=!0):e.validators=[function(e,t){return t.some(function(e){return"en_US"===e.locale&&!!e.value})?"":m("Please enter at least one English link")}]),e.tabindex=$t(["modal"],t.activityLevel),e})},superObjs:function(){return this.fromFolder?this.portalFolders:this.portalCategories}}),created:function(){var e=this.modelValue.dn;e&&(this.formValues.name=e.slice(3,e.indexOf(",")));var t,n,o=this.modelValue.links;Array.isArray(o)&&0<o.length&&(t=!0,n=[],o.forEach(function(e){n.includes(e.locale)?t=!1:n.push(e.locale)}),(t=!!n.includes("en_US")&&t)?(e=o.reduce(function(e,t){return e[t.locale]=t.value,e},{}),this.formValues.links=e):this.formValues.links=o),this.formValues.title=Object(l.a)({},null!==(o=this.modelValue.title)&&void 0!==o?o:this.formValues.title),this.formValues.description=Object(l.a)({},null!==(o=this.modelValue.description)&&void 0!==o?o:this.formValues.description),this.formValues.keywords=Object(l.a)({},null!==(o=this.modelValue.keywords)&&void 0!==o?o:this.formValues.keywords),this.formValues.activated=null!==(o=this.modelValue.activated)&&void 0!==o?o:this.formValues.activated,this.formValues.linkTarget=null!==(o=this.modelValue.originalLinkTarget)&&void 0!==o?o:this.formValues.linkTarget,this.formValues.logo=null!==(o=this.modelValue.pathToLogo)&&void 0!==o?o:this.formValues.logo,this.formValues.backgroundColor=null!==(o=this.modelValue.backgroundColor)&&void 0!==o?o:this.formValues.backgroundColor,this.formValues.allowedGroups=Object(ge.a)(null!==(o=this.modelValue.allowedGroups)&&void 0!==o?o:this.formValues.allowedGroups),this.formValues.anonymous=null!==(o=this.modelValue.anonymous)&&void 0!==o?o:this.formValues.anonymous},methods:{cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")},unlink:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("activateLoadingState"),t=n.modelValue.dn,e.next=4,ae(n.superDn,n.superObjs,t,n.$store,m("Entry successfully unlinked"),m("Entry could not be unlinked"));case 4:t=e.sent,n.$store.dispatch("deactivateLoadingState"),t&&n.cancel();case 7:case"end":return e.stop()}},e)}))()},remove:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("activateLoadingState"),t=n.modelValue.dn,e.next=4,ee(t,n.$store,m("Entry successfully removed"),m("Entry could not be removed"));case 4:t=e.sent,n.$store.dispatch("deactivateLoadingState"),t&&n.cancel();case 7:case"end":return e.stop()}},e)}))()},finish:function(){var a=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.$store.dispatch("activateLoadingState"),t=!1,n=a.formValues.links,n=Array.isArray(n)?n.filter(function(e){return!!e.value}).map(function(e){return[e.locale,e.value]}):Object.keys(n).reduce(function(e,t){return e.push([t,n[t]]),e},[]),(o={name:a.formValues.name,displayName:Object.entries(a.formValues.title),description:Object.entries(a.formValues.description),keywords:Object.entries(a.formValues.keywords),activated:a.formValues.activated,link:n,linkTarget:a.formValues.linkTarget,icon:a.formValues.logo,backgroundColor:a.formValues.backgroundColor,allowedGroups:a.formValues.allowedGroups,anonymous:a.formValues.anonymous}).icon.startsWith("data:")?o.icon=o.icon.split(",")[1]:""===o.icon?o.icon="":delete o.icon,a.modelValue.dn)return e.next=9,Q(a.modelValue.dn,o,a.$store,m("Entry could not be modified"),m("Entry successfully modified"));e.next=12;break;case 9:t=e.sent,e.next=19;break;case 12:return e.next=14,Y("portals/entry",o,a.$store,m("Entry could not be added"));case 14:if(i=e.sent)return e.next=18,oe(a.superDn,a.superObjs,i,a.$store,m("Entry successfully added"),m("Entry could not be added"));e.next=19;break;case 18:t=e.sent;case 19:a.$store.dispatch("deactivateLoadingState"),t&&a.cancel();case 21:case"end":return e.stop()}},e)}))()},submit:function(){Wt(this.formWidgets,this.formValues),qt(this.formWidgets)?this.finish():this.$refs.editWidget.$refs.form.focusFirstInvalid()}}});be.render=function(t,e,n,o,i,a){var r=Object(j.z)("edit-widget");return Object(j.t)(),Object(j.f)(r,{ref:"editWidget","form-values":t.formValues,"onUpdate:form-values":e[1]||(e[1]=function(e){return t.formValues=e}),"form-widgets":t.formWidgetsComputed,label:t.label,"can-remove":!!t.modelValue.dn,model:t.$data,onUnlink:t.unlink,onRemove:t.remove,onSave:t.finish,onSubmit:t.submit},null,8,["form-values","form-widgets","label","can-remove","model","onUnlink","onRemove","onSave","onSubmit"])};Ze=be;i=Object(j.k)({name:"FormFolderEdit",components:{EditWidget:P},props:{label:{type:String,required:!0},superDn:{type:String,required:!0},modelValue:{type:Object,required:!0}},data:function(){return{formWidgets:[{type:"TextBox",name:"name",label:m("Internal name"),required:!0,autocomplete:"off",validators:[Jt]},{type:"LocaleInput",name:"title",required:!0,label:m("Name"),i18nLabel:m("Name")}],formValues:{name:"",title:{en_US:""}}}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalCategories:"portalData/portalCategories",activityLevel:"activity/level"})),{},{formWidgetsComputed:function(){var t=this;return this.formWidgets.map(function(e){return"name"===e.name&&(e.readonly=!!t.modelValue.dn),e.tabindex=$t(["modal"],t.activityLevel),e})}}),created:function(){var e=this.modelValue.dn;e&&(this.formValues.name=e.slice(3,e.indexOf(","))),this.modelValue.title&&(this.formValues.title=Object(l.a)({},this.modelValue.title))},methods:{cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")},unlink:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("activateLoadingState"),t=n.modelValue.dn,e.next=4,ae(n.superDn,n.portalCategories,t,n.$store,m("Folder successfully unlinked"),m("Folder could not be unlinked"));case 4:t=e.sent,n.$store.dispatch("deactivateLoadingState"),t&&n.cancel();case 7:case"end":return e.stop()}},e)}))()},remove:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("activateLoadingState"),t=n.modelValue.dn,e.next=4,ee(t,n.$store,m("Folder successfully removed"),m("Folder could not be removed"));case 4:t=e.sent,n.$store.dispatch("deactivateLoadingState"),t&&n.cancel();case 7:case"end":return e.stop()}},e)}))()},finish:function(){var i=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.$store.dispatch("activateLoadingState"),t=!1,n={name:i.formValues.name,displayName:Object.entries(i.formValues.title)},i.modelValue.dn)return e.next=6,Q(i.modelValue.dn,n,i.$store,m("Folder could not be modified"),m("Folder successfully modified"));e.next=9;break;case 6:t=e.sent,e.next=16;break;case 9:return e.next=11,Y("portals/folder",n,i.$store,m("Folder could not be added"));case 11:if(o=e.sent)return e.next=15,oe(i.superDn,i.portalCategories,o,i.$store,m("Folder successfully added"),m("Folder could not be added"));e.next=16;break;case 15:t=e.sent;case 16:i.$store.dispatch("deactivateLoadingState"),t&&i.cancel();case 18:case"end":return e.stop()}},e)}))()},submit:function(){Wt(this.formWidgets,this.formValues),qt(this.formWidgets)&&this.finish()}}});i.render=function(t,e,n,o,i,a){var r=Object(j.z)("edit-widget");return Object(j.t)(),Object(j.f)(r,{"form-values":t.formValues,"onUpdate:form-values":e[1]||(e[1]=function(e){return t.formValues=e}),"form-widgets":t.formWidgetsComputed,label:t.label,"can-remove":!!t.modelValue.dn,model:t.$data,onUnlink:t.unlink,onRemove:t.remove,onSave:t.finish,onSubmit:t.submit},null,8,["form-values","form-widgets","label","can-remove","model","onUnlink","onRemove","onSave","onSubmit"])};Ve=i;et=Object(j.k)({name:"ExistingEntry",components:{ModalDialog:V},props:{label:{type:String,required:!0},superDn:{type:String,required:!0},objectGetter:{type:String,required:!0},superObjectGetter:{type:String,required:!0}},data:function(){return{datalistId:"datalist-".concat(E())}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalDn:"portalData/getPortalDn",userLinks:"portalData/userLinks",menuLinks:"portalData/menuLinks"})),{},{superObjs:function(){return this.$store.getters[this.superObjectGetter]},items:function(){return this.$store.getters[this.objectGetter]},NAME:function(){return m("Name")},CANCEL:function(){return m("Cancel")},ADD:function(){return m("Add")}}),mounted:function(){var e;null===(e=this.$el.querySelector("input:enabled"))||void 0===e||e.focus()},methods:{cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")},finish:function(){var l=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o,i,a,r,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=l.$refs.input,a=t.getAttribute("list"),n=document.querySelectorAll("#".concat(a," option")),o=null,i=0;case 5:if(!(i<n.length)){e.next=13;break}if((a=n[i]).getAttribute("value")===t.value)return o=a.getAttribute("data-value"),e.abrupt("break",13);e.next=10;break;case 10:i+=1,e.next=5;break;case 13:if(w(l,"input",!o),!o){e.next=44;break}if(r=!1,l.$store.dispatch("activateLoadingState"),"$$user$$"===l.superDn)return s={userLinks:l.userLinks.concat([o])},e.next=21,Q(l.portalDn,s,l.$store,m("Entry could not be added"),m("Entry successfully added"));e.next=24;break;case 21:r=e.sent,e.next=42;break;case 24:if("$$menu$$"===l.superDn)return s={menuLinks:l.menuLinks.concat([o])},e.next=28,Q(l.portalDn,s,l.$store,m("Entry could not be added"),m("Entry successfully added"));e.next=31;break;case 28:r=e.sent,e.next=42;break;case 31:if(c=l.superObjs.find(function(e){return e.dn===l.superDn}),c={entries:c.entries.concat([o])},"portalData/portalEntries"===l.objectGetter)return e.next=36,Q(l.superDn,c,l.$store,m("Entry could not be added"),m("Entry successfully added"));e.next=39;break;case 36:r=e.sent,e.next=42;break;case 39:return e.next=41,Q(l.superDn,c,l.$store,m("Folder could not be added"),m("Folder successfully added"));case 41:r=e.sent;case 42:l.$store.dispatch("deactivateLoadingState"),r&&l.cancel();case 44:case"end":return e.stop()}},e)}))()}}});n("1a47"),et.render=function(t,e,n,o,i,a){var r=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(r,{"i18n-title-key":t.label,onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)("form",{onSubmit:e[3]||(e[3]=Object(j.M)(function(){return t.finish&&t.finish.apply(t,arguments)},["prevent"]))},[Object(j.j)("main",null,[Object(j.j)("label",null,[Object(j.i)(Object(j.D)(t.NAME)+" ",1),Object(j.j)("input",{ref:"input",type:"text",autocomplete:"off",list:t.datalistId,name:"display_name",class:"existing-entry__text-input"},null,8,["list"]),Object(j.j)("datalist",{id:t.datalistId},[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(t.items,function(e){return Object(j.t)(),Object(j.f)("option",{key:e.dn,value:t.$localized(e.name),"data-value":e.dn},null,8,["value","data-value"])}),128))],8,["id"])])]),Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.cancel&&t.cancel.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CANCEL),1),Object(j.j)("button",{class:"primary",type:"submit",onClick:e[2]||(e[2]=Object(j.M)(function(){return t.finish&&t.finish.apply(t,arguments)},["prevent"]))},Object(j.D)(t.ADD),1)])],32)]}),_:1},8,["i18n-title-key","onCancel"])};me=et;Ae=Object(j.k)({name:"FormCategoryEdit",components:{EditWidget:P},props:{label:{type:String,required:!0},modelValue:{type:Object,required:!0}},data:function(){return{formWidgets:[{type:"TextBox",name:"name",label:m("Internal name"),required:!0,autocomplete:"off",validators:[Jt]},{type:"LocaleInput",name:"title",required:!0,label:m("Name"),i18nLabel:m("Name")}],formValues:{name:"",title:{en_US:""}}}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalDn:"portalData/getPortalDn",categories:"portalData/portalCategoriesOnPortal",activityLevel:"activity/level"})),{},{formWidgetsComputed:function(){var t=this;return this.formWidgets.map(function(e){return"name"===e.name&&(e.readonly=!!t.modelValue.dn),e.tabindex=$t(["modal"],t.activityLevel),e})}}),created:function(){var e=this.modelValue.dn;e&&(this.formValues.name=e.slice(3,e.indexOf(","))),this.modelValue.title&&(this.formValues.title=Object(l.a)({},this.modelValue.title))},methods:{cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")},unlink:function(){var o=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.$store.dispatch("activateLoadingState"),t=o.modelValue.dn,n={categories:o.categories.filter(function(e){return e!==t})},e.next=5,Q(o.portalDn,n,o.$store,m("Category could not be unlinked"),m("Category successfully unlinked"));case 5:n=e.sent,o.$store.dispatch("deactivateLoadingState"),n&&o.cancel();case 8:case"end":return e.stop()}},e)}))()},remove:function(){var n=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("activateLoadingState"),t=n.modelValue.dn,e.next=4,ee(t,n.$store,m("Category successfully removed"),m("Category could not be removed"));case 4:t=e.sent,n.$store.dispatch("deactivateLoadingState"),t&&n.cancel();case 7:case"end":return e.stop()}},e)}))()},finish:function(){var i=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.$store.dispatch("activateLoadingState"),t=!1,n={name:i.formValues.name,displayName:Object.entries(i.formValues.title)},i.modelValue.dn)return e.next=6,Q(i.modelValue.dn,n,i.$store,m("Category could not be modified"),m("Category successfully modified"));e.next=9;break;case 6:t=e.sent,e.next=17;break;case 9:return e.next=11,Y("portals/category",n,i.$store,m("Category could not be added"));case 11:if(o=e.sent)return o={categories:i.categories.concat([o])},e.next=16,Q(i.portalDn,o,i.$store,m("Category could not be added"),m("Category successfully added"));e.next=17;break;case 16:t=e.sent;case 17:i.$store.dispatch("deactivateLoadingState"),t&&i.cancel();case 19:case"end":return e.stop()}},e)}))()},submit:function(){Wt(this.formWidgets,this.formValues),qt(this.formWidgets)&&this.finish()}}});Ae.render=function(t,e,n,o,i,a){var r=Object(j.z)("edit-widget");return Object(j.t)(),Object(j.f)(r,{"form-values":t.formValues,"onUpdate:form-values":e[1]||(e[1]=function(e){return t.formValues=e}),"form-widgets":t.formWidgetsComputed,label:t.label,"can-remove":!!t.modelValue.dn,model:t.$data,onUnlink:t.unlink,onRemove:t.remove,onSave:t.finish,onSubmit:t.submit},null,8,["form-values","form-widgets","label","can-remove","model","onUnlink","onRemove","onSave","onSubmit"])};se=Ae;he=Object(j.k)({name:"ExistingCategory",components:{ModalDialog:V},data:function(){return{datalistId:"datalist-".concat(E())}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalDn:"portalData/getPortalDn",categories:"portalData/portalCategoriesOnPortal",items:"portalData/portalCategories"})),{},{NAME:function(){return m("Name")},CANCEL:function(){return m("Cancel")},ADD:function(){return m("Add")},ADD_EXISTING_CATEGORY:function(){return m("Add existing category")}}),mounted:function(){var e;null===(e=this.$el.querySelector("input:enabled"))||void 0===e||e.focus()},methods:{cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")},finish:function(){var s=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o,i,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s.$refs.input,a=t.getAttribute("list"),n=document.querySelectorAll("#".concat(a," option")),o=null,i=0;case 5:if(!(i<n.length)){e.next=13;break}if((a=n[i]).getAttribute("value")===t.value)return o=a.getAttribute("data-value"),e.abrupt("break",13);e.next=10;break;case 10:i+=1,e.next=5;break;case 13:if(w(s,"input",!o),o)return s.$store.dispatch("activateLoadingState"),r={categories:s.categories.concat([o])},e.next=19,Q(s.portalDn,r,s.$store,m("Category could not be added"),m("Category successfully added"));e.next=22;break;case 19:r=e.sent,s.$store.dispatch("deactivateLoadingState"),r&&s.cancel();case 22:case"end":return e.stop()}},e)}))()}}});he.render=function(t,e,n,o,i,a){var r=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(r,{"i18n-title-key":t.ADD_EXISTING_CATEGORY,onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)("form",{onSubmit:e[3]||(e[3]=Object(j.M)(function(){return t.finish&&t.finish.apply(t,arguments)},["prevent"]))},[Object(j.j)("main",null,[Object(j.j)("label",null,[Object(j.i)(Object(j.D)(t.NAME)+" ",1),Object(j.j)("input",{ref:"input",type:"text",autocomplete:"off",list:t.datalistId,name:"display_name"},null,8,["list"]),Object(j.j)("datalist",{id:t.datalistId},[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(t.items,function(e){return Object(j.t)(),Object(j.f)(j.a,{key:e.dn},[e.virtual?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)("option",{key:0,value:t.$localized(e.display_name),"data-value":e.dn},null,8,["value","data-value"]))],64)}),128))],8,["id"])])]),Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.cancel&&t.cancel.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CANCEL),1),Object(j.j)("button",{class:"primary",type:"submit",onClick:e[2]||(e[2]=Object(j.M)(function(){return t.finish&&t.finish.apply(t,arguments)},["prevent"]))},Object(j.D)(t.ADD),1)])],32)]}),_:1},8,["i18n-title-key","onCancel"])};be=he;i=Object(j.k)({name:"TileAddModal",components:{ModalDialog:V,Region:ze},props:{superDn:{type:String,required:!0},forFolder:{type:Boolean,required:!0}},computed:{CREATE_NEW_ENTRY:function(){return m("Create a new Entry")},CREATE_EXISTING_ENTRY:function(){return m("Add existing entry")},CREATE_NEW_FOLDER:function(){return m("Create a new folder")},CREATE_EXISTING_FOLDER:function(){return m("Add existing folder")},ADD_ENTRY:function(){return m("Add entry")}},methods:{openModal:function(e){var t;"createEntry"===e&&this.$store.dispatch("modal/setAndShowModal",{name:"AdminEntry",stubborn:!0,props:{modelValue:{},superDn:this.superDn,label:this.CREATE_NEW_ENTRY,fromFolder:this.forFolder}}),"addEntry"===e&&(t="portalData/portalCategories",this.forFolder&&(t="portalData/portalFolders"),this.$store.dispatch("modal/setAndShowModal",{name:"AdminExistingEntry",stubborn:!0,props:{label:this.CREATE_EXISTING_ENTRY,objectGetter:"portalData/portalEntries",superObjectGetter:t,superDn:this.superDn}})),"createFolder"===e&&this.$store.dispatch("modal/setAndShowModal",{name:"AdminFolder",stubborn:!0,props:{modelValue:{},superDn:this.superDn,label:this.CREATE_NEW_FOLDER}}),"addFolder"===e&&this.$store.dispatch("modal/setAndShowModal",{name:"AdminExistingEntry",stubborn:!0,props:{label:this.CREATE_EXISTING_FOLDER,objectGetter:"portalData/portalFolders",superObjectGetter:"portalData/portalCategories",superDn:this.superDn}})},cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")}}});n("4b25"),i.render=function(t,e,n,o,i,a){var r=Object(j.z)("region"),s=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(s,{"i18n-title-key":t.ADD_ENTRY,onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)(r,{id:"tile-add-modal",direction:"topdown"},{default:Object(j.J)(function(){return[Object(j.j)("button",{id:"tile-add-modal-button-create-entry",tabindex:"0",class:"tile-add-modal-button",onClick:e[1]||(e[1]=function(e){return t.openModal("createEntry")})},Object(j.D)(t.CREATE_NEW_ENTRY),1),Object(j.j)("button",{id:"tile-add-modal-button-existing-entry",tabindex:"0",class:"tile-add-modal-button",onClick:e[2]||(e[2]=function(e){return t.openModal("addEntry")})},Object(j.D)(t.CREATE_EXISTING_ENTRY),1),t.forFolder?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)("button",{key:0,id:"tile-add-modal-button-create-folder",tabindex:"0",class:"tile-add-modal-button",onClick:e[3]||(e[3]=function(e){return t.openModal("createFolder")})},Object(j.D)(t.CREATE_NEW_FOLDER),1)),t.forFolder?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)("button",{key:1,id:"tile-add-modal-button-existing-folder",tabindex:"0",class:"tile-add-modal-button",onClick:e[4]||(e[4]=function(e){return t.openModal("addFolder")})},Object(j.D)(t.CREATE_EXISTING_FOLDER),1))]}),_:1})]}),_:1},8,["i18n-title-key","onCancel"])};et=i;P=Object(j.k)({name:"CategoryAddModal",components:{ModalDialog:V,Region:ze},computed:{ADD_NEW_CATEGORY:function(){return m("Add new category")},ADD_EXISTING_CATEGORY:function(){return m("Add existing category")}},methods:{openModal:function(e){"createCategory"===e&&this.$store.dispatch("modal/setAndShowModal",{name:"AdminCategory",stubborn:!0,props:{modelValue:{},label:m("Add category")}}),"addCategory"===e&&this.$store.dispatch("modal/setAndShowModal",{name:"AdminExistingCategory",stubborn:!0})},cancel:function(){this.$store.dispatch("modal/hideAndClearModal"),this.$store.dispatch("activity/setRegion","portalCategories")}}});n("debc"),P.render=function(t,e,n,o,i,a){var r=Object(j.z)("region"),s=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(s,{"i18n-title-key":"ADD_CATEGORY",onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)(r,{id:"category-add-modal",direction:"topdown"},{default:Object(j.J)(function(){return[Object(j.j)("button",{id:"category-add-modal-button-create-category",tabindex:"0",class:"tile-add-modal-button",onClick:e[1]||(e[1]=function(e){return t.openModal("createCategory")})},Object(j.D)(t.ADD_NEW_CATEGORY),1),Object(j.j)("button",{id:"category-add-modal-button-existing-category",tabindex:"0",class:"tile-add-modal-button",onClick:e[2]||(e[2]=function(e){return t.openModal("addCategory")})},Object(j.D)(t.ADD_EXISTING_CATEGORY),1)]}),_:1})]}),_:1},8,["onCancel"])};var Ae=P,Ln={class:"confirm-dialog"},kn={class:"confirm-dialog__content"},_n={class:"confirm-dialog__footer"};he=Object(j.k)({name:"ConfirmDialog",components:{ModalDialog:V},props:{title:{type:String,default:"REMOVE"}},computed:{CONFIRM:function(){return m("Do you really want to remove this object? You can completely delete it, or just remove the link to the object here, so that you can still use it somewhere else.")},CANCEL:function(){return m("Cancel")},DELETE:function(){return m("Delete")},REMOVE:function(){return m("Remove")},modalLevel:function(){return"modal2"}},mounted:function(){this.$refs.cancel.focus()},methods:{cancel:function(){this.$store.dispatch("modal/reject",2)},finish:function(e){this.$store.dispatch("modal/resolve",{level:2,action:e})}}});n("3dc4"),he.render=function(t,e,n,o,i,a){var r=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(r,{title:t.REMOVE,"modal-level":t.modalLevel,onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)("form",Ln,[Object(j.j)("div",kn,Object(j.D)(t.CONFIRM),1),Object(j.j)("footer",_n,[Object(j.j)("button",{ref:"cancel",type:"submit",class:"primary",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.cancel&&t.cancel.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CANCEL),513),Object(j.j)("button",{type:"button",onClick:e[2]||(e[2]=Object(j.M)(function(e){return t.finish("remove")},["prevent"]))},Object(j.D)(t.DELETE),1),Object(j.j)("button",{type:"button",onClick:e[3]||(e[3]=Object(j.M)(function(e){return t.finish("unlink")},["prevent"]))},Object(j.D)(t.REMOVE),1)])])]}),_:1},8,["title","modal-level","onCancel"])};var i=he,Sn=(n("841c"),{class:"add-objects__search-wrapper"}),wn={class:"multi-select__select"};P=Object(j.k)({name:"AddObjects",components:{IconButton:$,ModalDialog:V,PortalIcon:M},props:{alreadyAdded:{type:Array,required:!0}},data:function(){return{searchString:"",available:[],selection:[]}},computed:{RESULTS:function(){return m("%(num)s result(s)",{num:this.available.length.toString()})},SEARCH:function(){return m("Search")},ADD_OBJECTS:function(){return m("Add groups")},CANCEL:function(){return m("Cancel")},ADD:function(){return m("Add")}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.search();case 2:t.$refs.search.focus();case 3:case"end":return e.stop()}},e)}))()},methods:{toggleSelection:function(e){var t=this.selection.indexOf(e);-1<t?this.selection.splice(t,1):this.selection.push(e)},search:function(){var a=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.$store.dispatch("activateLoadingState"),o=[],e.prev=2,e.next=5,t="groups/group",n="GroupDN",G("command/udm/syntax/choices",{container:"all",hidden:!1,objectProperty:"None",objectPropertyValue:a.searchString,objectType:t,syntax:n},"portals/all");case 5:i=e.sent,o=i.data.result,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2);case 12:a.available=o.filter(function(e){return!a.alreadyAdded.includes(e.id)}).map(function(e){return e.id}),a.$store.dispatch("deactivateLoadingState");case 14:case"end":return e.stop()}var t,n},e,null,[[2,9]])}))()},finish:function(){this.$store.dispatch("modal/resolve",{level:2,selection:this.selection})},dnToLabel:function(e){var t=e.indexOf(",");return e.slice(3,t)},cancel:function(){this.$store.dispatch("modal/resolve",{level:2,selection:[]})}}});n("052d"),P.render=function(n,e,t,o,i,a){var r=Object(j.z)("icon-button"),s=Object(j.z)("portal-icon"),c=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(c,{"i18n-title-key":n.ADD_OBJECTS,onCancel:n.cancel},{default:Object(j.J)(function(){return[Object(j.j)("form",{onSubmit:e[4]||(e[4]=Object(j.M)(function(){return n.search&&n.search.apply(n,arguments)},["prevent"]))},[Object(j.j)("label",null,[Object(j.i)(Object(j.D)(n.SEARCH)+" ",1),Object(j.j)("div",Sn,[Object(j.K)(Object(j.j)("input",{ref:"search","onUpdate:modelValue":e[1]||(e[1]=function(e){return n.searchString=e}),name:"search",class:"add-objects__text-input"},null,512),[[j.G,n.searchString]]),Object(j.j)(r,{icon:"search","active-at":["modal2"],"aria-label-prop":n.SEARCH,"has-button-style":!0,onClick:n.search},null,8,["aria-label-prop","onClick"])])]),Object(j.j)("label",null,Object(j.D)(n.RESULTS),1),Object(j.j)("div",wn,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.available,function(t){return Object(j.t)(),Object(j.f)("label",{key:t},[Object(j.j)("input",{type:"checkbox",onChange:function(e){return n.toggleSelection(t)}},null,40,["onChange"]),Object(j.j)("span",null,Object(j.D)(n.dnToLabel(t)),1)])}),128))]),Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",onClick:e[2]||(e[2]=Object(j.M)(function(){return n.cancel&&n.cancel.apply(n,arguments)},["prevent"]))},[Object(j.j)(s,{icon:"x"}),Object(j.i)(" "+Object(j.D)(n.CANCEL),1)]),Object(j.j)("button",{type:"button",onClick:e[3]||(e[3]=Object(j.M)(function(){return n.finish&&n.finish.apply(n,arguments)},["prevent"]))},[Object(j.j)(s,{icon:"check"}),Object(j.i)(" "+Object(j.D)(n.ADD),1)])])],32)]}),_:1},8,["i18n-title-key","onCancel"])};he=P;P=Object(j.k)({name:"TranslationEditing",components:{ModalDialog:V,MyForm:le},props:{title:{type:String,default:"REMOVE"},inputValue:{type:Object,required:!0},modalLevelProp:{type:Number,required:!0}},data:function(){return{id:"",formWidgets:[],formValues:{}}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({locales:"locale/getAvailableLocales",localeLabels:"locale/getLocaleLabels"})),{},{TRANSLATION_OF:function(){return m("Translation: %(key1)s",{key1:this.title})},CANCEL:function(){return m("Cancel")},SAVE:function(){return m("Save")},modalLevel:function(){return"modal2"}}),mounted:function(){var n=this;this.id="translation-editing";var o=[],i={};this.locales.forEach(function(e){var t={type:"TextBox",name:e,label:n.localeLabels[e]||e,placeholder:n.inputValue[e]?null:n.inputValue.en_US,required:!1};"en_US"===e&&(t.required=!0),o.push(t),i[e]=null!==(e=n.inputValue[e])&&void 0!==e?e:""}),this.formWidgets=o,this.formValues=i,this.$nextTick(function(){n.$refs.form.focusFirstInteractable()})},methods:{cancel:function(){this.$store.dispatch("modal/reject",this.modalLevelProp)},save:function(){Wt(this.formWidgets,this.formValues),qt(this.formWidgets)?this.$store.dispatch("modal/resolve",{level:this.modalLevelProp,translations:this.formValues}):this.$refs.form.focusFirstInvalid()}}});n("b49c"),P.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("modal-dialog");return Object(j.t)(),Object(j.f)(s,{id:t.id,title:t.TRANSLATION_OF,"modal-level":t.modalLevel,onCancel:t.cancel},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.formValues=e}),widgets:t.formWidgets},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.cancel&&t.cancel.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CANCEL),1),Object(j.j)("button",{class:"primary",type:"submit",onClick:e[2]||(e[2]=Object(j.M)(function(){return t.save&&t.save.apply(t,arguments)},["prevent"]))},Object(j.D)(t.SAVE),1)])]}),_:1},8,["modelValue","widgets"])]}),_:1},8,["id","title","modal-level","onCancel"])};xe=Object(j.k)({name:"LoadingOverlay",components:{ModalWrapper:B,StandbyWrapper:xe},computed:Object(l.a)({},Object(o.b)({loadingState:"getLoadingState"}))});n("510e"),xe.render=function(e,t,n,o,i,a){var r=Object(j.z)("standby-wrapper"),s=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)(s,{"is-active":e.loadingState,"modal-level":2,class:"modal-wrapper--loading"},{default:Object(j.J)(function(){return[Object(j.j)(r)]}),_:1},8,["is-active"])};F=Object(j.k)({name:"PortalModal",components:{ConfirmDialog:i,AddObjects:he,ModalWrapper:B,PortalFolder:ce,AdminEntry:Ze,AdminFolder:Ve,AdminExistingEntry:me,AdminCategory:se,AdminExistingCategory:be,ChooseTabs:We,LoadingOverlay:xe,TileAddModal:et,CategoryAddModal:Ae,CookieBanner:F,TranslationEditing:P},props:{modalLevel:{type:Number,default:1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({modalState:"modal/getModalState",modalComponent:"modal/getModalComponent",modalProps:"modal/getModalProps",modalStubborn:"modal/getModalStubborn",getModalState:"modal/getModalState"})),{},{isActiveModal:function(){var e=!1;return 2===this.modalLevel&&(e=this.getModalState("secondLevelModal")),e=1===this.modalLevel?this.getModalState("firstLevelModal"):e},modalComponentLevel:function(){var e="";return 2===this.modalLevel&&(e=this.modalComponent("secondLevelModal")),e=1===this.modalLevel?this.modalComponent("firstLevelModal"):e},modalPropsLevel:function(){var e={};return 2===this.modalLevel&&(e=this.modalProps("secondLevelModal")),e=1===this.modalLevel?this.modalProps("firstLevelModal"):e}}),methods:{closeModal:function(){var e=2===this.modalLevel?"secondLevelModal":"firstLevelModal";this.modalStubborn(e)||this.$store.dispatch("modal/hideAndClearModal",this.modalLevel)}}});F.render=function(e,t,n,o,i,a){var r=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)("div",Ct,[Object(j.j)(r,{"is-active":e.isActiveModal,"modal-level":e.modalLevel,onBackgroundClick:e.closeModal},{default:Object(j.J)(function(){return[(Object(j.t)(),Object(j.f)(Object(j.B)(e.modalComponentLevel),e.modalPropsLevel,null,16))]}),_:1},8,["is-active","modal-level","onBackgroundClick"])])};var P=F,En={class:"portal-sidebar"};var Dn={class:"portal-sidenavigation__login-header"},An={key:0,class:"portal-sidenavigation__user-row"},xn={class:"portal-sidenavigation__user-icon"},In={class:"portal-sidenavigation__user-text-content"},Mn={class:"portal-sidenavigation--username"},Cn={class:"portal-sidenavigation__menu",role:"toolbar","aria-orientation":"vertical"};var $n={class:"sr-only sr-only-mobile"},Nn={class:"menu-item__counter"},Vn={class:"sr-only sr-only-mobile"};F=Object(j.k)({name:"MenuItem",components:{PortalIcon:M,TabindexElement:A},mixins:[q],props:{id:{type:String,required:!0},title:{type:Object,required:!0},subMenu:{type:Array,default:function(){return[]}},isParentInSubItem:{type:Boolean,default:!1},isSubitem:{type:Boolean,default:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({disabledMenuItems:"menu/disabledMenuItems"})),{},{disabled:function(){return this.disabledMenuItems.includes(this.id)},ariaDisabled:function(){return"button"===this.ariaRole&&this.disabled},activeAt:function(){return["header-menu"]},itemString:function(){var e=this.subMenu.length;return m(0===e?"No items":1===e?"Item":"Items")},ariaRole:function(){return this.link?"link":"button"}}),methods:{setClickIfSubItem:function(e){this.isSubitem&&this.tileClick(e)},LINK_TYPE:function(e){e="samewindow"===e&&(this.link.includes(".crt")||this.link.includes(".crl"))?"download":e;return{samewindow:m("Same tab"),newwindow:m("New Tab"),embedded:m("iFrame"),download:m("Download")}[e]}}});n("c023"),F.render=function(e,t,n,o,i,a){var r=Object(j.z)("portal-icon"),s=Object(j.z)("tabindex-element");return Object(j.t)(),Object(j.f)(s,{id:e.id,tag:e.link?"a":"div","active-at":e.activeAt,class:["menu-item",{"menu-item__disabled":e.disabled}],href:e.link||null,target:e.anchorTarget,role:e.ariaRole,"aria-disabled":e.ariaDisabled,onClick:e.setClickIfSubItem,onKeydown:[Object(j.L)(e.setClickIfSubItem,["enter"]),Object(j.L)(e.setClickIfSubItem,["space"])]},{default:Object(j.J)(function(){return[e.isParentInSubItem?(Object(j.t)(),Object(j.f)(r,{key:0,icon:"chevron-left",class:"menu-item__arrow menu-item__arrow--left"})):Object(j.g)("",!0),Object(j.i)(" "+Object(j.D)(e.$localized(e.title))+" ",1),Object(j.j)("span",$n,Object(j.D)(e.LINK_TYPE(e.linkTarget)),1),0<e.subMenu.length?(Object(j.t)(),Object(j.f)(j.a,{key:1},[Object(j.j)("div",Nn,[Object(j.i)(Object(j.D)(e.subMenu.length)+" ",1),Object(j.j)("span",Vn,Object(j.D)(e.itemString),1)]),e.isParentInSubItem?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)(r,{key:0,icon:"chevron-right",class:"menu-item__arrow menu-item__arrow--right"}))],64)):Object(j.g)("",!0)]}),_:1},8,["id","tag","active-at","class","href","target","role","aria-disabled","onClick","onKeydown"])};A=F,F=Object(j.k)({name:"SideNavigation",components:{PortalIcon:M,MenuItem:A,Region:ze},mixins:[q],data:function(){return{menuVisible:!0,subMenuVisible:!1,subMenuClass:"portal-sidenavigation__menu-item--hide",menuParent:-1,init:!0,fade:!1,fadeRightLeft:"portal-sidenavigation__fade-right-left",fadeLeftRight:"portal-sidenavigation__fade-left-right"}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({menuLinks:"menu/getMenu",editMode:"portalData/editMode",userState:"user/userState",meta:"metaData/getMeta"})),{},{LOGOUT:function(){return m("Logout")},LOGIN:function(){return m("Login")},GO_BACK:function(){return m("Go Back")},EDIT_PORTAL:function(){return m("Edit portal")},CHANGE_LANGUAGE:function(){return m("Change language")}}),mounted:function(){this.$store.dispatch("activity/setRegion","portal-sidenavigation")},methods:{login:function(){U(this.userState)},logout:function(){window.location.href="/univention/logout/?location=".concat(window.location.pathname)},closeNavigation:function(){this.$store.dispatch("navigation/setActiveButton",""),this.$store.dispatch("activity/setRegion","portal-header")},toggleMenu:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;this.menuVisible=!this.menuVisible,this.menuParent=e,this.subMenuVisible=!this.subMenuVisible,this.fade=!this.fade,this.init=!1,this.$store.dispatch("activity/setRegion",-1===e?"portal-sidenavigation":"portal-sidenavigation-sub"),this.subMenuVisible?this.subMenuClass="portal-sidenavigation__menu-item--show":this.subMenuClass="portal-sidenavigation__menu-item--hide"},startEditMode:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("portalData/setEditMode",!0);case 2:t.$refs.editModeButton.blur(),t.$store.dispatch("navigation/setActiveButton",""),t.$store.dispatch("tabs/setActiveTab",0);case 5:case"end":return e.stop()}},e)}))()},setFadeClass:function(){var e="";return e=!this.init?this.fade?this.fadeRightLeft:this.fadeLeftRight:e},hasSubmenu:function(e){return e.subMenu&&0<e.subMenu.length},menuClickAction:function(e,t,n){this.hasSubmenu(n)?(e.preventDefault(),this.toggleMenu(t)):((this.$refs["menuItem".concat(t)]?this.$refs["menuItem".concat(t)]:this.$refs["subItem".concat(t)]).tileClick(e),"embedded"===n.linkTarget&&(this.$store.dispatch("navigation/setActiveButton",""),this.$store.dispatch("activity/saveFocus",{region:"portal-sidenavigation",id:"loginButton"})))}}});n("e67b"),F.render=function(o,e,t,n,i,a){var r=Object(j.z)("portal-icon"),s=Object(j.z)("menu-item"),c=Object(j.z)("region");return Object(j.t)(),Object(j.f)(c,{id:"portal-sidenavigation",role:"navigation",direction:"topdown",class:"portal-sidenavigation"},{default:Object(j.J)(function(){return[Object(j.j)("div",Dn,[o.userState.username?(Object(j.t)(),Object(j.f)("div",An,[Object(j.j)("div",xn,[Object(j.j)(r,{icon:"user"})]),Object(j.j)("div",In,[Object(j.j)("div",Mn,Object(j.D)(o.userState.displayName),1),Object(j.j)("div",{id:"loginButton",ref:"loginButton",class:"portal-sidenavigation__logout-link",tabindex:"0",role:"button",onClick:e[1]||(e[1]=function(){return o.logout&&o.logout.apply(o,arguments)}),onKeydown:[e[2]||(e[2]=Object(j.L)(function(){return o.logout&&o.logout.apply(o,arguments)},["enter"])),e[3]||(e[3]=Object(j.L)(function(){return o.closeNavigation&&o.closeNavigation.apply(o,arguments)},["esc"]))]},[Object(j.j)("span",null,Object(j.D)(o.LOGOUT),1)],544)])])):(Object(j.t)(),Object(j.f)("button",{key:1,id:"loginButton",ref:"loginButton",class:"portal-sidenavigation__link",onClick:e[4]||(e[4]=function(){return o.login&&o.login.apply(o,arguments)}),onKeydown:[e[5]||(e[5]=Object(j.L)(function(){return o.login&&o.login.apply(o,arguments)},["enter"])),e[6]||(e[6]=Object(j.L)(function(){return o.closeNavigation&&o.closeNavigation.apply(o,arguments)},["esc"]))]},[Object(j.j)("span",null,Object(j.D)(o.LOGIN),1)],544))]),Object(j.j)("div",Cn,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(o.menuLinks,function(t,n){return Object(j.t)(),Object(j.f)("div",{key:n,class:[o.setFadeClass(),"portal-sidenavigation__menu-item"]},[o.menuVisible?(Object(j.t)(),Object(j.f)(s,{key:0,id:t.id,ref:"menuItem"+n,title:t.title,"sub-menu":t.subMenu,links:t.links||[],"link-target":t.linkTarget,target:t.target,"path-to-logo":t.pathToLogo,"internal-function":t.internalFunction,"background-color":t.backgroundColor,"aria-haspopup":o.hasSubmenu(t),onClick:function(e){return o.menuClickAction(e,n,t)},onKeydown:[Object(j.L)(Object(j.M)(function(e){return o.menuClickAction(e,n,t)},["exact"]),["enter"]),Object(j.L)(Object(j.M)(function(e){return o.menuClickAction(e,n,t)},["exact"]),["space"]),Object(j.L)(Object(j.M)(function(e){return o.hasSubmenu(t)?o.toggleMenu(n):null},["exact","prevent"]),["right"]),Object(j.L)(o.closeNavigation,["esc"])],onClickAction:o.closeNavigation},null,8,["id","title","sub-menu","links","link-target","target","path-to-logo","internal-function","background-color","aria-haspopup","onClick","onKeydown","onClickAction"])):Object(j.g)("",!0),o.hasSubmenu(t)?(Object(j.t)(),Object(j.f)(j.a,{key:1},[o.subMenuVisible&o.menuParent===n?(Object(j.t)(),Object(j.f)(c,{key:0,id:"portal-sidenavigation-sub",class:"portal-sidenavigation__submenu",role:"navigation","aria-role":"navigation",direction:"topdown","aria-expanded":o.subMenuVisible},{default:Object(j.J)(function(){return[Object(j.j)(s,{id:"sub-item-".concat(t.id),title:t.title,"is-parent-in-sub-item":!0,links:[],class:"portal-sidenavigation__menu-subItem portal-sidenavigation__menu-subItem--parent",onClick:e[7]||(e[7]=function(e){return o.toggleMenu()}),onKeydown:[e[8]||(e[8]=Object(j.L)(Object(j.M)(function(e){return o.toggleMenu()},["exact"]),["enter"])),e[9]||(e[9]=Object(j.L)(Object(j.M)(function(e){return o.toggleMenu()},["exact","prevent"]),["space"])),e[10]||(e[10]=Object(j.L)(Object(j.M)(function(e){return o.toggleMenu()},["exact"]),["left"])),Object(j.L)(o.closeNavigation,["esc"])],onClickAction:o.closeNavigation},null,8,["id","title","onKeydown","onClickAction"]),(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(t.subMenu,function(e,t){return Object(j.t)(),Object(j.f)("div",{key:t,class:o.subMenuClass},[o.subMenuVisible&o.menuParent===n?(Object(j.t)(),Object(j.f)(s,{key:0,id:e.id,ref:"subItem".concat(t),title:e.title,links:e.links||[],"link-target":e.linkTarget,"path-to-logo":e.pathToLogo,"internal-function":e.internalFunction,"background-color":e.backgroundColor,"is-subitem":!0,class:"portal-sidenavigation__menu-subItem",onKeydown:Object(j.L)(o.closeNavigation,["esc"]),onClickAction:o.closeNavigation},null,8,["id","title","links","link-target","path-to-logo","internal-function","background-color","onKeydown","onClickAction"])):Object(j.g)("",!0)],2)}),128))]}),_:2},1032,["aria-expanded"])):Object(j.g)("",!0)],64)):Object(j.g)("",!0)],2)}),128))]),o.userState.mayEditPortal?(Object(j.t)(),Object(j.f)("button",{key:0,ref:"editModeButton",class:"portal-sidenavigation__link portal-sidenavigation__edit-mode","data-test":"openEditmodeButton",onClick:e[11]||(e[11]=function(){return o.startEditMode&&o.startEditMode.apply(o,arguments)}),onKeydown:e[12]||(e[12]=Object(j.L)(function(){return o.closeNavigation&&o.closeNavigation.apply(o,arguments)},["esc"]))},Object(j.D)(o.EDIT_PORTAL),545)):Object(j.g)("",!0)]}),_:1})};var A=F,Pn={class:"edit-mode-side-navigation__headline"};q=Object(j.k)({name:"EditModeSideNavigation",components:{PortalIcon:M,MyForm:le},data:function(){return{formWidgets:[{type:"ImageUploader",name:"logo",label:m("Portal logo"),extraLabel:m("Portal logo")},{type:"LocaleInput",name:"displayName",label:m("Name"),i18nLabel:m("Name"),required:!0},{type:"ImageUploader",name:"background",label:m("Background"),extraLabel:m("Background")},{type:"ComboBox",name:"defaultLinkTarget",label:m("Default link behaviour for portal entries"),options:[{id:"samewindow",label:m("Same tab")},{id:"newwindow",label:m("New tab")},{id:"embedded",label:m("Embedded")}]},{type:"CheckBox",name:"ensureLogin",label:m("Users are required to login")},{type:"CheckBox",name:"showUmc",label:m("Show local UMC modules")}],formValues:{logo:"",displayName:{en_US:""},background:"",defaultLinkTarget:"embedded",ensureLogin:!1,showUmc:!1}}},watch:{"formValues.logo":function(){this.$store.dispatch("portalData/setPortalLogo",this.formValues.logo)},"formValues.displayName":{handler:function(){this.$store.dispatch("portalData/setPortalName",this.formValues.displayName)},deep:!0},"formValues.background":function(){this.$store.dispatch("portalData/setPortalBackground",this.formValues.background)}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalDn:"portalData/getPortalDn",portalName:"portalData/portalName",portalLogo:"portalData/portalLogo",portalBackground:"portalData/portalBackground",portalShowUmc:"portalData/portalShowUmc",portalEnsureLogin:"portalData/portalEnsureLogin",portalDefaultLinkTarget:"portalData/portalDefaultLinkTarget",activityLevel:"activity/level",getModalState:"modal/getModalState"})),{},{PORTAL_SETTINGS:function(){return m("Portal settings")},SAVE:function(){return m("Save")},tabindex:function(){return $t(["header-settings"],this.activityLevel)},formWidgetsWithTabindex:function(){var t=this;return this.formWidgets.map(function(e){return e.tabindex=t.tabindex,e})},isFocusable:function(){return!this.getModalState("secondLevelModal")}}),updated:function(){"modal"===this.activityLevel&&this.$store.dispatch("activity/setLevel","header-settings")},created:function(){this.$store.dispatch("modal/disableBodyScrolling"),this.formValues.logo=this.portalLogo||"",this.formValues.displayName=this.portalName,this.formValues.background=this.portalBackground||"",this.formValues.defaultLinkTarget=this.portalDefaultLinkTarget,this.formValues.ensureLogin=this.portalEnsureLogin,this.formValues.showUmc=this.portalShowUmc},methods:{closeNavigation:function(){this.$store.dispatch("navigation/setActiveButton",""),this.$store.dispatch("activity/setRegion","portal-header")},onSave:function(){Wt(this.formWidgets,this.formValues),qt(this.formWidgets)?this.saveChanges():this.$refs.form.focusFirstInvalid()},saveChanges:function(){var s=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var t,n,o,i,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,s.formValues.logo.startsWith("data:")?t=s.formValues.logo.split(",")[1]:""===s.formValues.logo&&(t=""),n=null,s.formValues.background.startsWith("data:")?n=s.formValues.background.split(",")[1]:""===s.formValues.background&&(n=""),o=Object.entries(s.formValues.displayName),i=s.formValues.showUmc,a=s.formValues.ensureLogin,r=s.formValues.defaultLinkTarget,r={displayName:o,showUmc:i,ensureLogin:a,defaultLinkTarget:r},null!==t&&(r.logo=t),null!==n&&(r.background=n),e.prev=11,s.$store.dispatch("activateLoadingState"),e.next=15,K(s.portalDn,r);case 15:return e.next=17,s.$store.dispatch("portalData/waitForChange",{retries:10,adminMode:!1});case 17:s.$store.dispatch("portalData/setEditMode",!1),s.$store.dispatch("navigation/setActiveButton",""),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),s.$store.dispatch("notifications/addErrorNotification",{title:"Update failed",description:"'Saving the portal failed: ".concat(e.t0,"'")});case 24:s.$store.dispatch("deactivateLoadingState");case 25:case"end":return e.stop()}},e,null,[[11,21]])}))()}}});n("26de"),q.render=function(t,e,n,o,i,a){var r=Object(j.z)("portal-icon"),s=Object(j.z)("my-form");return Object(j.t)(),Object(j.f)("nav",{class:"portal-sidenavigation",onKeydown:e[3]||(e[3]=Object(j.L)(function(){return t.closeNavigation&&t.closeNavigation.apply(t,arguments)},["esc"]))},[Object(j.j)("h2",Pn,Object(j.D)(t.PORTAL_SETTINGS),1),Object(j.j)(s,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.formValues=e}),widgets:t.formWidgetsWithTabindex,class:["edit-mode-side-navigation__form",{"edit-mode-side-navigation__form--unfocusable":!t.isFocusable}]},{default:Object(j.J)(function(){return[Object(j.j)("button",{class:"primary edit-mode-side-navigation__save-button","data-test":"editModeSideNavigation--Save",type:"submit",tabindex:t.tabindex,onClick:e[1]||(e[1]=Object(j.M)(function(){return t.onSave&&t.onSave.apply(t,arguments)},["prevent"]))},[Object(j.j)(r,{icon:"save"}),Object(j.j)("span",null,Object(j.D)(t.SAVE),1)],8,["tabindex"])]}),_:1},8,["modelValue","widgets","class"])],32)};F=q,q=Object(j.k)({name:"PortalSidebar",components:{FlyoutWrapper:Ee,ModalWrapper:B,Notifications:D,SideNavigation:A,EditModeSideNavigation:F},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalName:"portalData/portalName",activeButton:"navigation/getActiveButton",activeTabIndex:"tabs/activeTabIndex",menuItems:"menu/getMenu",tabs:"tabs/allTabs"})),{},{activeNotificationButton:function(){return"bell"===this.activeButton},activeMenuButton:function(){return"menu"===this.activeButton},activeEditModeButton:function(){return"settings"===this.activeButton}}),methods:{closeSidebar:function(){this.$store.dispatch("navigation/setActiveButton","")}}});n("33d6"),q.render=function(e,t,n,o,i,a){var r=Object(j.z)("notifications"),s=Object(j.z)("flyout-wrapper"),c=Object(j.z)("side-navigation"),l=Object(j.z)("edit-mode-side-navigation"),u=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)("div",En,[Object(j.j)(u,{"is-active":e.activeNotificationButton||e.activeMenuButton||e.activeEditModeButton,onBackgroundClick:e.closeSidebar},{default:Object(j.J)(function(){return[Object(j.j)(j.c,{name:"slide",appear:""},{default:Object(j.J)(function(){return[e.activeNotificationButton?(Object(j.t)(),Object(j.f)(s,{key:0,"is-visible":e.activeNotificationButton,class:"portal-sidebar__flyout"},{default:Object(j.J)(function(){return[Object(j.j)(r,{"is-in-notification-bar":!0})]}),_:1},8,["is-visible"])):Object(j.g)("",!0)]}),_:1}),Object(j.j)(j.c,{name:"slide",appear:""},{default:Object(j.J)(function(){return[e.activeMenuButton?(Object(j.t)(),Object(j.f)(s,{key:0,"is-visible":e.activeMenuButton,class:"portal-sidebar__flyout"},{default:Object(j.J)(function(){return[Object(j.j)(c,{links:e.menuItems},null,8,["links"])]}),_:1},8,["is-visible"])):Object(j.g)("",!0)]}),_:1}),Object(j.j)(j.c,{name:"slide",appear:""},{default:Object(j.J)(function(){return[Object(j.j)(s,{"is-visible":e.activeEditModeButton,class:"portal-sidebar__flyout"},{default:Object(j.J)(function(){return[e.activeEditModeButton?(Object(j.t)(),Object(j.f)(l,{key:0})):Object(j.g)("",!0)]}),_:1},8,["is-visible"])]}),_:1})]}),_:1},8,["is-active","onBackgroundClick"])])};var Ee=q,Bn={class:"portal-tooltip__inner-wrap"},Rn=Object(j.j)("div",{class:"cheat"},null,-1),Fn={class:"portal-tooltip__header"},Un={class:"portal-tooltip__title","data-test":"portal-tooltip-title"},qn={class:"portal-tooltip__link-type"};A=Object(j.k)({name:"PortalToolTip",components:{IconButton:$,PortalIcon:M},props:{backgroundColor:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},ariaId:{type:String,default:""},icon:{type:String,default:"./questionMark.svg"},position:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},linkType:{type:Object,required:!0}},data:function(){return{calculatedPosition:{left:this.position.left,bottom:this.position.bottom,zone:"REGULAR"}}},computed:{CLOSE_TOOLTIP:function(){return m("Close Tooltip")},tooltipPosition:function(){return this.isMobile?"":(this.calculatePosition(),"left:".concat(this.calculatedPosition.left,"px;"))},arrowPosition:function(){return"RIGHT"===this.calculatedPosition.zone?"top: -2rem; right: 0.5rem;":"BOTTOM"===this.calculatedPosition.zone?"bottom: -2rem; left: 0.2rem; transform: rotate(180deg);":"BOTTOM_RIGHT"===this.calculatedPosition.zone?"bottom: -2rem; right: 0.5rem; transform: rotate(180deg);":"top: -2rem; left:  0.2rem;"},transitionClassEnter:function(){return"BOTTOM"===this.calculatedPosition.zone?"fade-enter-from-top":"fade-enter-from"},transitionClassLeave:function(){return"BOTTOM"===this.calculatedPosition.zone?"fade-leave-from-top":"fade-leave-from"},linkTypeText:function(){return this.linkType.label},linkTypeIcon:function(){return this.linkType.icon},sameTab:function(){return"sidebar"===this.linkType.icon}},created:function(){window.addEventListener("scroll",this.handleScroll)},unmounted:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{keepTooltip:function(){this.$store.dispatch("tooltip/setHoverOnTooltip",!0)},closeToolTip:function(){this.$store.dispatch("tooltip/setHoverOnTooltip",!1),this.$store.dispatch("tooltip/unsetTooltip")},beforeEnter:function(e){var t="BOTTOM"===this.calculatedPosition.zone||"BOTTOM_RIGHT"===this.calculatedPosition.zone?-15:20;this.isMobile||("BOTTOM"===this.calculatedPosition.zone||"BOTTOM_RIGHT"===this.calculatedPosition.zone?e.style.bottom="".concat(this.calculatedPosition.bottom-t,"px"):e.style.top="".concat(this.calculatedPosition.bottom+t,"px"),e.style.transition="all 0.2s ease-out",e.style.transition="BOTTOM"===this.calculatedPosition.zone?"transform: translateY(-115px)":"transform: translateY(15px)",e.style.opacity="0")},onAfterEnter:function(e){var t;this.isMobile||(t="BOTTOM"===this.calculatedPosition.zone||"BOTTOM_RIGHT"===this.calculatedPosition.zone?0:10,"BOTTOM"===this.calculatedPosition.zone||"BOTTOM_RIGHT"===this.calculatedPosition.zone?e.style.bottom="".concat(this.calculatedPosition.bottom+t,"px"):e.style.top="".concat(this.calculatedPosition.bottom+t,"px"),e.style.opacity="1",e.style.transition="transform: translateY(0)")},leave:function(e){this.isMobile||(e.style.top="".concat(this.calculatedPosition.bottom,"px"),e.style.transition="all 0.25s ease-out",e.style.transition="BOTTOM"===this.calculatedPosition.zone?"transform: translateY(-115px)":"transform: translateY(15px)",e.style.opacity="0")},calculatePosition:function(){var e,t,n=document.querySelector(".portal-tile__root-element");n&&(e=window.innerWidth-2*(null==n?void 0:n.offsetWidth),t=window.innerHeight-2*(null==n?void 0:n.offsetHeight),this.position.x>e&&this.position.y<=t?this.calculatedPosition={left:this.position.left-2*(null==n?void 0:n.offsetWidth),bottom:this.position.bottom,zone:"RIGHT"}:this.position.x<=e&&this.position.y>t?this.calculatedPosition={bottom:window.innerHeight-(this.position.y-20),left:this.position.left,zone:"BOTTOM"}:this.position.x>e&&this.position.y>t&&(this.calculatedPosition={left:this.position.left-2*(null==n?void 0:n.offsetWidth),bottom:window.innerHeight-(this.position.y-20),zone:"BOTTOM_RIGHT"}))},handleScroll:function(){this.$store.dispatch("tooltip/unsetTooltip")}}});n("b56e"),A.render=function(t,e,n,o,i,a){var r=Object(j.z)("icon-button"),s=Object(j.z)("portal-icon");return Object(j.t)(),Object(j.f)(j.c,{name:"fade",appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.onAfterEnter,onLeave:t.leave},{default:Object(j.J)(function(){return[Object(j.j)("div",{ref:"toolTip",class:"portal-tooltip",role:"tooltip","data-test":"portal-tooltip",style:t.tooltipPosition,onMouseenter:e[2]||(e[2]=function(e){return t.keepTooltip()}),onMouseleave:e[3]||(e[3]=function(){return t.closeToolTip&&t.closeToolTip.apply(t,arguments)})},[Object(j.j)("div",Bn,[t.isMobile?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)("div",{key:0,class:"portal-tooltip__arrow","data-test":"portal-tooltip-arrow",style:t.arrowPosition},null,4)),Rn,Object(j.j)("div",Fn,[t.isMobile?(Object(j.t)(),Object(j.f)(j.a,{key:0},[Object(j.j)("div",{class:"portal-tooltip__thumbnail","data-test":"portal-tooltip-image",style:t.backgroundColor?"background: ".concat(t.backgroundColor):""},[Object(j.j)("img",{src:t.icon||"./questionMark.svg",onerror:"this.src='./questionMark.svg'",alt:"",class:"portal-tooltip__logo"},null,8,["src"])],4),Object(j.j)("div",Un,Object(j.D)(t.title),1)],64)):Object(j.g)("",!0),Object(j.j)(r,{icon:"x",class:"portal-tooltip__close-icon","data-test":"portal-tooltip-close-icon","aria-label-prop":t.CLOSE_TOOLTIP,onClick:e[1]||(e[1]=function(e){return t.closeToolTip()})},null,8,["aria-label-prop"])]),t.description?(Object(j.t)(),Object(j.f)("div",{key:1,class:"portal-tooltip__description","data-test":"portal-tooltip-description",innerHTML:t.description},null,8,["innerHTML"])):Object(j.g)("",!0),Object(j.j)("div",qn,[Object(j.i)(Object(j.D)(t.linkTypeText)+" ",1),Object(j.j)(s,{class:["portal-tooltip__link-type-icon",{"portal-tooltip__link-type-icon--same-tab":t.sameTab}],icon:t.linkTypeIcon},null,8,["class","icon"])])])],36)]}),_:1},8,["onBeforeEnter","onAfterEnter","onLeave"])};var F=A,Wn={class:"sr-only sr-only-mobile"},zn={"aria-live":"assertive","aria-relevant":"additions removals","aria-atomic":"true"};q=Object(j.k)({name:"ScreenReaderAnnouncer",props:{},computed:Object(l.a)({},Object(o.b)({message:"activity/message"}))});q.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)("div",Wn,[Object(j.j)("span",zn,Object(j.D)(e.message),1)])};var M=q,Gn={class:"portal-error"},Jn={class:"portal-error__title"},Hn={class:"portal-error__text"};A=Object(j.k)({name:"Portalerror",props:{errorType:{type:Number,required:!0}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({errorContentType:"portalData/errorContentType"})),{},{ERROR_MESSAGE:function(){return 404===this.errorType?m("Page not found"):m("Sorry.")},ERROR_SUBTEXT:function(){return 404===this.errorType?m("This URL does not exist (anymore)."):m("The portal is temporarily unavailable. If the problem persists, please contact your system administrator.")}}),mounted:function(){this.$store.dispatch("activity/setMessage","".concat(this.ERROR_MESSAGE,". ").concat(this.ERROR_SUBTEXT))}});n("7e93"),A.render=function(e,t,n,o,i,a){return Object(j.t)(),Object(j.f)("main",Gn,[Object(j.j)("h1",Jn,Object(j.D)(e.ERROR_MESSAGE),1),Object(j.j)("p",Hn,Object(j.D)(e.ERROR_SUBTEXT),1)])};q=A,A=Object(j.k)({name:"Portal",components:{IconButton:$,LoadingOverlay:xe,Notifications:D,PortalBackground:C,PortalCategory:fe,PortalHeader:I,PortalIframe:Ne,PortalModal:P,PortalSidebar:Ee,PortalToolTip:F,Region:ze,ScreenReaderAnnouncer:M,PortalError:q},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalFinalLayoutFiltered:"portalData/portalFinalLayoutFiltered",portalLoaded:"portalData/loaded",errorContentType:"portalData/errorContentType",tabs:"tabs/allTabs",activeTabIndex:"tabs/activeTabIndex",editMode:"portalData/editMode",tooltip:"tooltip/tooltip",metaData:"metaData/getMeta",inFolderModal:"modal/inFolderModal",userState:"user/userState"})),{},{ADD_CATEGORY:function(){return m("Add category")},NO_SEARCH_RESULTS:function(){return m("No search results")},noSearchResults:function(){return this.portalLoaded&&0===this.portalFinalLayoutFiltered.length&&!this.inFolderModal},portalRole:function(){return this.editMode?"application":""}}),methods:{addCategory:function(){this.$store.dispatch("modal/setAndShowModal",{name:"CategoryAddModal"}),this.$store.dispatch("activity/setRegion","category-add-modal")}}});n("8bc6"),A.render=function(n,e,t,o,i,a){var r=Object(j.z)("screen-reader-announcer"),s=Object(j.z)("portal-background"),c=Object(j.z)("portal-header"),l=Object(j.z)("portal-error"),u=Object(j.z)("portal-category"),d=Object(j.z)("icon-button"),f=Object(j.z)("region"),p=Object(j.z)("portal-iframe"),b=Object(j.z)("notifications"),m=Object(j.z)("portal-tool-tip"),g=Object(j.z)("portal-sidebar"),h=Object(j.z)("portal-modal"),v=Object(j.z)("router-view"),O=Object(j.z)("loading-overlay");return Object(j.t)(),Object(j.f)("div",Re,[Object(j.j)(r),Object(j.j)(s),Object(j.j)(c),n.errorContentType?(Object(j.t)(),Object(j.f)(l,{key:0,"error-type":void 0})):Object(j.g)("",!0),n.errorContentType?Object(j.g)("",!0):Object(j.K)((Object(j.t)(),Object(j.f)(f,{key:1,id:"portalCategories","aria-role":n.portalRole,class:"portal-categories"},{default:Object(j.J)(function(){return[n.noSearchResults?(Object(j.t)(),Object(j.f)("h2",Fe,Object(j.D)(n.NO_SEARCH_RESULTS),1)):Object(j.g)("",!0),(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.portalFinalLayoutFiltered,function(e,t){return Object(j.t)(),Object(j.f)(u,{key:e.id,"layout-id":e.layoutId,title:e.title,dn:e.dn,virtual:e.virtual,tiles:e.tiles,"category-index":t},null,8,["layout-id","title","dn","virtual","tiles","category-index"])}),128)),n.editMode?(Object(j.t)(),Object(j.f)("h2",Ue,[Object(j.j)(d,{icon:"plus",class:"portal-categories__add-button icon-button--admin","aria-label-prop":n.ADD_CATEGORY,onClick:n.addCategory},null,8,["aria-label-prop","onClick"]),Object(j.i)(" "+Object(j.D)(n.ADD_CATEGORY),1)])):Object(j.g)("",!0)]}),_:1},8,["aria-role"])),[[j.H,!n.activeTabIndex]]),Object(j.K)(Object(j.j)("div",qe,[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(n.tabs,function(e,t){return Object(j.t)(),Object(j.f)(p,{key:t,link:e.iframeLink,"is-active":n.activeTabIndex===t+1,"tab-id":t,title:e.tabLabel},null,8,["link","is-active","tab-id","title"])}),128))],512),[[j.H,n.activeTabIndex]]),Object(j.j)(b,{"is-in-notification-bar":!1}),n.tooltip?(Object(j.t)(),Object(j.f)(m,Object(j.o)({key:2},n.tooltip),null,16)):Object(j.g)("",!0),Object(j.j)(g),Object(j.j)(h),Object(j.j)(h,{"modal-level":2}),Object(j.j)(v),Object(j.j)(O)])};var A=A,Kn={class:"not-found"};I=Object(j.k)({name:"NotFound",components:{IconButton:$,LoadingOverlay:xe,ModalWrapper:B,Notifications:D,PortalBackground:C,PortalCategory:fe,PortalHeader:I,PortalIframe:Ne,PortalModal:P,PortalSidebar:Ee,PortalToolTip:F,Region:ze,ScreenReaderAnnouncer:M,PortalError:q},computed:Object(l.a)(Object(l.a)({},Object(o.b)({portalFinalLayout:"portalData/portalFinalLayout",errorContentType:"portalData/errorContentType",tabs:"tabs/allTabs",activeTabIndex:"tabs/activeTabIndex",editMode:"portalData/editMode",tooltip:"tooltip/tooltip",metaData:"metaData/getMeta",getModalState:"modal/getModalState",userState:"user/userState"})),{},{ADD_CATEGORY:function(){return m("Add category")},isSecondModalActive:function(){return this.getModalState("secondLevelModal")},portalRole:function(){return this.editMode?"application":""}}),methods:{addCategory:function(){this.$store.dispatch("modal/setAndShowModal",{name:"CategoryAddModal"}),this.$store.dispatch("activity/setRegion","category-add-modal")}}});n("8610"),I.render=function(e,t,n,o,i,a){var r=Object(j.z)("screen-reader-announcer"),s=Object(j.z)("portal-background"),c=Object(j.z)("portal-header"),l=Object(j.z)("portal-sidebar"),u=Object(j.z)("notifications"),d=Object(j.z)("portal-error"),f=Object(j.z)("router-view"),p=Object(j.z)("loading-overlay");return Object(j.t)(),Object(j.f)("div",Kn,[Object(j.j)(r),Object(j.j)(s),Object(j.j)(c),Object(j.j)(l),Object(j.j)(u,{"is-in-notification-bar":!1}),Object(j.j)(d,{"error-type":404}),Object(j.j)(f),Object(j.j)(p)])};Ne=I;P=Object(j.k)({name:"Site",components:{ModalDialog:V,ModalWrapper:B},props:{title:{type:String,required:!0},subtitle:{type:String,default:""}},computed:Object(l.a)({},Object(o.b)({metaData:"metaData/getMeta",initialLoadDone:"getInitialLoadDone"})),mounted:function(){this.$store.dispatch("activity/setLevel","selfservice"),document.body.classList.add("body--has-selfservice")},unmounted:function(){this.$store.dispatch("activity/setLevel","portal"),document.body.classList.remove("body--has-selfservice")},methods:{cancel:function(){this.$router.push({name:"portal"})}}});n("447e"),P.render=function(e,t,n,o,i,a){var r=Object(j.z)("modal-dialog"),s=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)(s,{"is-active":e.initialLoadDone,full:!0,class:"modal-wrapper--selfservice"},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"dialog","i18n-title-key":e.title,"modal-level":"selfservice",class:"dialog--selfservice",onCancel:e.cancel},Object(j.h)({default:Object(j.J)(function(){return[Object(j.y)(e.$slots,"default")]}),_:2},[e.subtitle?{name:"description",fn:Object(j.J)(function(){return[Object(j.i)(Object(j.D)(e.subtitle),1)]})}:void 0]),1032,["i18n-title-key","onCancel"])]}),_:1},8,["is-active"])};Ee=P,F=Object(j.k)({name:"PasswordChange",components:{MyForm:le,Site:Ee},data:function(){return{formWidgets:[{type:"PasswordBox",name:"oldPassword",label:m("Old password"),validators:[function(e,t){return Ft(e,t)?m("Please enter your old password"):""}]},{type:"PasswordBox",name:"newPassword",label:m("New password"),validators:[function(e,t){return Ft(e,t)?m("Please enter your new password"):""}]},{type:"PasswordBox",name:"newPasswordRetype",label:m("New password (retype)"),validators:[function(e,t){return Ft(e,t)?m("Please confirm your new password"):""},function(e,t,n,o){return o.newPassword!==t?m("The new passwords do not match"):""}]}],formValues:{oldPassword:"",newPassword:"",newPasswordRetype:""}}},computed:{TITLE:function(){return m("Change password")},SUBTITLE:function(){return m("Change your password")},CANCEL:function(){return m("Cancel")},CHANGE_PASSWORD:function(){return m("Change password")},form:function(){return this.$refs.form}},mounted:function(){var e=this;setTimeout(function(){e.form.focusFirstInteractable()},100)},methods:{finish:function(){var e,t,n=this;Wt(this.formWidgets,this.formValues),qt(this.formWidgets)?(this.$store.dispatch("activateLoadingState"),e=this.formValues.oldPassword,t=this.formValues.newPassword,G("set",{password:{password:e,new_password:t}}).then(function(e){return e.data}).catch(function(e){if("response"in e&&"data"in e.response)throw e.response.data;throw new Error("Unknown error")}).then(function(e){n.$store.dispatch("notifications/addSuccessNotification",{title:m("Change password"),description:e.message}),n.$store.dispatch("deactivateLoadingState"),n.$router.push({name:"portal"})}).catch(function(e){n.$store.dispatch("notifications/addErrorNotification",{title:m("Change password"),description:e.message}),n.$store.dispatch("deactivateLoadingState")})):this.form.focusFirstInvalid()},cancel:function(){this.$router.push({name:"portal"})}}});n("4652"),F.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("site");return Object(j.t)(),Object(j.f)(s,{title:t.TITLE,subtitle:t.SUBTITLE},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.formValues=e}),widgets:t.formWidgets},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.cancel&&t.cancel.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CANCEL),1),Object(j.j)("button",{type:"submit",class:"primary",onClick:e[2]||(e[2]=Object(j.M)(function(){return t.finish&&t.finish.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CHANGE_PASSWORD),1)])]}),_:1},8,["modelValue","widgets"])]}),_:1},8,["title","subtitle"])};var ze=F,Yn={key:0};var M=n("23db"),Xn=n.n(M),q=n("5da1"),Qn=n.n(q);function Zn(e){return!function(e){if("string"==typeof e)switch(e.toLowerCase()){case"no":case"not":case"false":case"0":case"disable":case"disabled":case"off":return 1}return!1===e||0===e||null==e||""===e}(e)}function eo(e){var t,n={type:e.type,name:null!==(n=e.id)&&void 0!==n?n:"",label:null!==(n=e.label)&&void 0!==n?n:"",required:null!==(n=e.required)&&void 0!==n&&n,readonly:!(null===(n=e.editable)||void 0===n||n)||null!==(t=e.readonly)&&void 0!==t&&t,description:e.description};return"ImageUploader"===e.type&&(n.extraLabel=n.label),"ComboBox"===e.type&&(n.options=e.staticValues),"MultiInput"===e.type&&(n.extraLabel=n.label,n.subtypes=null===(t=e.subtypes)||void 0===t?void 0:t.map(eo)),"jpegPhoto"===e.syntax&&(n.accept="image/png,image/jpeg"),n}function to(e,n){e.forEach(function(e){var t=n[e.name];void 0!==t&&("MultiInput"===e.type?Array.isArray(t.message)?e.invalidMessage={all:"",values:t.message}:e.invalidMessage={all:t.message,values:[]}:e.invalidMessage=t.message)})}function no(e,t){var o=JSON.parse(JSON.stringify(e));return t.forEach(function(e){var t,n=o[e.name];"ImageUploader"===e.type&&("string"==typeof n&&n.startsWith("data:")&&(t=n.split(",")[1])?o[e.name]=t:delete o[e.name]),"MultiInput"===e.type&&Array.isArray(n)&&(o[e.name]=n.reduce(function(e,t){return Array.isArray(t)?t.some(function(e){return!!e})&&e.push(t):t&&e.push(t),e},[]))}),o}function oo(e,t){var n=JSON.parse(JSON.stringify(e));return t.forEach(function(e){var t;"ImageUploader"===e.type&&("string"!=typeof(t=n[e.name])||t.startsWith("data:")||(n[e.name]="data:image/".concat(0===(e=t).indexOf("/9j/4")?"jpeg":0===e.indexOf("iVBORw0KGg")?"png":0===e.indexOf("R0lGODdh")||0===e.indexOf("R0lGODlh")?"gif":0===e.indexOf("PHN2Z")||0===e.indexOf("PFNWR")||e.indexOf("PFhNT")||e.indexOf("PHhtb")?"svg+xml":"unknown",";base64,").concat(t)))}),n}I=Object(j.k)({name:"ConfirmDialog",components:{ModalDialog:V,ModalWrapper:B},data:function(){return{errors:[],givenTitle:"",promiseResolve:null,role:"alertDialog"}},computed:{isActive:function(){return 0<this.errors.length},title:function(){return this.givenTitle||m("An error occurred")},CLOSE:function(){return m("Close")}},methods:{cancel:function(){this.errors=[],this.givenTitle="",this.$store.dispatch("activity/setLevel","selfservice"),this.promiseResolve()},showError:function(e){var n=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"alertDialog";return this.$store.dispatch("activity/setLevel","selfservice2"),this.role=o,this.givenTitle=t,Array.isArray(e)?(this.errors=[],e.forEach(function(e){n.errors.push(e)})):this.errors=[e],this.$nextTick(function(){n.$refs.button.focus()}),new Promise(function(e,t){n.promiseResolve=e})}}});I.render=function(e,t,n,o,i,a){var r=Object(j.z)("modal-dialog"),s=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)(s,{"is-active":e.isActive,full:!0,class:"modal-wrapper--selfservice"},{default:Object(j.J)(function(){return[e.isActive?(Object(j.t)(),Object(j.f)(r,{key:0,ref:"dialog","modal-level":"selfservice2","i18n-title-key":e.title,class:"dialog--selfservice",role:e.role,onCancel:e.cancel},{description:Object(j.J)(function(){return[(Object(j.t)(!0),Object(j.f)(j.a,null,Object(j.x)(e.errors,function(e,t){return Object(j.t)(),Object(j.f)("p",{key:t},Object(j.D)(e),1)}),128))]}),default:Object(j.J)(function(){return[Object(j.j)("form",null,[Object(j.j)("footer",null,[Object(j.j)("button",{ref:"button",type:"button",onClick:t[1]||(t[1]=function(){return e.cancel&&e.cancel.apply(e,arguments)})},Object(j.D)(e.CLOSE),513)])])]}),_:1},8,["i18n-title-key","role","onCancel"])):Object(j.g)("",!0)]}),_:1},8,["is-active"])};P=I;F=Object(j.k)({name:"ConfirmDialog",components:{ModalDialog:V,ModalWrapper:B,MyForm:le},data:function(){return{isActive:!1,showPasswordPrompt:!0,promiseResolve:null,formValues:{password:""},formWidgets:[{type:"PasswordBox",name:"password",label:m("Password"),validators:[function(e,t){return Ft(e,t)?m("Please enter your password"):""}]}]}},computed:{TITLE:function(){return m("Account deletion")},DESCRIPTION:function(){return this.showPasswordPrompt?m("Please enter your password to delete your account"):m("Do you really want to delete your account?")},CANCEL:function(){return m("Cancel")},CONFIRM:function(){return m("Delete my account")},visibleWidgets:function(){return this.showPasswordPrompt?this.formWidgets:[]}},methods:{cancel:function(){this.isActive=!1,this.$store.dispatch("activity/setLevel","selfservice")},confirm:function(){!this.showPasswordPrompt||(Wt(this.formWidgets,this.formValues),qt(this.formWidgets))?(this.cancel(),this.promiseResolve(this.formValues.password)):this.$refs.form.focusFirstInvalid()},show:function(e){var n=this;return this.formValues={password:""},this.showPasswordPrompt=e,this.isActive=!0,this.$store.dispatch("activity/setLevel","selfservice2"),this.showPasswordPrompt?this.$nextTick(function(){n.$refs.form.focusFirstInteractable()}):this.$nextTick(function(){n.$refs.cancelButon.focus()}),new Promise(function(e,t){n.promiseResolve=e})}}});F.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("modal-dialog"),c=Object(j.z)("modal-wrapper");return Object(j.t)(),Object(j.f)(c,{"is-active":t.isActive,full:!0,class:"modal-wrapper--selfservice"},{default:Object(j.J)(function(){return[t.isActive?(Object(j.t)(),Object(j.f)(s,{key:0,ref:"dialog","modal-level":"selfservice2","i18n-title-key":t.TITLE,class:"dialog--selfservice",onCancel:t.cancel},{description:Object(j.J)(function(){return[Object(j.i)(Object(j.D)(t.DESCRIPTION),1)]}),default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.formValues=e}),widgets:t.visibleWidgets},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[Object(j.j)("button",{ref:"cancelButon",type:"button",onClick:e[1]||(e[1]=function(){return t.cancel&&t.cancel.apply(t,arguments)})},Object(j.D)(t.CANCEL),513),Object(j.j)("button",{ref:"confirmButton",type:"submit",onClick:e[2]||(e[2]=Object(j.M)(function(){return t.confirm&&t.confirm.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CONFIRM),513)])]}),_:1},8,["modelValue","widgets"])]}),_:1},8,["i18n-title-key","onCancel"])):Object(j.g)("",!0)]}),_:1},8,["is-active"])};M=F,q=Object(j.k)({name:"Profile",components:{MyForm:le,Site:Ee,ErrorDialog:P,ConfirmDeregistration:M},data:function(){return{loginWidgets:[{type:"TextBox",name:"username",label:m("Username"),invalidMessage:"",required:!0},{type:"PasswordBox",name:"password",label:m("Password"),invalidMessage:"",required:!0}],loginValues:{username:"",password:""},attributeWidgets:[],attributeValues:{},origFormValues:{},initiated:!1,forceLogin:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({userState:"user/userState",activityLevel:"activity/level",metaData:"metaData/getMeta",initialLoadDone:"getInitialLoadDone"})),{},{renderDeregistration:function(){var e;return Zn(null!==(e=this.metaData["umc/self-service/account-deregistration/enabled"])&&void 0!==e&&e)},TITLE:function(){return"".concat(m("Profile")," ").concat(this.displayUsername)},SUBTITLE:function(){return m("Customize your profile")},USERNAME:function(){return m("Username")},PASSWORD:function(){return m("Password")},CONTINUE:function(){return m("Continue")},CLOSE:function(){return m("Close")},SAVE:function(){return m("Save")},DELETE_ACCOUNT:function(){return m("Delete my account")},attributesLoaded:function(){return 0<this.attributeWidgets.length},loginForm:function(){return this.$refs.loginForm},attributesForm:function(){return this.$refs.attributesForm},errorDialog:function(){return this.$refs.errorDialog},displayUsername:function(){return this.attributesLoaded?": ".concat(this.loginValues.username):""},confirmDeregistrationDialog:function(){return this.$refs.confirmDeregistrationDialog},tabindex:function(){return $t(["selfservice"],this.activityLevel)},skipLogin:function(){return!this.forceLogin&&this.userState.username&&this.metaData["umc/self-service/allow-authenticated-use"]},loginWidgetsVisible:function(){return this.skipLogin?[this.loginWidgets[0]]:this.loginWidgets},loginWidgetsWithTabindex:function(){var t=this;return this.loginWidgetsVisible.map(function(e){return e.tabindex=t.tabindex,e})},attributeWidgetsWithTabindex:function(){var t=this;return this.attributeWidgets.map(function(e){return e.tabindex=t.tabindex,e})},credentials:function(){return this.skipLogin?{}:{username:this.loginValues.username,password:this.loginValues.password}}}),watch:{initialLoadDone:function(e){e&&!this.initiated&&this.init()}},mounted:function(){this.initialLoadDone&&this.init()},methods:{init:function(){var e,t=this;this.initiated=!0,null!==(e=this.userState)&&void 0!==e&&e.username&&(this.loginValues.username=this.userState.username||null,this.loginWidgets[0].disabled=!0),this.skipLogin?this.onContinue():setTimeout(function(){t.loginForm.focusFirstInteractable()},100)},onContinue:function(){this.skipLogin||(Wt(this.loginWidgets,this.loginValues),qt(this.loginWidgets))?(this.loginWidgets.forEach(function(e){e.disabled=!0}),this.loadAttributes()):this.loginForm.focusFirstInvalid()},resetToLogin:function(){var e=this;this.forceLogin=!0,this.attributeWidgets=[],this.attributeValues={},this.loginWidgets.forEach(function(e){e.disabled=!1}),this.loginValues={username:"",password:""},this.$nextTick(function(){e.loginForm.focusFirstInteractable()})},close:function(){this.$router.push({name:"portal"})},onSave:function(){var e,n=this;Wt(this.attributeWidgets,this.attributeValues),qt(this.attributeWidgets)&&(e=Object.keys(this.attributeValues).reduce(function(e,t){return Qn()(n.attributeValues[t],n.origFormValues[t])||(e[t]=n.attributeValues[t]),e},{}),Xn()(e)?this.$store.dispatch("notifications/addSuccessNotification",{title:m("Profile changes"),description:"Your profile data is up to date"}):this.save(no(e,this.attributeWidgets)))},save:function(t){var n=this;this.$store.dispatch("activateLoadingState"),J("passwordreset/validate_user_attributes",Object(l.a)({attributes:t},this.credentials)).then(function(e){return to(n.attributeWidgets,e),qt(n.attributeWidgets)?J("passwordreset/set_user_attributes",Object(l.a)({attributes:t},n.credentials)).then(function(){n.$store.dispatch("notifications/addSuccessNotification",{title:m("Profile changes"),description:"Successfully saved changes"}),n.$router.push({name:"portal"})}):void n.attributesForm.focusFirstInvalid()}).catch(function(e){n.errorDialog.showError(e.message).then(function(){n.$refs.saveButton.focus()})}).finally(function(){n.$store.dispatch("deactivateLoadingState")})},updateOrigFormValues:function(){this.origFormValues=JSON.parse(JSON.stringify(this.attributeValues))},loadAttributes:function(){var o=this;this.$store.dispatch("activateLoadingState"),J("passwordreset/get_user_attributes_descriptions",{}).then(function(n){var e=n.map(function(e){return e.id});return J("passwordreset/get_user_attributes_values",Object(l.a)({attributes:e},o.credentials)).then(function(t){var e=n.map(eo);e.forEach(function(e){t[e.name]=zt(e,t[e.name])}),o.attributeWidgets=e,o.attributeValues=oo(t,e),o.updateOrigFormValues(),o.$nextTick(function(){o.attributesForm.focusFirstInteractable()})})}).catch(function(e){o.errorDialog.showError(e.message).then(function(){o.resetToLogin()})}).finally(function(){o.$store.dispatch("deactivateLoadingState")})},deleteAccount:function(){var t=this;this.confirmDeregistrationDialog.show(this.skipLogin).then(function(e){H(t.$store,"passwordreset/deregister_account",{username:t.loginValues.username,password:t.skipLogin?e:t.loginValues.password}).then(function(){t.errorDialog.showError(m("Your account has been successfully deleted."),m("Account deletion"),"dialog").then(function(){t.resetToLogin()})},function(e){t.errorDialog.showError(e.message).then(function(){t.$refs.deregistrationButton.focus()})})})}}});q.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("error-dialog"),c=Object(j.z)("confirm-deregistration"),l=Object(j.z)("site");return Object(j.t)(),Object(j.f)(l,{title:t.TITLE,subtitle:t.SUBTITLE},{default:Object(j.J)(function(){return[t.attributesLoaded?Object(j.g)("",!0):(Object(j.t)(),Object(j.f)(r,{key:0,ref:"loginForm",modelValue:t.loginValues,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.loginValues=e}),widgets:t.loginWidgetsWithTabindex},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[Object(j.j)("button",{type:"submit",tabindex:t.tabindex,onClick:e[1]||(e[1]=Object(j.M)(function(){return t.onContinue&&t.onContinue.apply(t,arguments)},["prevent"]))},Object(j.D)(t.CONTINUE),9,["tabindex"])])]}),_:1},8,["modelValue","widgets"])),t.attributesLoaded?(Object(j.t)(),Object(j.f)(r,{key:1,ref:"attributesForm",modelValue:t.attributeValues,"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.attributeValues=e}),widgets:t.attributeWidgetsWithTabindex},{default:Object(j.J)(function(){return[t.renderDeregistration?(Object(j.t)(),Object(j.f)("footer",Yn,[Object(j.j)("button",{ref:"deregistrationButton",type:"button",tabindex:t.tabindex,onClick:e[3]||(e[3]=function(){return t.deleteAccount&&t.deleteAccount.apply(t,arguments)})},Object(j.D)(t.DELETE_ACCOUNT),9,["tabindex"])])):Object(j.g)("",!0),Object(j.j)("footer",null,[Object(j.j)("button",{type:"button",tabindex:t.tabindex,onClick:e[4]||(e[4]=function(){return t.close&&t.close.apply(t,arguments)})},Object(j.D)(t.CLOSE),9,["tabindex"]),Object(j.j)("button",{ref:"saveButton",type:"submit",tabindex:t.tabindex,class:"primary",onClick:e[5]||(e[5]=Object(j.M)(function(){return t.onSave&&t.onSave.apply(t,arguments)},["prevent"]))},Object(j.D)(t.SAVE),9,["tabindex"])])]}),_:1},8,["modelValue","widgets"])):Object(j.g)("",!0),Object(j.j)(s,{ref:"errorDialog"},null,512),Object(j.j)(c,{ref:"confirmDeregistrationDialog"},null,512)]}),_:1},8,["title","subtitle"])};I=q;V=Object(j.k)({name:"GuardedSite",components:{MyForm:le,Site:Ee,ErrorDialog:P},props:{title:{type:String,required:!0},subtitle:{type:String,default:""},path:{type:String,required:!0},passwordNeeded:{type:Boolean,default:!0},guardedWidgets:{type:Array,required:!0},submitLabelAfterLoaded:{type:String,default:""}},emits:["loaded","save"],data:function(){var e={username:""};this.passwordNeeded&&(e.password="");var t=[{type:"TextBox",name:"username",label:m("Username"),readonly:!1,invalidMessage:"",required:!0}];return this.passwordNeeded&&t.push({type:"PasswordBox",name:"password",label:m("Password"),readonly:!1,invalidMessage:"",required:!0}),{formValues:e,formWidgets:t,loaded:!1}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({metaData:"metaData/getMeta",userState:"user/userState",activityLevel:"activity/level"})),{},{SUBMIT_LABEL:function(){return this.loaded?this.submitLabelAfterLoaded||m("Submit"):m("Next")},form:function(){return this.$refs.form},tabindex:function(){return $t(["selfservice"],this.activityLevel)},formWidgetsWithTabindex:function(){var t=this;return this.formWidgets.map(function(e){return e.tabindex=t.tabindex,e})}}),watch:{guardedWidgets:function(e){var t=this;e.forEach(function(e){t.formWidgets.push(Object(l.a)({},e))})}},mounted:function(){var e=this;setTimeout(function(){"string"==typeof e.$route.query.username&&e.$route.query.username?e.formValues.username=e.$route.query.username:e.userState.username&&(e.formValues.username=e.userState.username),e.refocus()},300)},methods:{refocus:function(){var e=this;this.$nextTick(function(){e.form.focusFirstInteractable()})},submit:function(){var e,t=this;Wt(this.formWidgets,this.formValues)?this.loaded?this.$emit("save",this.formValues):(e={username:this.formValues.username},this.passwordNeeded&&(e.password=this.formValues.password),H(this.$store,this.path,e).then(function(e){t.disableLoginWidgets(!0),t.loaded=!0,t.$emit("loaded",e,t.formValues),t.refocus()}).catch(function(e){t.disableLoginWidgets(!1),t.formValues.username="",t.passwordNeeded&&(t.formValues.password=""),t.showError(e.message,m("Authentification failed")).then(function(){t.refocus()})})):this.form.focusFirstInvalid()},showError:function(e){return this.$refs.errorDialog.showError(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"")},disableLoginWidgets:function(n){var o=this;["username","password"].forEach(function(t){var e=o.formWidgets.find(function(e){return e.name===t});e&&(e.disabled=n)})}}});V.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("error-dialog"),c=Object(j.z)("site");return Object(j.t)(),Object(j.f)(c,{title:t.title,subtitle:t.subtitle},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.formValues=e}),widgets:t.formWidgetsWithTabindex},{default:Object(j.J)(function(){return[Object(j.y)(t.$slots,"default"),Object(j.j)("footer",null,[Object(j.j)("button",{type:"submit",tabindex:t.tabindex,class:{primary:t.loaded},onClick:e[1]||(e[1]=Object(j.M)(function(){return t.submit&&t.submit.apply(t,arguments)},["prevent"]))},Object(j.D)(t.SUBMIT_LABEL),11,["tabindex"])])]}),_:3},8,["modelValue","widgets"]),Object(j.j)(s,{ref:"errorDialog"},null,512)]}),_:1},8,["title","subtitle"])};B=V,F=Object(j.k)({name:"ProtectAccount",components:{GuardedSite:B},data:function(){return{formWidgets:[]}},computed:{TITLE:function(){return m("Protect account")},SUBTITLE:function(){return m("Add or update your account recovery options.")}},methods:{loaded:function(e,t){var o=[];e.forEach(function(n){var i={type:"TextBox",name:n.id,label:n.label},e={type:"TextBox",name:"".concat(n.id,"--retype"),label:"".concat(n.label," (retype)"),validators:[function(e,t){return Ft(e,t)?m("Please confirm your %(label)s",{label:n.label}):""},function(e,t,n,o){return o[i.name]!==t?m("The inputs do not match"):""}]};o.push(i),o.push(e),t[i.name]=zt(i,n.value),t[e.name]=zt(e,n.value)}),this.formWidgets=o},setContactInfo:function(e){var n=this;H(this.$store,"passwordreset/set_contact",e).then(function(e){var t=m("Your account recovery options have been updated.");e.verificationEmailSend&&(t="".concat(t,". ").concat(m("Your account has to be verified again after changing your email. We have sent you an email to %(email)s. Please follow the instructions in the email to verify your account.",{email:e.email}))),n.$store.dispatch("notifications/addSuccessNotification",{title:m("Save successful"),description:t}),n.$router.push({name:"portal"})}).catch(function(e){n.$refs.guardedSite.showError(e.message).then(function(){n.$refs.guardedSite.refocus()})})}}});F.render=function(e,t,n,o,i,a){var r=Object(j.z)("guarded-site");return Object(j.t)(),Object(j.f)(r,{ref:"guardedSite",title:e.TITLE,subtitle:e.SUBTITLE,path:"passwordreset/get_contact","guarded-widgets":e.formWidgets,onLoaded:e.loaded,onSave:e.setContactInfo},null,8,["title","subtitle","guarded-widgets","onLoaded","onSave"])};M=F;q=Object(j.k)({name:"CreateAccount",components:{Site:Ee,MyForm:le,ErrorDialog:P},data:function(){return{formValues:{},formWidgets:[]}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({activityLevel:"activity/level"})),{},{TITLE:function(){return m("Create an account")},SUBMIT_LABEL:function(){return this.TITLE},form:function(){return this.$refs.form},errorDialog:function(){return this.$refs.errorDialog},tabindex:function(){return $t(["selfservice"],this.activityLevel)},formWidgetsWithTabindex:function(){var t=this;return this.formWidgets.map(function(e){return e.tabindex=t.tabindex,e})}}),mounted:function(){var a=this;H(this.$store,"passwordreset/get_registration_attributes").then(function(e){var t=e.widget_descriptions.map(eo),n=t.findIndex(function(e){return"PasswordInputBox"===e.type}),i=t[n];i.type="PasswordBox";e=JSON.parse(JSON.stringify(i));e.name="".concat(e.name,"--retype"),e.label="".concat(e.label," ").concat(m("(retype)")),e.validators=[function(e,t){return Ft(e,t)?m("Please confirm your new password"):""},function(e,t,n,o){return o[i.name]!==t?m("The new passwords do not match"):""}],t.splice(n+1,0,e);var o={};t.forEach(function(e){o[e.name]=zt(e,o[e.name])}),a.formWidgets=t,a.formValues=o,a.$nextTick(function(){a.form.focusFirstInteractable()})},function(e){a.errorDialog.showError(e.message)})},methods:{submit:function(){var t=this;Wt(this.formWidgets,this.formValues)?H(this.$store,"passwordreset/create_self_registered_account",{attributes:no(this.formValues,this.formWidgets)}).then(function(e){e.success?(e.verifyTokenSuccessfullySend?t.errorDialog.showError([m("Hello %(username)s,",{username:e.data.username}),m("we have sent you an email to %(email)s. Please follow the instructions in the email to verify your account.",{email:e.data.email})],m("Account creation successful"),"dialog"):t.errorDialog.showError([m("Hello %(username)s,",{username:e.data.username}),m("an error occurred while sending the verification token for your account. Please request a new one.")])).then(function(){t.$router.push({name:"selfserviceVerifyAccount",query:{username:e.data.username}})}):"INVALID_ATTRIBUTES"===e.failType?(to(t.formWidgets,e.data),qt(t.formWidgets)||t.form.focusFirstInvalid()):"CREATION_FAILED"===e.failType&&t.errorDialog.showError([m("Creating a new user failed."),e.data]).then(function(){t.form.focusFirstInteractable()})},function(e){t.errorDialog.showError(e.message).then(function(){t.form.focusFirstInteractable()})}):this.form.focusFirstInvalid()}}});q.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("error-dialog"),c=Object(j.z)("site");return Object(j.t)(),Object(j.f)(c,{title:t.TITLE},{default:Object(j.J)(function(){return[0<t.formWidgets.length?(Object(j.t)(),Object(j.f)(r,{key:0,ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.formValues=e}),widgets:t.formWidgetsWithTabindex},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[Object(j.j)("button",{type:"submit",tabindex:t.tabindex,class:"primary",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.submit&&t.submit.apply(t,arguments)},["prevent"]))},Object(j.D)(t.SUBMIT_LABEL),9,["tabindex"])])]}),_:1},8,["modelValue","widgets"])):Object(j.g)("",!0),Object(j.j)(s,{ref:"errorDialog"},null,512)]}),_:1},8,["title"])};V=q;F=Object(j.k)({name:"VerifyAccount",components:{Site:Ee,MyForm:le,ErrorDialog:P},props:{queryParamUsername:{type:String,default:""},queryParamToken:{type:String,default:""}},data:function(){return{formValues:{username:this.queryParamUsername,token:this.queryParamToken},failType:"",successType:"",formWidgets:[{type:"TextBox",name:"username",label:m("Username"),invalidMessage:"",required:!0},{type:"TextBox",name:"token",label:m("Token"),invalidMessage:"",required:!1}]}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({activityLevel:"activity/level"})),{},{TITLE:function(){return m("Account verification")},REQUEST_NEW_TOKEN:function(){return m("Request new token")},VERIFY_ACCOUNT:function(){return m("Verify account")},form:function(){return this.$refs.form},errorDialog:function(){return this.$refs.errorDialog},tabindex:function(){return $t(["selfservice"],this.activityLevel)},formWidgetsWithTabindex:function(){var t=this;return this.formWidgets.map(function(e){return e.tabindex=t.tabindex,e})}}),watch:{queryParamUsername:function(e){this.formValues.username=e},queryParamToken:function(e){this.formValues.token=e}},mounted:function(){var e=this;setTimeout(function(){e.$refs.form.focusFirstInteractable()},100)},methods:{requestNewToken:function(){var t=this;Wt(this.formWidgets,this.formValues)?H(this.$store,"passwordreset/send_verification_token",{username:this.formValues.username}).then(function(e){e.success?t.errorDialog.showError([m("Hello %(username)s,",{username:e.data.username}),m("We have sent you an email to your registered address. Please follow the instructions in the email to verify your account.")],m("Verification token send"),"dialog").then(function(){t.form.focusFirstInteractable()}):"INVALID_INFORMATION"===e.failType&&t.errorDialog.showError(m("The verification token could not be sent. Please verify your input."),m("Failed to send verification token")).then(function(){t.form.focusFirstInteractable()})}).catch(function(e){t.errorDialog.showError(e.message).then(function(){t.form.focusFirstInteractable()})}):this.form.focusFirstInvalid()},verifyAccount:function(){var t=this;Wt(this.formWidgets,this.formValues)?H(this.$store,"passwordreset/verify_contact",{username:this.formValues.username,token:this.formValues.token,method:"verify_email"}).then(function(e){"VERIFIED"===e.successType?(t.$store.dispatch("notifications/addSuccessNotification",{title:m("Welcome, %(username)s",{username:e.data.username}),description:m("Your account has been successfully verified.")}),t.$router.push({name:"portal"})):"ALREADY_VERIFIED"===e.successType?(t.$store.dispatch("notifications/addSuccessNotification",{title:m("Welcome, %(username)s",{username:e.data.username}),description:m("Your account has already been verified.")}),t.$router.push({name:"portal"})):"INVALID_INFORMATION"===e.failType&&(t.errorDialog.showError(m("The account could not be verified. Please verify your input."),m("Verification failed")).then(function(){t.form.focusFirstInteractable()}),t.formValues.token="")}).catch(function(e){t.errorDialog.showError(e.message).then(function(){t.form.focusFirstInteractable()}),t.formValues.token=""}):this.form.focusFirstInvalid()}}});F.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("error-dialog"),c=Object(j.z)("site");return Object(j.t)(),Object(j.f)(c,{title:t.TITLE},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.formValues=e}),widgets:t.formWidgetsWithTabindex},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[t.formValues.username&&t.formValues.token?(Object(j.t)(),Object(j.f)("button",{key:0,type:"submit",tabindex:t.tabindex,class:"primary",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.verifyAccount&&t.verifyAccount.apply(t,arguments)},["prevent"]))},Object(j.D)(t.VERIFY_ACCOUNT),9,["tabindex"])):(Object(j.t)(),Object(j.f)("button",{key:1,type:"submit",tabindex:t.tabindex,onClick:e[2]||(e[2]=Object(j.M)(function(){return t.requestNewToken&&t.requestNewToken.apply(t,arguments)},["prevent"]))},Object(j.D)(t.REQUEST_NEW_TOKEN),9,["tabindex"]))])]}),_:1},8,["modelValue","widgets"]),Object(j.j)(s,{ref:"errorDialog"},null,512)]}),_:1},8,["title"])};q=F;F=Object(j.k)({name:"PasswordForgotten",components:{GuardedSite:B},data:function(){return{formWidgets:[]}},computed:{TITLE:function(){return m("Password forgotten")},SUBTITLE:function(){return m("Forgot your password? Set a new one:")}},methods:{loaded:function(e,t){this.formWidgets=[{type:"RadioBox",name:"method",options:e,label:m("Please choose an option to renew your password."),invalidMessage:"",required:!0}],t.method=null!==(e=null===(e=e[0])||void 0===e?void 0:e.id)&&void 0!==e?e:""},sendToken:function(e){var t=this;H(this.$store,"passwordreset/send_token",e).then(function(){t.$store.dispatch("notifications/addSuccessNotification",{title:m("Token sent"),description:m("Successfully sent Token.")}),t.$router.push({name:"selfserviceNewPassword",query:{username:e.username}})}).catch(function(e){t.$refs.guardedSite.showError(e.message).then(function(){t.$refs.guardedSite.refocus()})})}}});F.render=function(e,t,n,o,i,a){var r=Object(j.z)("guarded-site");return Object(j.t)(),Object(j.f)(r,{ref:"guardedSite",title:e.TITLE,subtitle:e.SUBTITLE,path:"passwordreset/get_reset_methods","password-needed":!1,"guarded-widgets":e.formWidgets,onLoaded:e.loaded,onSave:e.sendToken},null,8,["title","subtitle","guarded-widgets","onLoaded","onSave"])};o=Object(j.k)({name:"NewPassword",components:{MyForm:le,Site:Ee,ErrorDialog:P},props:{queryParamUsername:{type:String,default:""},queryParamToken:{type:String,default:""}},data:function(){var e=[{type:"TextBox",name:"username",label:m("Username"),readonly:!1,invalidMessage:"",required:!0},{type:"TextBox",name:"token",label:m("Token"),readonly:!1,invalidMessage:"",required:!0},{type:"PasswordBox",name:"newPassword",label:m("New password"),invalidMessage:"",required:!0},{type:"PasswordBox",name:"newPassword2",label:m("New password (retype)"),validators:[function(e,t){return Ft(e,t)?m("Please confirm your new password"):""},function(e,t,n,o){return o.newPassword!==t?m("The new passwords do not match"):""}]}];return{formValues:{username:this.queryParamUsername,token:this.queryParamToken,newPassword:"",newPassword2:""},formWidgets:e}},computed:Object(l.a)(Object(l.a)({},Object(o.b)({activityLevel:"activity/level"})),{},{TITLE:function(){return m("Set new password")},SUBTITLE:function(){return""},SUBMIT_LABEL:function(){return m("Change password")},form:function(){return this.$refs.form},errorDialog:function(){return this.$refs.errorDialog},tabindex:function(){return $t(["selfservice"],this.activityLevel)},visibleWidgets:function(){var t=this;return this.formWidgets.filter(function(e){return"username"===e.name?""===t.queryParamUsername:"token"!==e.name||""===t.queryParamToken})},formWidgetsWithTabindex:function(){var t=this;return this.visibleWidgets.map(function(e){return e.tabindex=t.tabindex,e})}}),watch:{queryParamUsername:function(e){this.formValues.username=e},queryParamToken:function(e){this.formValues.token=e}},mounted:function(){var e=this;setTimeout(function(){e.form.focusFirstInteractable()},100)},methods:{submit:function(){var e,t=this;Wt(this.visibleWidgets,this.formValues)?(e={username:this.formValues.username,token:this.formValues.token,password:this.formValues.newPassword},this.$store.dispatch("activateLoadingState"),J("passwordreset/set_password",e).then(function(){t.errorDialog.showError(m("Your password has been successfully changed."),m("Password change successful"),"dialog").then(function(){t.$router.push({name:"portal"})})}).catch(function(e){t.errorDialog.showError(e.message).then(function(){t.form.focusFirstInteractable()})}).finally(function(){t.$store.dispatch("deactivateLoadingState")})):this.form.focusFirstInvalid()}}});o.render=function(t,e,n,o,i,a){var r=Object(j.z)("my-form"),s=Object(j.z)("error-dialog"),c=Object(j.z)("site");return Object(j.t)(),Object(j.f)(c,{title:t.TITLE,subtitle:t.SUBTITLE},{default:Object(j.J)(function(){return[Object(j.j)(r,{ref:"form",modelValue:t.formValues,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.formValues=e}),widgets:t.formWidgetsWithTabindex},{default:Object(j.J)(function(){return[Object(j.j)("footer",null,[Object(j.j)("button",{type:"submit",tabindex:t.tabindex,class:"primary",onClick:e[1]||(e[1]=Object(j.M)(function(){return t.submit&&t.submit.apply(t,arguments)},["prevent"]))},Object(j.D)(t.SUBMIT_LABEL),9,["tabindex"])])]}),_:1},8,["modelValue","widgets"]),Object(j.j)(s,{ref:"errorDialog"},null,512)]}),_:1},8,["title","subtitle"])};var o=o,io={key:0,class:"service-specific-passwords__hint"},ao={key:1,class:"service-specific-passwords__hint"};B=Object(j.k)({name:"ProtectAccount",components:{GuardedSite:B},data:function(){return{radiusPasswordSet:!1,newRadiusPassword:""}},computed:{TITLE:function(){return m("Wireless LAN Password")},SUBTITLE:function(){return m("To login to the WLAN, you need a specific password. The password will be generated by the system and is valid until overwritten. You will be able to retrieve the password upon creation. A new password can be generated at any time, rendering the previous password invalid.")},SUBMIT_LABEL_AFTER_LOADED:function(){return m("Generate WLAN password")},RADIUS_PASSWORD_SET:function(){return m("You have already set a Wireless LAN password. You can overwrite it by clicking on the button below.")},NEW_RADIUS_PASSWORD_1:function(){return m("Your new password is:")},NEW_RADIUS_PASSWORD_2:function(){return m("Please add it to your device now. You will not be able to see it again.")}},methods:{loaded:function(e){var t=this;e.forEach(function(e){"radius"===e.type&&(t.radiusPasswordSet=0<e.set)})},setServiceSpecificPassword:function(e){var t=this;H(this.$store,"passwordreset/set_service_specific_passwords",Object(l.a)(Object(l.a)({},e),{},{password_type:"radius"})).then(function(e){t.radiusPasswordSet=!1,t.newRadiusPassword=e.password}).catch(function(e){t.$store.dispatch("notifications/addErrorNotification",{title:m("Failed to set a password"),description:e.message})})}}});n("bdf6"),B.render=function(e,t,n,o,i,a){var r=Object(j.z)("guarded-site");return Object(j.t)(),Object(j.f)(r,{title:e.TITLE,subtitle:e.SUBTITLE,path:"passwordreset/get_service_specific_passwords","guarded-widgets":[],"submit-label-after-loaded":e.SUBMIT_LABEL_AFTER_LOADED,onLoaded:e.loaded,onSave:e.setServiceSpecificPassword},{default:Object(j.J)(function(){return[e.radiusPasswordSet?(Object(j.t)(),Object(j.f)("div",io,Object(j.D)(e.RADIUS_PASSWORD_SET),1)):Object(j.g)("",!0),e.newRadiusPassword?(Object(j.t)(),Object(j.f)("div",ao,[Object(j.i)(Object(j.D)(e.NEW_RADIUS_PASSWORD_1)+" ",1),Object(j.j)("pre",null,Object(j.D)(e.newRadiusPassword),1),Object(j.i)(" "+Object(j.D)(e.NEW_RADIUS_PASSWORD_2),1)])):Object(j.g)("",!0)]}),_:1},8,["title","subtitle","submit-label-after-loaded","onLoaded","onSave"])};var ro,Ne=[{path:"/",component:A,name:"portal",children:[{path:"selfservice/passwordchange",component:ze,name:"selfservicePasswordChange"},{path:"selfservice/profile",component:I,name:"selfserviceProfile"},{path:"selfservice/createaccount",component:V,name:"selfserviceCreateAccount"},{path:"selfservice/verifyaccount",component:q,name:"selfserviceVerifyAccount",props:function(e){return{queryParamUsername:e.query.username,queryParamToken:e.query.token}}},{path:"selfservice/protectaccount",component:M,name:"selfserviceProtectAccount"},{path:"selfservice/passwordforgotten",component:F,name:"selfservicePasswordForgotten"},{path:"selfservice/newpassword",component:o,name:"selfserviceNewPassword",props:function(e){return{queryParamUsername:e.query.username,queryParamToken:e.query.token}}},{path:"selfservice/servicespecificpasswords",component:B,name:"selfserviceServiceSpecificPasswords"}]},{path:"/:pathMatch(.*)*",component:Ne}],Be=Object(Be.a)({history:Object(Be.b)(),routes:Ne}),Ne=n("3280"),Ne=n.n(Ne);n("9308"),(ro=document.createElement("link")).rel="stylesheet",ro.href="/univention/theme.css",document.head.appendChild(ro),(ro=document.createElement("link")).rel="stylesheet",ro.href="./css/custom.css",document.head.appendChild(ro),window.store=Pe;var Ne=Object(j.e)(W).use(Oe).use(Be).use(Pe).use(Ne.a,{hooks:{afterSanitizeAttributes:function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"))}}}).mount("#app"),so=t.default=Ne},cf6a:function(e,t,n){},d3ce:function(e,t,n){"use strict";n("662f")},d661:function(e,t,n){},da67:function(e,t,n){},dcc0:function(e,t,n){},debc:function(e,t,n){"use strict";n("ba8a")},df6c:function(e,t,n){"use strict";n("6b34")},e0a1:function(e,t,n){"use strict";n("8337")},e443:function(e,t,n){},e67b:function(e,t,n){"use strict";n("6875")},ec08:function(e,t,n){},f608:function(e,t,n){},face:function(e,t,n){"use strict";n("78cc")},fae7:function(e,t,n){"use strict";n("5371")},fafe:function(e,t,n){"use strict";n("9222")}});